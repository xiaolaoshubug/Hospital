<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.yy.hospital.mapper.DoctorsMapper">

    <!--<cache type="com.yy.hospital.util.RedisCache"/>-->

    <resultMap id="doctors-result" type="com.yy.hospital.domain.Doctors">
        <id property="doid" column="DOID" />
        <result property="doname" column="DONAME"/>
        <result property="aname" column="ANAME"/>
        <result property="title" column="TITLE"/>
        <result property="bcost" column="BCOST"/>
        <result property="pcreg" column="PCREG"/>
        <result property="xcreg" column="XCREG"/>
        <result property="info" column="INFO"/>
        <result property="doexist" column="DOEXIST"/>
        <result property="aname" column="ANAME"/>

        <collection property="departs" ofType="com.yy.hospital.domain.Departs">
            <id property="dename" column="DENAME" />
        </collection>

    </resultMap>

    <select id="findAllDr" resultMap="doctors-result">
       select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist
       from admins a JOIN doctors d on a.doid = d.doid
       JOIN  departs de  on de.deid = d.deid
    </select>
    
    
    
    
    <resultMap id="doctors-result01" type="com.yy.hospital.domain.Doctors">
        <id property="doid" column="DOID" />
        <result property="doname" column="DONAME"/>
        <result property="aname" column="ANAME"/>
        <result property="title" column="TITLE"/>
        <result property="bcost" column="BCOST"/>
        <result property="pcreg" column="PCREG"/>
        <result property="xcreg" column="XCREG"/>
        <result property="info" column="INFO"/>
        <result property="doexist" column="DOEXIST"/>

        <result property="monam" column="monam"/>
        <result property="tueam" column="tueam"/>
        <result property="wedam" column="wedam"/>
        <result property="thuam" column="thuam"/>
        <result property="friam" column="friam"/>
        <result property="satam" column="satam"/>
        <result property="sunam" column="sunam"/>
        <result property="monpm" column="monpm"/>
        <result property="tuepm" column="tuepm"/>
        <result property="wedpm" column="wedpm"/>
        <result property="thupm" column="thupm"/>
        <result property="fripm" column="fripm"/>
        <result property="satpm" column="satpm"/>
        <result property="sumpm" column="sumpm"/>
    </resultMap>


    <insert id="insertDr">
        insert into doctors (doname,title,bcost,pcreg,xcreg,info,doexist,deid,
                               monam,tueam,wedam,thuam,friam,satam,sunam,
                               monpm,tuepm,wedpm,thupm,fripm,satpm,sumpm)
        values (#{doname},#{title},#{bcost},#{pcreg},#{xcreg},#{info},#{doexist},#{deid},
                 #{monam},#{tueam},#{wedam},#{thuam},#{friam},#{satam},#{sunam},
                 #{monpm},#{tuepm},#{wedpm},#{thupm},#{fripm},#{satpm},#{sumpm})
    </insert>

</mapper>