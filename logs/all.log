2018-07-14 10:04:30.497  INFO 944 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 944 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 10:04:30.513  INFO 944 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 10:04:30.575  INFO 944 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Sat Jul 14 10:04:30 CST 2018]; root of context hierarchy
2018-07-14 10:04:31.839  INFO 944 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 10:04:31.885  INFO 944 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 10:04:32.322  INFO 944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3bd670e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:04:32.541  INFO 944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d484391c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:04:32.556  INFO 944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:04:32.556  INFO 944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:04:32.572  INFO 944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f958dbce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:04:32.587  INFO 944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:04:32.947  INFO 944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 10:04:32.978  INFO 944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 10:04:32.978  INFO 944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 10:04:32.978  INFO 944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 10:04:32.978  INFO 944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 10:04:32.978  INFO 944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 10:04:34.009  INFO 944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 10:04:34.118  INFO 944 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 10:04:34.118  INFO 944 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3543 ms
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 10:04:34.337  INFO 944 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 10:04:35.319  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 10:04:35.335  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 10:04:35.335  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 10:04:35.335  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 10:04:35.335  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 10:04:35.335  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 10:04:35.335  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 10:04:35.413  INFO 944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f1d0bbc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3968bc60, org.springframework.security.web.header.HeaderWriterFilter@433348bc, org.springframework.web.filter.CorsFilter@4b86ecd7, org.springframework.security.web.authentication.logout.LogoutFilter@895416d, com.yy.hospital.security.JwtAuthenticationTokenFilter@5460b754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227a47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bbacfc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9f023e, org.springframework.security.web.session.SessionManagementFilter@4eba373c, org.springframework.security.web.access.ExceptionTranslationFilter@46c269e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@277b8fa4]
2018-07-14 10:04:35.522  INFO 944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 10:04:35.897  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Sat Jul 14 10:04:30 CST 2018]; root of context hierarchy
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 10:04:35.975  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 10:04:35.990  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 10:04:36.006  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 10:04:36.006  INFO 944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 10:04:36.037  INFO 944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 10:04:36.037  INFO 944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 10:04:36.068  INFO 944 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 10:04:38.658  INFO 944 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 10:04:39.313  INFO 944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 10:04:39.313  INFO 944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 10:04:39.329  INFO 944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 10:04:39.360  INFO 944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 10:04:39.360  INFO 944 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.752 seconds (JVM running for 12.032)
2018-07-14 10:04:39.734  INFO 944 --- [cluster-ClusterId{value='5b495a364892d303b0bea1d3', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 10:07:35.980  INFO 944 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 10:07:35.980  INFO 944 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 10:07:36.000  INFO 944 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-14 10:07:36.047  WARN 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 10:07:36.047  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 10:07:36.296  INFO 944 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 10:07:36.509  INFO 944 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 10:07:36.516 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:36.534 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:36.559 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:36.679 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:36.679 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:36.681 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:37.049  INFO 944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:37.049  INFO 944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:37.049 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:37.049 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:37.049 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:37.049 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:37.051 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:37.056 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:37.059  INFO 944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:37.061  INFO 944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:37.064  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:37.064  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:37.066  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 10:07:37.066  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 10:07:37.066  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:07:37.066  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:07:37.069  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 10:07:37.069  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 10:07:37.069  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:07:37.069  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:07:37.086 DEBUG 944 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 10:07:37.086 DEBUG 944 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 10:07:37.086 DEBUG 944 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 10:07:37.086 DEBUG 944 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 10:07:37.089 DEBUG 944 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-14 10:07:37.089 DEBUG 944 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-14 10:07:37.094 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.094 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.094 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.094 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.101 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.101 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.101 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.101 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.101 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.101 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.104 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.104 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.106 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.109 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.111 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 10:07:37.111 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.111 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.111 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.111 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.114 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.114 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.114 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.114 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.114 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.116 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.116 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.116 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.116 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.116 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.116 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.119 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.119 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.119 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.119 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.119 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.119 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.121 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.121 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.121 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.124 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 10:07:37.126 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.126 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.126 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.126 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.126 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.126 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.129 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.129 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.129 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.129 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.129 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.129 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.131 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.131 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.131 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.131 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.131 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.131 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.134 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.134 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.134 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.134 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.134 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.134 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.136 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.136 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.136 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.136 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.136 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 10:07:37.136 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.139 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.141 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.141 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.141 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.141 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.141 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.144 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.144 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.144 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.144 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.144 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.146 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.146 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.146 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.146 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.146 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.146 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.149 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.149 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.149 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.149 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.149 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.149 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 10:07:37.151 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.151 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.151 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.154 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.154 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.154 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.154 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.154 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.154 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.156 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.159 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.161 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.161 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.161 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.161 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.161 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.161 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.164 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.166 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.169 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.169 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.169 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.169 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.169 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.169 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.171 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.171 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.171 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.171 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.171 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.171 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.174 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.174 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.174 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 10:07:37.174 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.174 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.174 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.176 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.181 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.181 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.181 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.181 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.181 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.181 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.184 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.184 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.184 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.184 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.184 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.184 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 10:07:37.186 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.215 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.186 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.215 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.216 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.216 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.217 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.217 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.217 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.217 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.218 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.218 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.219 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.219 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:07:37.220 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.220 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.221 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:07:37.222 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.222 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:07:37.222 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:07:37.223 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.223 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:07:37.224 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:07:37.224 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.225 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:07:37.225 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:07:37.226 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:07:37.226 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 10:07:37.226  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:37.227  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-14 10:07:37.227  INFO 944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:161
2018-07-14 10:07:37.227 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:07:37.227  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:37.227  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5135c177,{}>
2018-07-14 10:07:37.227  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:161
2018-07-14 10:07:39.060  INFO 944 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:39.078 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:39.078 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:39.085 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:39.095  INFO 944 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:39.103 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:39.103 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:39.105 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:40.123  INFO 944 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:40.123 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:40.123 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:40.125 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:40.130  INFO 944 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:40.133  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:40.133  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 10:07:40.133  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:07:40.133  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 10:07:40.133  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:07:40.138 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 10:07:40.138 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 10:07:40.143 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 10:07:40.143  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:40.143  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@665f9866, com.yy.hospital.domain.Departs@142f4154, com.yy.hospital.domain.Departs@75738ab9, com.yy.hospital.domain.Departs@6db9fe2b, com.yy.hospital.domain.Departs@77bfd752, com.yy.hospital.domain.Departs@19f41d10, com.yy.hospital.domain.Departs@703b7ad5, com.yy.hospital.domain.Departs@52518a5f, com.yy.hospital.domain.Departs@5bddd200, com.yy.hospital.domain.Departs@627858f6]
2018-07-14 10:07:40.143  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-14 10:07:45.416  INFO 944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:45.419 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:45.421 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:45.426 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:45.436  INFO 944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:45.441  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:45.441  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departschangestate
2018-07-14 10:07:45.441  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 10:07:45.441  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.departschangestate
2018-07-14 10:07:45.441  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[9, 1]
2018-07-14 10:07:45.444 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.m.DepartsMapper.updateDeexist      : ==>  Preparing: update departs set deexist=? where deid=? 
2018-07-14 10:07:45.444 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.m.DepartsMapper.updateDeexist      : ==> Parameters: 1(Integer), 9(Integer)
2018-07-14 10:07:45.456 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.m.DepartsMapper.updateDeexist      : <==    Updates: 1
2018-07-14 10:07:45.456  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:45.456  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 10:07:45.456  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-14 10:07:46.756  INFO 944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:46.756 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:46.759 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:46.761 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:46.774  INFO 944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:46.776  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:46.776  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 10:07:46.776  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:07:46.776  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 10:07:46.779  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:07:46.779 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 10:07:46.779 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 10:07:46.784 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 10:07:46.784  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:46.784  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@60e616ff, com.yy.hospital.domain.Departs@56cac270, com.yy.hospital.domain.Departs@39429719, com.yy.hospital.domain.Departs@2feacd1a, com.yy.hospital.domain.Departs@7feb67f6, com.yy.hospital.domain.Departs@7f32e339, com.yy.hospital.domain.Departs@52655999, com.yy.hospital.domain.Departs@2b1eccd2, com.yy.hospital.domain.Departs@f6eda90, com.yy.hospital.domain.Departs@672ddb6f]
2018-07-14 10:07:46.784  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-14 10:07:49.254  INFO 944 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:49.256 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:49.256 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:49.261 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:49.264  INFO 944 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:49.266  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:49.266  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 10:07:49.266  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:07:49.266  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 10:07:49.266  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:07:49.271 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 10:07:49.274 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 10:07:49.279 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 10:07:49.281  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:49.281  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@6d602b8e, com.yy.hospital.domain.Doctors@4f8cebb0, com.yy.hospital.domain.Doctors@2529242a, com.yy.hospital.domain.Doctors@425514f7, com.yy.hospital.domain.Doctors@2e057b68, com.yy.hospital.domain.Doctors@67cc473, com.yy.hospital.domain.Doctors@6a18a8e2, com.yy.hospital.domain.Doctors@ebfa],{}>
2018-07-14 10:07:49.281  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-14 10:07:52.119  INFO 944 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:52.121 DEBUG 944 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:52.121 DEBUG 944 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:52.126 DEBUG 944 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:52.136  INFO 944 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:52.141  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:52.141  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctorschangestate
2018-07-14 10:07:52.141  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 10:07:52.141  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.doctorschangestate
2018-07-14 10:07:52.141  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[1, 7]
2018-07-14 10:07:52.151 DEBUG 944 --- [http-nio-8086-exec-7] c.y.h.m.DoctorsMapper.updateDrDoexist    : ==>  Preparing: update doctors set doexist = ? where doid = ? 
2018-07-14 10:07:52.151 DEBUG 944 --- [http-nio-8086-exec-7] c.y.h.m.DoctorsMapper.updateDrDoexist    : ==> Parameters: 1(Integer), 7(Integer)
2018-07-14 10:07:52.156 DEBUG 944 --- [http-nio-8086-exec-7] c.y.h.m.DoctorsMapper.updateDrDoexist    : <==    Updates: 1
2018-07-14 10:07:52.156  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:52.159  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 10:07:52.159  INFO 944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:18
2018-07-14 10:07:53.604  INFO 944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:07:53.604 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:07:53.606 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:07:53.606 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:07:53.611  INFO 944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:07:53.614  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:07:53.614  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 10:07:53.614  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:07:53.614  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 10:07:53.614  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:07:53.614 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 10:07:53.614 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 10:07:53.621 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 10:07:53.621  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:07:53.621  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@10dd9070, com.yy.hospital.domain.Doctors@2d16e1be, com.yy.hospital.domain.Doctors@433ac394, com.yy.hospital.domain.Doctors@71d634ed, com.yy.hospital.domain.Doctors@d7474b7, com.yy.hospital.domain.Doctors@17f56fb6, com.yy.hospital.domain.Doctors@2c628bf, com.yy.hospital.domain.Doctors@42770556],{}>
2018-07-14 10:07:53.621  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-14 10:08:05.060  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:08:05.063 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:08:05.063 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:08:05.065 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:08:05.068  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:08:05.068  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:08:05.068  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 10:08:05.068  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:08:05.068  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 10:08:05.068  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:08:05.068 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 10:08:05.068 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 10:08:05.070 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 10:08:05.070  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:08:05.070  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@77211d55, com.yy.hospital.domain.Departs@7a29766d, com.yy.hospital.domain.Departs@73192273, com.yy.hospital.domain.Departs@73069bbd, com.yy.hospital.domain.Departs@c32eb3d, com.yy.hospital.domain.Departs@3d197ec8, com.yy.hospital.domain.Departs@7a9c9a2, com.yy.hospital.domain.Departs@40357199, com.yy.hospital.domain.Departs@5b4501a1, com.yy.hospital.domain.Departs@2d5ccb3f]
2018-07-14 10:08:05.070  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 10:29:05.678  INFO 944 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:29:05.678 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:29:05.680 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:29:05.680 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:29:05.688  INFO 944 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:29:05.688  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:29:05.688  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 10:29:05.688  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:29:05.688  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 10:29:05.688  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:29:05.690 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 10:29:05.690 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 10:29:05.690 DEBUG 944 --- [http-nio-8086-exec-8] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 10:29:05.690  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:29:05.693  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@557710d1, com.yy.hospital.domain.Departs@3838969a, com.yy.hospital.domain.Departs@1187cc1e, com.yy.hospital.domain.Departs@7a03bbaa, com.yy.hospital.domain.Departs@179fdda3, com.yy.hospital.domain.Departs@6bef158c, com.yy.hospital.domain.Departs@4427d3d3, com.yy.hospital.domain.Departs@239efe16, com.yy.hospital.domain.Departs@4a055d03, com.yy.hospital.domain.Departs@59d562ba]
2018-07-14 10:29:05.693  INFO 944 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-14 10:29:12.612  INFO 944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:29:12.615 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:29:12.615  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:29:12.615  INFO 944 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 10:29:12.615 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:29:12.615 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:29:12.617 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:29:12.617 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:29:12.620 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:29:12.620 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:29:12.622 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:29:12.622  INFO 944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:29:12.625  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:29:12.625  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 10:29:12.625  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:29:12.625  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 10:29:12.625  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:29:12.625 DEBUG 944 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 10:29:12.625 DEBUG 944 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 10:29:12.627 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:29:12.627  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:29:12.627 DEBUG 944 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 10:29:12.627 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.627 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.630 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 10:29:12.630 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 10:29:12.630 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.630 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.630 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.632  INFO 944 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 10:29:12.632  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 10:29:12.632  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 10:29:12.632  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 10:29:12.632  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 10:29:12.632  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 10:29:12.635 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.637 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.640 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.640 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.642 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.645 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.645 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.645 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.647 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.650 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.652 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.655 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.657 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.660 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.662 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.662 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.662 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.662 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.662 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.662 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 10:29:12.665 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.667 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.670 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.672 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.675 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.677 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.680 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.682 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.685 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.687 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.690 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.692 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.695 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.697 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.700 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.702 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 10:29:12.705  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:29:12.705  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@512ec76c,{}>
2018-07-14 10:29:12.705  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:80
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 10:29:12.705 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 10:29:12.707 DEBUG 944 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 10:29:12.707  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 10:29:12.707  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 10:29:12.723  INFO 944 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:91
2018-07-14 10:34:56.930  INFO 3500 --- [main] com.yy.hospital.AdminsTest               : Starting AdminsTest on 2016-20161105NU with PID 3500 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 10:34:56.930  INFO 3500 --- [main] com.yy.hospital.AdminsTest               : No active profile set, falling back to default profiles: default
2018-07-14 10:34:57.039  INFO 3500 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1458ed9c: startup date [Sat Jul 14 10:34:57 CST 2018]; root of context hierarchy
2018-07-14 10:34:58.974  INFO 3500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 10:34:59.020  INFO 3500 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 10:34:59.816  INFO 3500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fda8802] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:35:00.175  INFO 3500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$a888503c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:35:00.190  INFO 3500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:35:00.206  INFO 3500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@260ff5b7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:35:00.222  INFO 3500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$cd5cf2ee] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:35:00.237  INFO 3500 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 10:35:01.766  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 10:35:02.525  INFO 3500 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fe533ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@443faa85, org.springframework.security.web.header.HeaderWriterFilter@127705e4, org.springframework.web.filter.CorsFilter@5377414a, org.springframework.security.web.authentication.logout.LogoutFilter@697173d9, com.yy.hospital.security.JwtAuthenticationTokenFilter@4e83a98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41da3aee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b38b1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17aa8a11, org.springframework.security.web.session.SessionManagementFilter@40f35e52, org.springframework.security.web.access.ExceptionTranslationFilter@625a9c5d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20a7953c]
2018-07-14 10:35:02.977  INFO 3500 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 10:35:03.367  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1458ed9c: startup date [Sat Jul 14 10:34:57 CST 2018]; root of context hierarchy
2018-07-14 10:35:03.492  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 10:35:03.492  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 10:35:03.508  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 10:35:03.523  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 10:35:03.523  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 10:35:03.523  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 10:35:03.523  INFO 3500 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 10:35:03.586  INFO 3500 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 10:35:03.586  INFO 3500 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 10:35:03.617  INFO 3500 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 10:35:06.674  INFO 3500 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 10:35:07.751  INFO 3500 --- [cluster-ClusterId{value='5b49615a4892d30dac35607e', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 10:35:07.766  INFO 3500 --- [main] com.yy.hospital.AdminsTest               : Started AdminsTest in 11.85 seconds (JVM running for 14.096)
2018-07-14 10:35:08.016  INFO 3500 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 10:35:08.312  INFO 3500 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 10:35:08.328 DEBUG 3500 --- [main] c.y.h.mapper.DoctorsMapper.insertDr      : ==>  Preparing: insert into doctors (doname,title,bcost,pcreg,xcreg,info,doexist,deid, monam,tueam,wedam,thuam,friam,satam,sunam, monpm,tuepm,wedpm,thupm,fripm,satpm,sumpm) values (?,?,?,?,?,?,?,?, ?,?,?,?,?,?,?, ?,?,?,?,?,?,?) 
2018-07-14 10:35:08.344 DEBUG 3500 --- [main] c.y.h.mapper.DoctorsMapper.insertDr      : ==> Parameters: 插入(String), 插入(String), 2312.0(Double), 100(Integer), 100(Integer), 插入(String), 1(Integer), 100(Integer), 100(Integer), null, null, null, null, null, null, null, null, null, null, null, null, null
2018-07-14 10:35:08.359 DEBUG 3500 --- [main] c.y.h.mapper.DoctorsMapper.insertDr      : <==    Updates: 1
2018-07-14 10:35:08.359 DEBUG 3500 --- [main] c.y.h.m.AdminsMapper.insertAdminsReDoid  : ==>  Preparing: insert into admins (aname,pwd,state,aexist,doid) values(?,?,2,1,@@Identity) 
2018-07-14 10:35:08.359 DEBUG 3500 --- [main] c.y.h.m.AdminsMapper.insertAdminsReDoid  : ==> Parameters: 杨扬(String), 123456(String)
2018-07-14 10:35:08.375 DEBUG 3500 --- [main] c.y.h.m.AdminsMapper.insertAdminsReDoid  : <==    Updates: 1
2018-07-14 10:35:08.375  INFO 3500 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1458ed9c: startup date [Sat Jul 14 10:34:57 CST 2018]; root of context hierarchy
2018-07-14 10:35:08.765  INFO 3500 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-14 10:35:08.780  INFO 3500 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-14 11:12:23.655  WARN 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 11:12:23.656  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 11:12:23.659 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:23.659 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:23.666 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:23.800 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:23.800 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:23.801 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:24.128  INFO 944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:24.128 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:24.128 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:24.129  INFO 944 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:24.130 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:24.130 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:24.131 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:24.134 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:24.135  INFO 944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:24.136  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:12:24.136  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 11:12:24.136  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:12:24.136  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 11:12:24.136  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:12:24.136 DEBUG 944 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:12:24.136 DEBUG 944 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:12:24.138  INFO 944 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:24.139 DEBUG 944 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:12:24.139 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.140 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.141  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:12:24.141  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 11:12:24.141  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:12:24.141  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 11:12:24.141  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:12:24.142 DEBUG 944 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:12:24.142 DEBUG 944 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:12:24.143 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.143 DEBUG 944 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:12:24.144 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.144 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.144 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.144 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.145 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.146 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.146 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.147 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.148 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.148 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.149 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.150 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.150 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.150 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.150 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.150 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.151 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.152 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.152 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.152 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.152 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.153 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.153 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.153 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.154 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.154 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.155 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.155 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.155 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.156 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.156 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.156 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.156 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.157 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:12:24.157 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.157 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.158 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.158 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.158 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.158 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.161 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.161 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.161 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.161 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.161 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.161 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.162 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.162 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.163 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.163 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.163 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.163 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.164 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.164 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.165 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.165 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.165 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.165 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.166 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.166 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.166 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.166 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.166 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.167 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:12:24.168 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.168 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.168 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.168 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.168 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.168 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.169 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.169 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.170 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.170 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.171 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.170 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.172 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.172 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.172 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.172 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.172 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.172 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.173 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.173 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.174 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.174 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.174 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.174 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.175 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.175 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.175 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.175 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.176 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.176 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:12:24.177 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.177 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.177 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.177 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.177 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.177 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.178 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.178 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.179 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.179 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.179 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.180 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.180 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.180 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.180 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.181 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.182 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.183 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.183 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.183 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.183 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.183 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.183 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.184 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.184 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.185 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.185 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.185 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:12:24.185 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.186 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.186 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.186 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.186 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.187 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.188 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.189 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.189 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.189 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.189 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.189 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.189 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.190 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.190 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.191 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.191 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.191 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.191 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.192 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.192 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.192 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.192 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.192 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.194 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.195 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.195 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.196 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.196 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.196 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:12:24.196 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.197 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.197 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.197 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.197 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.197 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.197 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.198 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.198 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.199 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.199 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.199 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.199 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.200 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.200 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.200 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.200 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.200 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.200 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.201 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.201 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.202 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.202 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.202 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.202 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.203 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.203 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.203 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.203 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.203 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.203 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:12:24.204 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.204 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.204 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.204 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.205 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.205 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.205 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.205 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.206 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.206 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.206 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.208 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.208 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.208 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.209 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.209 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.209 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.209 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.210 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.210 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.210 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.210 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.211 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.211 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.211 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.211 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.212 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.212 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.212 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:12:24.212 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.213 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.213 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.213 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.213 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.214 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.214 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.214 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.214 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.215 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.215 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.215 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.215 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.216 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.216 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.216 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.216 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.216 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.216 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.217 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.217 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.218 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.218 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.218 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.218 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.218 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.218 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.219 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.219 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.219 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:12:24.219 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.220 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.220 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.220 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.220 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.220 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.220 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.221 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.221 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.221 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:12:24.221 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:12:24.222 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.222 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.222 DEBUG 944 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:12:24.222 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:12:24.223  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:12:24.223  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 11:12:24.223 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:12:24.223  INFO 944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:87
2018-07-14 11:12:24.223 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.224 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:12:24.224 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:12:24.225 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.225 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:12:24.226 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:12:24.226 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:12:24.227 DEBUG 944 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:12:24.227  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:12:24.227  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5cd7e24a,{}>
2018-07-14 11:12:24.227  INFO 944 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:86
2018-07-14 11:12:24.400  INFO 944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:24.400 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:24.401 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:24.404 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:24.423  INFO 944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:24.426 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:24.426 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:24.448 DEBUG 944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:28.289  INFO 944 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:28.290 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:28.290 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:28.291 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:28.294  INFO 944 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:28.295  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:12:28.295  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:12:28.295  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:12:28.295  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:12:28.295  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:12:28.295 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:12:28.295 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:12:28.297 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:12:28.297  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:12:28.297  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@63440286, com.yy.hospital.domain.Departs@303ee8c, com.yy.hospital.domain.Departs@32738cf5, com.yy.hospital.domain.Departs@47ffe232, com.yy.hospital.domain.Departs@46c9879, com.yy.hospital.domain.Departs@180761f6, com.yy.hospital.domain.Departs@363d5227, com.yy.hospital.domain.Departs@eebc8a0, com.yy.hospital.domain.Departs@6e243654, com.yy.hospital.domain.Departs@4d0fe2b7]
2018-07-14 11:12:28.297  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 11:12:30.230  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:30.231 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:30.231 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:30.233 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:30.236  INFO 944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:30.237  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:12:30.238  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 11:12:30.238  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:12:30.238  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 11:12:30.238  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:12:30.238 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 11:12:30.238 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 11:12:30.240 DEBUG 944 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 11:12:30.241  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:12:30.241  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@43119c7f, com.yy.hospital.domain.Doctors@6d3fa701, com.yy.hospital.domain.Doctors@19a7733b, com.yy.hospital.domain.Doctors@2518ee45, com.yy.hospital.domain.Doctors@6aa57cfd, com.yy.hospital.domain.Doctors@7ab2d907, com.yy.hospital.domain.Doctors@58ae43c1, com.yy.hospital.domain.Doctors@3a26e457],{}>
2018-07-14 11:12:30.241  INFO 944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 11:12:31.891  INFO 944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:31.893 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:31.893 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:31.895 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:31.902  INFO 944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:31.903  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:12:31.903  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:12:31.903  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:12:31.903  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:12:31.903  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:12:31.904 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:12:31.904 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:12:31.905 DEBUG 944 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:12:31.905  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:12:31.905  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@2bf2bf5f, com.yy.hospital.domain.Departs@52e33963, com.yy.hospital.domain.Departs@6b7b6c90, com.yy.hospital.domain.Departs@1d3358e2, com.yy.hospital.domain.Departs@2305145c, com.yy.hospital.domain.Departs@68e6197e, com.yy.hospital.domain.Departs@58c9f71e, com.yy.hospital.domain.Departs@5fba50ad, com.yy.hospital.domain.Departs@541608f2, com.yy.hospital.domain.Departs@ce3c6e7]
2018-07-14 11:12:31.905  INFO 944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 11:12:40.669  INFO 944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:12:40.670 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:12:40.670 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:12:40.672 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:12:40.677  INFO 944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:12:40.678  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:12:40.678  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:12:40.678  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:12:40.678  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:12:40.678  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:12:40.678 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:12:40.679 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:12:40.680 DEBUG 944 --- [http-nio-8086-exec-3] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:12:40.680  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:12:40.680  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@754135a7, com.yy.hospital.domain.Departs@7b7eb956, com.yy.hospital.domain.Departs@4f36fc3a, com.yy.hospital.domain.Departs@6983dd9f, com.yy.hospital.domain.Departs@15133105, com.yy.hospital.domain.Departs@1b298ef8, com.yy.hospital.domain.Departs@6386668b, com.yy.hospital.domain.Departs@149e3041, com.yy.hospital.domain.Departs@1889a0ce, com.yy.hospital.domain.Departs@4f00b369]
2018-07-14 11:12:40.680  INFO 944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 11:21:22.132  INFO 944 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:21:22.133 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:21:22.133 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:21:22.134 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:21:22.137  INFO 944 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:21:22.139  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:21:22.139  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:21:22.139  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:21:22.139  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:21:22.139  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:21:22.140 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:21:22.140 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:21:22.141 DEBUG 944 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:21:22.142  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:21:22.142  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@1f8f0dcc, com.yy.hospital.domain.Departs@539468e2, com.yy.hospital.domain.Departs@6f5ec408, com.yy.hospital.domain.Departs@54d75cac, com.yy.hospital.domain.Departs@3351ca97, com.yy.hospital.domain.Departs@43727767, com.yy.hospital.domain.Departs@5a958585, com.yy.hospital.domain.Departs@34c99047, com.yy.hospital.domain.Departs@9f1f13b, com.yy.hospital.domain.Departs@59e8662d]
2018-07-14 11:21:22.142  INFO 944 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 11:27:57.794  INFO 4032 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 4032 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:27:57.798  INFO 4032 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:27:57.856  INFO 4032 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 11:27:57 CST 2018]; root of context hierarchy
2018-07-14 11:27:58.722  INFO 4032 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:27:58.761  INFO 4032 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:27:59.443  INFO 4032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$42cc1837] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:27:59.739  INFO 4032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$db79e071] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:27:59.754  INFO 4032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:27:59.761  INFO 4032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5aae8eb5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:27:59.776  INFO 4032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4e8323] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:27:59.802  INFO 4032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:28:00.338  INFO 4032 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:28:00.359  INFO 4032 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:28:00.359  INFO 4032 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:28:00.363  INFO 4032 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:28:00.364  INFO 4032 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:28:00.364  INFO 4032 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:28:01.415  INFO 4032 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:28:01.549  INFO 4032 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:28:01.549  INFO 4032 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3693 ms
2018-07-14 11:28:01.807  INFO 4032 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:28:01.808  INFO 4032 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:28:01.808  INFO 4032 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:28:01.808  INFO 4032 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:28:01.809  INFO 4032 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:28:01.809  INFO 4032 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:28:01.809  INFO 4032 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:28:03.248  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:28:03.249  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:28:03.249  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:28:03.249  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:28:03.249  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:28:03.249  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:28:03.249  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:28:03.375  INFO 4032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5460b754, org.springframework.security.web.context.SecurityContextPersistenceFilter@26f46fa6, org.springframework.security.web.header.HeaderWriterFilter@6d1dcdff, org.springframework.web.filter.CorsFilter@5ff85945, org.springframework.security.web.authentication.logout.LogoutFilter@71a06021, com.yy.hospital.security.JwtAuthenticationTokenFilter@a9f023e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9596ce8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65b97f47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c27a3a2, org.springframework.security.web.session.SessionManagementFilter@767a014e, org.springframework.security.web.access.ExceptionTranslationFilter@6920614, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6cd64ee8]
2018-07-14 11:28:03.491  INFO 4032 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:28:03.816  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 11:27:57 CST 2018]; root of context hierarchy
2018-07-14 11:28:03.883  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:28:03.885  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:28:03.885  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:28:03.886  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:28:03.888  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:28:03.888  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:28:03.888  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:28:03.889  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:28:03.890  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:28:03.890  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:28:03.890  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:28:03.891  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:28:03.892  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:28:03.892  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:28:03.895  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:28:03.896  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:28:03.897  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:28:03.897  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:28:03.897  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:28:03.900  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:28:03.900  INFO 4032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:28:03.948  INFO 4032 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:28:03.949  INFO 4032 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:28:03.966  INFO 4032 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:28:06.298  INFO 4032 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:28:06.920  INFO 4032 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:28:06.921  INFO 4032 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:28:06.928  INFO 4032 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:28:06.964  INFO 4032 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:28:06.967  INFO 4032 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.731 seconds (JVM running for 11.467)
2018-07-14 11:28:07.345  INFO 4032 --- [cluster-ClusterId{value='5b496dc64892d30fc0068bfe', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:28:22.168  INFO 4032 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 11:28:22.169  INFO 4032 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 11:28:22.193  INFO 4032 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-14 11:28:22.227  WARN 4032 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 11:28:22.227  INFO 4032 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 11:28:22.437  INFO 4032 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 11:28:22.558  INFO 4032 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 11:28:22.565 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:22.581 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:22.599 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:22.717 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:22.717 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:22.719 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:23.166  INFO 4032 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:28:23.166  INFO 4032 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:28:23.166  INFO 4032 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:28:23.167 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:23.167 DEBUG 4032 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:23.168 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:23.168 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:23.168 DEBUG 4032 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:23.168 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:23.170 DEBUG 4032 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:23.173 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:23.173 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:23.177  INFO 4032 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:28:23.178  INFO 4032 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:28:23.178  INFO 4032 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:28:23.182 DEBUG 4032 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:23.182  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:28:23.182  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:28:23.183  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 11:28:23.183  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 11:28:23.183 DEBUG 4032 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:23.183  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:28:23.183  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:28:23.185 DEBUG 4032 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:23.186  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 11:28:23.186  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 11:28:23.186  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:28:23.186  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:28:23.205 DEBUG 4032 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:28:23.205 DEBUG 4032 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:28:23.206 DEBUG 4032 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:28:23.206 DEBUG 4032 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:28:23.211 DEBUG 4032 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:28:23.212 DEBUG 4032 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:28:23.216 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.216 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.217 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.217 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.220 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.221 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.221 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.221 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.222 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.222 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.223 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.223 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.224 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.224 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.225 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.225 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.226 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.226 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.227 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.227 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.228 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.229 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.229 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.230 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.231 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.231 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.232 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.233 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:28:23.233 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.234 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.234 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.235 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.236 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.236 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.236 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.237 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.237 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.238 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.238 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.239 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.239 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.240 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.240 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.240 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.241 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.241 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.242 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.242 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.243 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.243 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.243 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.243 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.244 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.245 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.245 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.245 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.246 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.246 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:28:23.247 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.247 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.247 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.247 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.248 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.248 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.249 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.249 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.250 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.251 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.251 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.251 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.252 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.252 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.253 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.253 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.253 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.253 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.254 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.254 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.255 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.255 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.255 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.255 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.256 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.256 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.257 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.257 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.257 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.257 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:28:23.258 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.258 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.259 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.259 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.259 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.259 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.260 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.260 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.261 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.261 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.261 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.261 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.262 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.262 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.263 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.263 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.263 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.263 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.265 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.265 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.265 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.265 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.265 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.265 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.267 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.267 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.267 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.267 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.267 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.267 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:28:23.268 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.268 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.269 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.269 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.269 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.270 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.271 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.271 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.271 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.272 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.272 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.272 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.273 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.273 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.274 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.274 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.274 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.275 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.275 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.276 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.276 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.276 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.277 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.277 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.278 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.278 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.278 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.279 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.279 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.280 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.280 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.280 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:28:23.280 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.281 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.281 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.282 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.282 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.282 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.282 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.283 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.283 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.284 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.284 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.284 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.284 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.285 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.285 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.286 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.286 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.286 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.286 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.287 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.287 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.288 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.288 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.288 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.289 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.290 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.290 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.290 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.290 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:28:23.291 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.291 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.292 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.292 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.292 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.292 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.293 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.293 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.294 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.294 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.294 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.294 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.295 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.295 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.296 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.296 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.296 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.296 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.297 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.297 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.298 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.298 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.298 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.298 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.299 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.299 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.300 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.300 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.301 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.301 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.301 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.301 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:28:23.302 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.303 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.303 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.304 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.304 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.304 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.305 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.305 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.306 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.306 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.307 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.307 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.308 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.309 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.309 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.310 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.311 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.311 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.311 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.311 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.311 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.312 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.312 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.313 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.313 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.313 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.313 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.314 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.314 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.315 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.315 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.315 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.315 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:28:23.316 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.316 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.317 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.317 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.317 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.317 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.318 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.318 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.319 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.319 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:28:23.319 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.319 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.320 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.320 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:28:23.321 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:28:23.321 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:28:23.321 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.321 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.322 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:28:23.322 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:28:23.323 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:28:23.323 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.323  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:28:23.324  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@d8b6833,{}>
2018-07-14 11:28:23.324  INFO 4032 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:141
2018-07-14 11:28:23.325 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:28:23.325 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:28:23.325 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:28:23.328 DEBUG 4032 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:28:23.328  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:28:23.328  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 11:28:23.332  INFO 4032 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:149
2018-07-14 11:28:28.483  INFO 4032 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:28:28.484 DEBUG 4032 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:28.484 DEBUG 4032 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:28.486 DEBUG 4032 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:28.490  INFO 4032 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:28:28.491  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:28:28.491  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 11:28:28.491  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:28:28.491  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 11:28:28.491  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:28:28.497 DEBUG 4032 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 11:28:28.497 DEBUG 4032 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 11:28:28.501 DEBUG 4032 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 11:28:28.501  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:28:28.501  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@358a9cf6, com.yy.hospital.domain.Doctors@173010d3, com.yy.hospital.domain.Doctors@7fc5043e, com.yy.hospital.domain.Doctors@36f1a643, com.yy.hospital.domain.Doctors@577de147, com.yy.hospital.domain.Doctors@405cc5f3, com.yy.hospital.domain.Doctors@17efdd32, com.yy.hospital.domain.Doctors@2c97a232],{}>
2018-07-14 11:28:28.501  INFO 4032 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-14 11:28:29.678  INFO 4032 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:28:29.679 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:29.679 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:29.680 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:29.684  INFO 4032 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:28:29.685  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:28:29.685  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:28:29.685  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:28:29.685  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:28:29.685  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:28:29.688 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:28:29.688 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:28:29.691 DEBUG 4032 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:28:29.692  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:28:29.692  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@447a4c69, com.yy.hospital.domain.Departs@4a125c45, com.yy.hospital.domain.Departs@3553585a, com.yy.hospital.domain.Departs@3d5a14df, com.yy.hospital.domain.Departs@2bd51e19, com.yy.hospital.domain.Departs@73fd9f52, com.yy.hospital.domain.Departs@5cc398ff, com.yy.hospital.domain.Departs@31528354, com.yy.hospital.domain.Departs@32f476b1, com.yy.hospital.domain.Departs@2dec68b2]
2018-07-14 11:28:29.692  INFO 4032 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-14 11:28:52.734  INFO 4032 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:28:52.734 DEBUG 4032 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:28:52.735 DEBUG 4032 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:28:52.738 DEBUG 4032 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:28:52.742  INFO 4032 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:29:27.932  INFO 4032 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:29:27.933 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:29:27.933 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:29:27.935 DEBUG 4032 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:29:27.938  INFO 4032 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:30:31.644  INFO 1428 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 1428 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:30:31.691  INFO 1428 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:30:31.746  INFO 1428 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c41ed1d: startup date [Sat Jul 14 11:30:31 CST 2018]; root of context hierarchy
2018-07-14 11:30:32.594  INFO 1428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:30:32.630  INFO 1428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:30:33.235  INFO 1428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$38fd565a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:30:33.459  INFO 1428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d1ab1e94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:30:33.473  INFO 1428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:30:33.477  INFO 1428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bb8855f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:30:33.483  INFO 1428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f67fc146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:30:33.502  INFO 1428 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:30:33.984  INFO 1428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:30:34.014  INFO 1428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:30:34.014  INFO 1428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:30:34.024  INFO 1428 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:30:34.024  INFO 1428 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:30:34.025  INFO 1428 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:30:35.068  INFO 1428 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:30:35.196  INFO 1428 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:30:35.197  INFO 1428 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3450 ms
2018-07-14 11:30:35.399  INFO 1428 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:30:35.400  INFO 1428 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:30:35.400  INFO 1428 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:30:35.400  INFO 1428 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:30:35.401  INFO 1428 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:30:35.401  INFO 1428 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:30:35.401  INFO 1428 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:30:36.297  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:30:36.298  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:30:36.298  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:30:36.298  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:30:36.298  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:30:36.298  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:30:36.298  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:30:36.400  INFO 1428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dffc764, org.springframework.security.web.context.SecurityContextPersistenceFilter@433348bc, org.springframework.security.web.header.HeaderWriterFilter@51c959a4, org.springframework.web.filter.CorsFilter@39e7cac2, org.springframework.security.web.authentication.logout.LogoutFilter@476fe690, com.yy.hospital.security.JwtAuthenticationTokenFilter@4b6e1c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@102ecc22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@767a014e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@561b61ed, org.springframework.security.web.session.SessionManagementFilter@6069dd38, org.springframework.security.web.access.ExceptionTranslationFilter@6ede46f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6dfa915a]
2018-07-14 11:30:36.549  INFO 1428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:30:36.877  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c41ed1d: startup date [Sat Jul 14 11:30:31 CST 2018]; root of context hierarchy
2018-07-14 11:30:36.943  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:30:36.945  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:30:36.946  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:30:36.946  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:30:36.948  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:30:36.949  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:30:36.950  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:30:36.950  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:30:36.952  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:30:36.953  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:30:36.953  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:30:36.954  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:30:36.955  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:30:36.955  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:30:36.958  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:30:36.959  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:30:36.960  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:30:36.960  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:30:36.960  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:30:36.962  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:30:36.963  INFO 1428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:30:37.014  INFO 1428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:30:37.014  INFO 1428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:30:37.032  INFO 1428 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:30:39.425  INFO 1428 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:30:40.072  INFO 1428 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:30:40.074  INFO 1428 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:30:40.080  INFO 1428 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:30:40.119  INFO 1428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:30:40.123  INFO 1428 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.551 seconds (JVM running for 11.128)
2018-07-14 11:30:40.471  INFO 1428 --- [cluster-ClusterId{value='5b496e5f4892d305944fd611', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:30:45.115  INFO 1428 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 11:30:45.115  INFO 1428 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 11:30:45.139  INFO 1428 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-14 11:30:45.284  INFO 1428 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:30:45.302  INFO 1428 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 11:30:45.433  INFO 1428 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 11:30:45.439 DEBUG 1428 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:30:45.454 DEBUG 1428 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:30:45.472 DEBUG 1428 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:30:45.481  INFO 1428 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:30:45.500  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:30:45.500  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:30:45.500  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:30:45.502  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:30:45.502  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:30:45.514 DEBUG 1428 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:30:45.514 DEBUG 1428 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:30:45.518 DEBUG 1428 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:30:45.519  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:30:45.519  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@40ec6335, com.yy.hospital.domain.Departs@5746c837, com.yy.hospital.domain.Departs@2f598799, com.yy.hospital.domain.Departs@196ef857, com.yy.hospital.domain.Departs@3ab8c584, com.yy.hospital.domain.Departs@5bdeb594, com.yy.hospital.domain.Departs@38589439, com.yy.hospital.domain.Departs@569a6f25, com.yy.hospital.domain.Departs@2af20497, com.yy.hospital.domain.Departs@42e6648]
2018-07-14 11:30:45.519  INFO 1428 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:19
2018-07-14 11:30:58.465  INFO 1428 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:30:58.467 DEBUG 1428 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:30:58.468 DEBUG 1428 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:30:58.470 DEBUG 1428 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:30:58.474  INFO 1428 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:31:42.537  INFO 2304 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 2304 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:31:42.541  INFO 2304 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:31:42.603  INFO 2304 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 11:31:42 CST 2018]; root of context hierarchy
2018-07-14 11:31:43.511  INFO 2304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:31:43.556  INFO 2304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:31:44.298  INFO 2304 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f7350fad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:31:44.584  INFO 2304 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8fe2d7e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:31:44.610  INFO 2304 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:31:44.630  INFO 2304 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@76954a33' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:31:44.643  INFO 2304 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b4b77a99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:31:44.667  INFO 2304 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:31:45.256  INFO 2304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:31:45.461  INFO 2304 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:31:45.461  INFO 2304 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:31:45.467  INFO 2304 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:31:45.467  INFO 2304 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:31:45.468  INFO 2304 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:31:46.531  INFO 2304 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:31:46.687  INFO 2304 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:31:46.688  INFO 2304 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4085 ms
2018-07-14 11:31:46.966  INFO 2304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:31:46.967  INFO 2304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:31:46.967  INFO 2304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:31:46.967  INFO 2304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:31:46.968  INFO 2304 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:31:46.968  INFO 2304 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:31:46.969  INFO 2304 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:31:48.415  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:31:48.415  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:31:48.415  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:31:48.415  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:31:48.416  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:31:48.416  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:31:48.416  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:31:48.514  INFO 2304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b200971, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ae4a1f, org.springframework.security.web.header.HeaderWriterFilter@26dc9bd5, org.springframework.web.filter.CorsFilter@7a61da68, org.springframework.security.web.authentication.logout.LogoutFilter@4c6007fb, com.yy.hospital.security.JwtAuthenticationTokenFilter@1a2bcd56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63c12e52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0e7ecd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68d7a2df, org.springframework.security.web.session.SessionManagementFilter@26f46fa6, org.springframework.security.web.access.ExceptionTranslationFilter@558756be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5460b754]
2018-07-14 11:31:48.656  INFO 2304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:31:48.949  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 11:31:42 CST 2018]; root of context hierarchy
2018-07-14 11:31:49.017  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:31:49.019  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:31:49.020  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:31:49.020  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:31:49.022  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:31:49.023  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:31:49.024  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:31:49.024  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:31:49.025  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:31:49.025  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:31:49.026  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:31:49.026  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:31:49.027  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:31:49.027  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:31:49.031  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:31:49.032  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:31:49.034  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:31:49.034  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:31:49.035  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:31:49.037  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:31:49.038  INFO 2304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:31:49.086  INFO 2304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:31:49.086  INFO 2304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:31:49.105  INFO 2304 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:31:51.503  INFO 2304 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:31:52.136  INFO 2304 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:31:52.137  INFO 2304 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:31:52.144  INFO 2304 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:31:52.183  INFO 2304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:31:52.188  INFO 2304 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.184 seconds (JVM running for 11.772)
2018-07-14 11:31:52.542  INFO 2304 --- [cluster-ClusterId{value='5b496ea74892d309006beb43', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:32:16.991  INFO 9132 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9132 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:32:16.995  INFO 9132 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:32:17.055  INFO 9132 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Sat Jul 14 11:32:17 CST 2018]; root of context hierarchy
2018-07-14 11:32:18.014  INFO 9132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:32:18.059  INFO 9132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:32:18.598  INFO 9132 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f0708f3e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:32:18.824  INFO 9132 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$891e5778] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:32:18.840  INFO 9132 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:32:18.846  INFO 9132 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@57fae983' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:32:18.858  INFO 9132 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$adf2fa2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:32:18.877  INFO 9132 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:32:19.432  INFO 9132 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:32:19.493  INFO 9132 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:32:19.493  INFO 9132 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:32:19.518  INFO 9132 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:32:19.518  INFO 9132 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:32:19.518  INFO 9132 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:32:20.564  INFO 9132 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:32:20.701  INFO 9132 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:32:20.701  INFO 9132 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3646 ms
2018-07-14 11:32:20.908  INFO 9132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:32:20.909  INFO 9132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:32:20.909  INFO 9132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:32:20.909  INFO 9132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:32:20.910  INFO 9132 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:32:20.910  INFO 9132 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:32:20.911  INFO 9132 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:32:21.806  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:32:21.807  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:32:21.807  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:32:21.807  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:32:21.807  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:32:21.807  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:32:21.807  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:32:21.903  INFO 9132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f1d0bbc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3968bc60, org.springframework.security.web.header.HeaderWriterFilter@433348bc, org.springframework.web.filter.CorsFilter@7011a01a, org.springframework.security.web.authentication.logout.LogoutFilter@895416d, com.yy.hospital.security.JwtAuthenticationTokenFilter@5460b754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227a47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bbacfc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9f023e, org.springframework.security.web.session.SessionManagementFilter@4eba373c, org.springframework.security.web.access.ExceptionTranslationFilter@46c269e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@277b8fa4]
2018-07-14 11:32:22.040  INFO 9132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:32:22.358  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Sat Jul 14 11:32:17 CST 2018]; root of context hierarchy
2018-07-14 11:32:22.427  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:32:22.429  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:32:22.429  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:32:22.430  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:32:22.432  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:32:22.433  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:32:22.433  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:32:22.434  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:32:22.435  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:32:22.435  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:32:22.436  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:32:22.437  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:32:22.438  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:32:22.438  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:32:22.441  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:32:22.441  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:32:22.442  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:32:22.442  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:32:22.443  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:32:22.445  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:32:22.446  INFO 9132 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:32:22.498  INFO 9132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:32:22.498  INFO 9132 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:32:22.517  INFO 9132 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:32:24.963  INFO 9132 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:32:25.626  INFO 9132 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:32:25.628  INFO 9132 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:32:25.635  INFO 9132 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:32:25.674  INFO 9132 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:32:25.679  INFO 9132 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.559 seconds (JVM running for 11.536)
2018-07-14 11:32:26.038  INFO 9132 --- [cluster-ClusterId{value='5b496ec84892d323ac114191', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:32:29.924  INFO 9132 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 11:32:29.924  INFO 9132 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 11:32:29.946  INFO 9132 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-14 11:32:30.070  INFO 9132 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:32:30.087  INFO 9132 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 11:32:30.213  INFO 9132 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 11:32:30.220 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:32:30.236 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:32:30.253 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:32:30.263  INFO 9132 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:32:34.884  INFO 9132 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:32:34.886 DEBUG 9132 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:32:34.886 DEBUG 9132 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:32:34.890 DEBUG 9132 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:32:34.896  INFO 9132 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:32:34.900  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:32:34.900  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 11:32:34.901  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:32:34.902  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 11:32:34.902  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:32:34.916 DEBUG 9132 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 11:32:34.917 DEBUG 9132 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 11:32:34.923 DEBUG 9132 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 11:32:34.924  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:32:34.924  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@6c00bb9e, com.yy.hospital.domain.Doctors@4d043e6a, com.yy.hospital.domain.Doctors@6b37d23b, com.yy.hospital.domain.Doctors@1c7a0443, com.yy.hospital.domain.Doctors@75cf8019, com.yy.hospital.domain.Doctors@195407a4, com.yy.hospital.domain.Doctors@4ca7b8bf, com.yy.hospital.domain.Doctors@b3e574],{}>
2018-07-14 11:32:34.924  INFO 9132 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:24
2018-07-14 11:32:36.002  INFO 9132 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:32:36.003 DEBUG 9132 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:32:36.004 DEBUG 9132 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:32:36.007 DEBUG 9132 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:32:36.011  INFO 9132 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:32:36.013  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:32:36.013  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:32:36.013  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:32:36.013  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:32:36.013  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:32:36.020 DEBUG 9132 --- [http-nio-8086-exec-5] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:32:36.021 DEBUG 9132 --- [http-nio-8086-exec-5] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:32:36.024 DEBUG 9132 --- [http-nio-8086-exec-5] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:32:36.025  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:32:36.025  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@401ee3f4, com.yy.hospital.domain.Departs@132cad3d, com.yy.hospital.domain.Departs@1a427654, com.yy.hospital.domain.Departs@38723f1c, com.yy.hospital.domain.Departs@f446aa5, com.yy.hospital.domain.Departs@79777b35, com.yy.hospital.domain.Departs@708e4299, com.yy.hospital.domain.Departs@592d094b, com.yy.hospital.domain.Departs@75904189, com.yy.hospital.domain.Departs@377c32dd]
2018-07-14 11:32:36.025  INFO 9132 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-14 11:32:48.090  INFO 9132 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:32:48.091 DEBUG 9132 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:32:48.093 DEBUG 9132 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:32:48.096 DEBUG 9132 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:32:48.102  INFO 9132 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:32:58.017  INFO 9132 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:32:58.018 DEBUG 9132 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:32:58.019 DEBUG 9132 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:32:58.022 DEBUG 9132 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:32:58.027  INFO 9132 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:33:36.188  INFO 9132 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:33:36.189 DEBUG 9132 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:33:36.189 DEBUG 9132 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:33:36.191 DEBUG 9132 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:33:36.194  INFO 9132 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:33:36.195  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:33:36.195  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:33:36.195  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:33:36.196  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:33:36.196  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:33:36.196 DEBUG 9132 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:33:36.196 DEBUG 9132 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:33:36.199 DEBUG 9132 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:33:36.200  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:33:36.200  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@77cbbc91, com.yy.hospital.domain.Departs@26249433, com.yy.hospital.domain.Departs@476c6e20, com.yy.hospital.domain.Departs@3dcb75a2, com.yy.hospital.domain.Departs@174e79be, com.yy.hospital.domain.Departs@1549f268, com.yy.hospital.domain.Departs@3170938f, com.yy.hospital.domain.Departs@57f08666, com.yy.hospital.domain.Departs@331786af, com.yy.hospital.domain.Departs@6917e817]
2018-07-14 11:33:36.200  INFO 9132 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-14 11:33:56.416  INFO 9132 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:33:56.417 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:33:56.417 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:33:56.419 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:33:56.426  INFO 9132 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:33:56.427  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:33:56.427  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 11:33:56.427  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:33:56.427  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 11:33:56.427  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:33:56.427 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 11:33:56.428 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 11:33:56.434 DEBUG 9132 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 11:33:56.435  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:33:56.435  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@24e2a33c, com.yy.hospital.domain.Doctors@62be0d34, com.yy.hospital.domain.Doctors@667cdf58, com.yy.hospital.domain.Doctors@27b1d526, com.yy.hospital.domain.Doctors@16fb69af, com.yy.hospital.domain.Doctors@43e01e9, com.yy.hospital.domain.Doctors@4388829, com.yy.hospital.domain.Doctors@2d89756d],{}>
2018-07-14 11:33:56.435  INFO 9132 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-14 11:34:25.988  INFO 9132 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:34:25.989 DEBUG 9132 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:34:25.989 DEBUG 9132 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:34:25.992 DEBUG 9132 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:34:25.997  INFO 9132 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:34:25.999  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:34:25.999  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:34:25.999  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:34:25.999  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:34:25.999  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:34:25.999 DEBUG 9132 --- [http-nio-8086-exec-4] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:34:25.999 DEBUG 9132 --- [http-nio-8086-exec-4] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:34:26.001 DEBUG 9132 --- [http-nio-8086-exec-4] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:34:26.001  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:34:26.002  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@591dfdf7, com.yy.hospital.domain.Departs@77ea4c3f, com.yy.hospital.domain.Departs@15e95a26, com.yy.hospital.domain.Departs@72fca205, com.yy.hospital.domain.Departs@44381be8, com.yy.hospital.domain.Departs@61962ce4, com.yy.hospital.domain.Departs@3ef1729a, com.yy.hospital.domain.Departs@298a13cb, com.yy.hospital.domain.Departs@2de9ba49, com.yy.hospital.domain.Departs@7dc8421c]
2018-07-14 11:34:26.002  INFO 9132 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 11:38:29.625  INFO 9132 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:38:29.626 DEBUG 9132 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:38:29.626 DEBUG 9132 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:38:29.630 DEBUG 9132 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:38:29.633  INFO 9132 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:39:42.194  INFO 3528 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3528 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:39:42.198  INFO 3528 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:39:42.262  INFO 3528 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Sat Jul 14 11:39:42 CST 2018]; root of context hierarchy
2018-07-14 11:39:43.268  INFO 3528 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:39:43.305  INFO 3528 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:39:43.914  INFO 3528 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3d856899] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:39:44.213  INFO 3528 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d63330d3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:39:44.231  INFO 3528 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:39:44.238  INFO 3528 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@79a1728c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:39:44.259  INFO 3528 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fb07d385] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:39:44.295  INFO 3528 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:39:44.857  INFO 3528 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:39:44.877  INFO 3528 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:39:44.878  INFO 3528 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:39:44.882  INFO 3528 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:39:44.882  INFO 3528 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:39:44.883  INFO 3528 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:39:45.925  INFO 3528 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:39:46.025  INFO 3528 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:39:46.026  INFO 3528 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3764 ms
2018-07-14 11:39:46.227  INFO 3528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:39:46.228  INFO 3528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:39:46.228  INFO 3528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:39:46.228  INFO 3528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:39:46.229  INFO 3528 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:39:46.229  INFO 3528 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:39:46.229  INFO 3528 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:39:47.134  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:39:47.134  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:39:47.134  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:39:47.134  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:39:47.134  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:39:47.134  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:39:47.135  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:39:47.277  INFO 3528 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dffc764, org.springframework.security.web.context.SecurityContextPersistenceFilter@433348bc, org.springframework.security.web.header.HeaderWriterFilter@51c959a4, org.springframework.web.filter.CorsFilter@3143f89b, org.springframework.security.web.authentication.logout.LogoutFilter@476fe690, com.yy.hospital.security.JwtAuthenticationTokenFilter@4b6e1c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@102ecc22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@767a014e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@561b61ed, org.springframework.security.web.session.SessionManagementFilter@6069dd38, org.springframework.security.web.access.ExceptionTranslationFilter@6ede46f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6dfa915a]
2018-07-14 11:39:47.394  INFO 3528 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:39:47.684  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Sat Jul 14 11:39:42 CST 2018]; root of context hierarchy
2018-07-14 11:39:47.748  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:39:47.750  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:39:47.750  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:39:47.751  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:39:47.752  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:39:47.753  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:39:47.753  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:39:47.753  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:39:47.754  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:39:47.755  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:39:47.755  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:39:47.756  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:39:47.757  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:39:47.757  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:39:47.760  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:39:47.761  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:39:47.762  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:39:47.762  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:39:47.762  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:39:47.765  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:39:47.765  INFO 3528 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:39:47.815  INFO 3528 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:39:47.815  INFO 3528 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:39:47.834  INFO 3528 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:39:50.311  INFO 3528 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:39:50.957  INFO 3528 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:39:50.959  INFO 3528 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:39:50.965  INFO 3528 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:39:51.001  INFO 3528 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:39:51.005  INFO 3528 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.265 seconds (JVM running for 10.827)
2018-07-14 11:39:51.358  INFO 3528 --- [cluster-ClusterId{value='5b4970864892d30dc82f4618', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:50:45.776  INFO 3528 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 11:50:45.777  INFO 3528 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 11:50:45.801  INFO 3528 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-14 11:50:45.840  WARN 3528 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 11:50:45.840  INFO 3528 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 11:50:46.053  INFO 3528 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 11:50:46.186  INFO 3528 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 11:50:46.193 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:46.210 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:46.225 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:46.343 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:46.343 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:46.345 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:46.696  INFO 3528 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:50:46.697  INFO 3528 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:50:46.697 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:46.696  INFO 3528 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:50:46.697 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:46.698 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:46.698 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:46.698 DEBUG 3528 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:46.698 DEBUG 3528 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:46.700 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:46.702 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:46.706  INFO 3528 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:50:46.707  INFO 3528 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:50:46.711 DEBUG 3528 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:46.712  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:50:46.712  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:50:46.712  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 11:50:46.712  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 11:50:46.712  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:50:46.712  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:50:46.715  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 11:50:46.715  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 11:50:46.715  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:50:46.715  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:50:46.715  INFO 3528 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:50:46.721 DEBUG 3528 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:46.721 DEBUG 3528 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:46.724 DEBUG 3528 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:46.733 DEBUG 3528 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:50:46.733 DEBUG 3528 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:50:46.733 DEBUG 3528 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:50:46.733 DEBUG 3528 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:50:46.737 DEBUG 3528 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:50:46.738 DEBUG 3528 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:50:46.743 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.743 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.743 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.743 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.745 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.745 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.747 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.747 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.747 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.747 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.748 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.748 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.749 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.749 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.750 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.750 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.751 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.751 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.752 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.752 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.752 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.752 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.753 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.754 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.754 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.755 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.756 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.756 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:50:46.756 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.758 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.759 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.759 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.759 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.760 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.761 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.761 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.761 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.761 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.761 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.762 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.763 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.763 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.763 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.764 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.764 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.764 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.765 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.766 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.766 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.766 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.767 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.767 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.768 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.768 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.768 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.768 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.769 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.769 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:50:46.770 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.770 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.771 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.771 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.771 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.771 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.772 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.772 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.773 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.773 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.774 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.774 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.775 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.775 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.776 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.776 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.776 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.776 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.777 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.777 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.778 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.778 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.778 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.778 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.779 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.779 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.780 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.780 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.780 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.780 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:50:46.781 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.781 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.782 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.782 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.782 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.782 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.783 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.783 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.784 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.784 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.784 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.785 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.786 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.786 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.786 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.786 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.787 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.787 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.788 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.788 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.789 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.789 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.789 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.789 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.790 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.790 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.790 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.790 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.790 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.791 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:50:46.792 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.792 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.792 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.792 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.792 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.792 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.793 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.793 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.794 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.794 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.794 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.794 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.795 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.795 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.796 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.796 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.796 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.797 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.798 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.798 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.798 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.798 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.799 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.799 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.800 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.800 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.800 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.800 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.800 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.801 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:50:46.801 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.801 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.802 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.802 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.802 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.803 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.804 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.804 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.804 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.805 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.805 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.805 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.806 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.806 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.806 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.806 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.807 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.807 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.808 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.808 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.808 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.808 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.808 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.808 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.809 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.810 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.810 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.811 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.811 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.812 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.812 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.812 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.812 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:50:46.813 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.813 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.813 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.813 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.814 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.814 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.815 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.815 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.815 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.815 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.815 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.815 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.816 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.816 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.817 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.817 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.817 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.817 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.819 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.819 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.819 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.819 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.819 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.819 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.820 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.820 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.821 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.821 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.821 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.821 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:50:46.822 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.822 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.822 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.822 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.823 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.823 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.824 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.824 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.824 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.824 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.825 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.825 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.826 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.826 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.826 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.826 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.827 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.827 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.828 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.828 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.828 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.828 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.828 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.828 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.829 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.829 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.829 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.829 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.830 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:50:46.831 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.832 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.832 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.832 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.832 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.832 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.832 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.833 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.833 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.834 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.834 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.834 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.834 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.835 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.835 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.835 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:50:46.835 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:50:46.835 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.837 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.838 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:50:46.838 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:50:46.838 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:50:46.838 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:50:46.838 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.838 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.839 DEBUG 3528 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:50:46.839 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:50:46.839 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:50:46.840 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:50:46.840  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:50:46.840  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@94e7110,{}>
2018-07-14 11:50:46.840  INFO 3528 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:128
2018-07-14 11:50:46.841 DEBUG 3528 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:50:46.841  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:50:46.841  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 11:50:46.843  INFO 3528 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:131
2018-07-14 11:50:52.211  INFO 3528 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:50:52.213 DEBUG 3528 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:52.213 DEBUG 3528 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:52.215 DEBUG 3528 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:52.219  INFO 3528 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:50:52.220  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:50:52.220  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 11:50:52.220  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:50:52.220  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 11:50:52.220  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:50:52.227 DEBUG 3528 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 11:50:52.227 DEBUG 3528 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 11:50:52.230 DEBUG 3528 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 11:50:52.230  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:50:52.230  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@5701a40, com.yy.hospital.domain.Doctors@c36b81, com.yy.hospital.domain.Doctors@32c743b9, com.yy.hospital.domain.Doctors@c48aa5c, com.yy.hospital.domain.Doctors@96f038f, com.yy.hospital.domain.Doctors@12ebfe40, com.yy.hospital.domain.Doctors@1ab9ad2f, com.yy.hospital.domain.Doctors@536aee6e],{}>
2018-07-14 11:50:52.230  INFO 3528 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-14 11:50:56.487  INFO 3528 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:50:56.488 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:50:56.489 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:50:56.491 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:50:56.494  INFO 3528 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:50:56.495  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:50:56.495  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:50:56.495  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:50:56.495  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:50:56.495  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:50:56.498 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:50:56.498 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:50:56.500 DEBUG 3528 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:50:56.501  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:50:56.501  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@8bce7d3, com.yy.hospital.domain.Departs@b3cf8f0, com.yy.hospital.domain.Departs@6832959e, com.yy.hospital.domain.Departs@c668b04, com.yy.hospital.domain.Departs@630b6724, com.yy.hospital.domain.Departs@f9ce8cd, com.yy.hospital.domain.Departs@737e12c5, com.yy.hospital.domain.Departs@4bf88905, com.yy.hospital.domain.Departs@73f2e519, com.yy.hospital.domain.Departs@1bc0a12a]
2018-07-14 11:50:56.501  INFO 3528 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 11:51:07.965  INFO 3528 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:51:07.966 DEBUG 3528 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:51:07.966 DEBUG 3528 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:51:07.969 DEBUG 3528 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:51:07.972  INFO 3528 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:52:07.266  INFO 5656 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 5656 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:52:07.270  INFO 5656 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:52:07.330  INFO 5656 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Sat Jul 14 11:52:07 CST 2018]; root of context hierarchy
2018-07-14 11:52:08.259  INFO 5656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:52:08.302  INFO 5656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:52:08.967  INFO 5656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dea0d1dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:52:09.228  INFO 5656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$774e9a17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:52:09.244  INFO 5656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:52:09.251  INFO 5656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@982bb90' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:52:09.262  INFO 5656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9c233cc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:52:09.301  INFO 5656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:52:09.784  INFO 5656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:52:09.815  INFO 5656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:52:09.816  INFO 5656 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:52:09.821  INFO 5656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:52:09.821  INFO 5656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:52:09.821  INFO 5656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:52:10.890  INFO 5656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:52:11.060  INFO 5656 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:52:11.063  INFO 5656 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3733 ms
2018-07-14 11:52:11.330  INFO 5656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:52:11.330  INFO 5656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:52:11.330  INFO 5656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:52:11.331  INFO 5656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:52:11.331  INFO 5656 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:52:11.331  INFO 5656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:52:11.332  INFO 5656 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:52:12.504  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:52:12.505  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:52:12.505  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:52:12.505  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:52:12.505  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:52:12.505  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:52:12.506  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:52:12.749  INFO 5656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77774571, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f236de0, org.springframework.security.web.header.HeaderWriterFilter@6920614, org.springframework.web.filter.CorsFilter@fce722f, org.springframework.security.web.authentication.logout.LogoutFilter@cdb2d95, com.yy.hospital.security.JwtAuthenticationTokenFilter@277b8fa4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@767a014e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21bd20ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd64ee8, org.springframework.security.web.session.SessionManagementFilter@43045f9f, org.springframework.security.web.access.ExceptionTranslationFilter@60f70249, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18d910b3]
2018-07-14 11:52:13.081  INFO 5656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:52:13.461  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Sat Jul 14 11:52:07 CST 2018]; root of context hierarchy
2018-07-14 11:52:13.526  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:52:13.528  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:52:13.528  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:52:13.528  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:52:13.530  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:52:13.530  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:52:13.530  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:52:13.530  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:52:13.531  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:52:13.532  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:52:13.532  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:52:13.533  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:52:13.533  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:52:13.534  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:52:13.537  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:52:13.537  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:52:13.538  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:52:13.538  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:52:13.539  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:52:13.541  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:52:13.542  INFO 5656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:52:13.593  INFO 5656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:52:13.593  INFO 5656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:52:13.612  INFO 5656 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:52:16.303  INFO 5656 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:52:16.980  INFO 5656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:52:16.982  INFO 5656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:52:16.989  INFO 5656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:52:17.032  INFO 5656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:52:17.036  INFO 5656 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.314 seconds (JVM running for 12.49)
2018-07-14 11:52:17.341  INFO 5656 --- [cluster-ClusterId{value='5b4973704892d316183228c2', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:52:30.862  INFO 5656 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 11:52:30.862  INFO 5656 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 11:52:30.888  INFO 5656 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-14 11:52:31.034  INFO 5656 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:52:31.057  INFO 5656 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 11:52:31.210  INFO 5656 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 11:52:31.217 DEBUG 5656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:52:31.233 DEBUG 5656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:52:31.251 DEBUG 5656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:52:31.259  INFO 5656 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:52:31.278  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:52:31.278  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:52:31.279  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:52:31.280  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:52:31.280  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:52:31.293 DEBUG 5656 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:52:31.294 DEBUG 5656 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:52:31.298 DEBUG 5656 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:52:31.298  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:52:31.298  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@59eed6dd, com.yy.hospital.domain.Departs@794c9f8d, com.yy.hospital.domain.Departs@3788ab90, com.yy.hospital.domain.Departs@42a59199, com.yy.hospital.domain.Departs@6d52ff2e, com.yy.hospital.domain.Departs@70ffa5fe, com.yy.hospital.domain.Departs@259445a, com.yy.hospital.domain.Departs@6c1e24d1, com.yy.hospital.domain.Departs@16cf1df3, com.yy.hospital.domain.Departs@1b128a81]
2018-07-14 11:52:31.299  INFO 5656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:21
2018-07-14 11:52:41.424  INFO 5656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:52:41.427 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:52:41.428 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:52:41.431 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:52:41.434  INFO 5656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:53:42.802  INFO 5656 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:53:42.803 DEBUG 5656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:53:42.803 DEBUG 5656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:53:42.805 DEBUG 5656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:53:42.809  INFO 5656 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:53:42.810  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:53:42.810  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:53:42.810  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:53:42.810  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:53:42.810  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:53:42.810 DEBUG 5656 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:53:42.811 DEBUG 5656 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:53:42.815 DEBUG 5656 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:53:42.816  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:53:42.816  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@64eb8f95, com.yy.hospital.domain.Departs@1bfb3ecc, com.yy.hospital.domain.Departs@658d7405, com.yy.hospital.domain.Departs@3bcdd905, com.yy.hospital.domain.Departs@3e26ece, com.yy.hospital.domain.Departs@41ad2d20, com.yy.hospital.domain.Departs@4f8e444c, com.yy.hospital.domain.Departs@1adea949, com.yy.hospital.domain.Departs@ada30c2, com.yy.hospital.domain.Departs@22b6d894]
2018-07-14 11:53:42.816  INFO 5656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 11:56:11.263  WARN 5656 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 11:56:11.263  INFO 5656 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 11:56:11.400 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:11.401 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:11.402 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:11.516 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:11.517 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:11.518 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:12.153  INFO 5656 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:56:12.153  INFO 5656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:56:12.155 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:12.155 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:12.155 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:12.156 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:12.159 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:12.163 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:12.166  INFO 5656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:56:12.167  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:56:12.167  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 11:56:12.167  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:56:12.167  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 11:56:12.168  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:56:12.169  INFO 5656 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:56:12.171  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:56:12.171  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 11:56:12.171  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:56:12.171  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 11:56:12.171  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:56:12.176 DEBUG 5656 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:56:12.176 DEBUG 5656 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 11:56:12.176 DEBUG 5656 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:56:12.176 DEBUG 5656 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 11:56:12.180 DEBUG 5656 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:56:12.181 DEBUG 5656 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 11:56:12.183  INFO 5656 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:56:12.183 DEBUG 5656 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:12.184 DEBUG 5656 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:12.185 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.186 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.186 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.186 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.188 DEBUG 5656 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:12.189 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.190 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.191 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.191 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.191 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.192 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.193 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.193  INFO 5656 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:56:12.194 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.194 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.195 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.196 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.196 DEBUG 5656 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:12.196 DEBUG 5656 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:12.197 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.197 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.198 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.198 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.198 DEBUG 5656 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:12.199 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.200 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.200 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.200 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.200 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.201 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.201 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.202 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.202 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.202 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.202 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.203 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 11:56:12.203 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.204 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.204 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.206 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.206 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.206 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.207 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.207 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.208 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.208 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.208 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.208 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.209 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.210 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.210 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.211 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.211 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.211 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.213 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.213 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.214 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.214 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.214 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.214 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.215 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.215 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.216 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.216 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.216 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 11:56:12.216 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.217 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.217 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.218 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.218 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.219 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.219 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.220 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.220 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.220 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.220 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.221 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.221 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.222 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.222 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.223 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.223 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.223 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.223 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.225 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.225 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.225 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.225 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.225 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.225 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.226 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.226 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.227 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.227 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.227 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 11:56:12.227 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.228 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.228 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.229 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.229 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.229 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.229 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.230 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.230 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.231 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.231 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.231 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.231 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.232 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.232 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.233 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.233 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.233 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.233 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.234 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.234 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.235 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.235 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.235 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.235 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.236 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.236 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.236 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.237 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.237 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 11:56:12.237 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.238 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.238 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.238 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.238 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.238 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.238 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.240 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.240 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.241 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.241 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.241 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.241 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.242 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.242 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.243 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.243 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.243 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.243 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.244 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.244 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.245 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.245 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.245 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.245 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.246 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.247 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.247 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 11:56:12.248 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.248 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.249 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.249 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.249 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.249 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.250 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.250 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.250 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.250 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.251 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.251 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.252 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.252 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.252 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.252 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.252 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.252 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.254 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.254 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.254 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.254 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.254 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.254 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.255 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.255 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.256 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.256 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.256 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.257 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 11:56:12.258 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.258 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.258 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.258 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.259 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.259 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.260 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.260 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.260 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.260 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.260 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.260 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.261 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.261 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.262 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.262 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.262 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.263 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.264 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.264 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.264 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.264 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.264 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.264 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.265 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.265 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.266 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.266 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.266 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.266 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 11:56:12.267 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.267 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.268 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.268 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.268 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.269 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.270 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.270 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.270 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.270 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.270 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.270 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.271 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.271 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.272 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.272 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.272 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.272 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.273 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.273 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.273 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.273 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.274 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.275 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.276 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.276 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.276 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.276 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.276 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.276 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 11:56:12.277 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.277 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.278 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.278 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.278 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.278 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.279 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.279 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.279 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.279 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.279 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.281 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.281 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.281 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.282 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.282 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 11:56:12.282 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.282 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.283 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.283 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 11:56:12.283 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 11:56:12.283 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 11:56:12.284 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.284 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.285 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 11:56:12.285 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 11:56:12.285 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 11:56:12.285 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 11:56:12.285 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.285 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 11:56:12.286 DEBUG 5656 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 11:56:12.286 DEBUG 5656 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 11:56:12.287  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:56:12.287  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:56:12.287  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@392decb,{}>
2018-07-14 11:56:12.287  INFO 5656 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:116
2018-07-14 11:56:12.287  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 11:56:12.290  INFO 5656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:123
2018-07-14 11:56:15.931  INFO 5656 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:56:15.932 DEBUG 5656 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:15.932 DEBUG 5656 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:15.934 DEBUG 5656 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:15.938  INFO 5656 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:56:15.939  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:56:15.939  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 11:56:15.939  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:56:15.939  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 11:56:15.939  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:56:15.944 DEBUG 5656 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 11:56:15.944 DEBUG 5656 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 11:56:15.949 DEBUG 5656 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 11:56:15.949  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:56:15.950  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@20f62ffe, com.yy.hospital.domain.Doctors@5a7e0d9, com.yy.hospital.domain.Doctors@42cd3edc, com.yy.hospital.domain.Doctors@2a6ac43c, com.yy.hospital.domain.Doctors@3bf28750, com.yy.hospital.domain.Doctors@1e919df, com.yy.hospital.domain.Doctors@2af9fce0, com.yy.hospital.domain.Doctors@564e96a7],{}>
2018-07-14 11:56:15.950  INFO 5656 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-14 11:56:24.333  INFO 5656 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:56:24.334 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:24.335 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:24.337 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:24.343  INFO 5656 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:56:24.345  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:56:24.345  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:56:24.345  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:56:24.345  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:56:24.345  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:56:24.345 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:56:24.345 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:56:24.348 DEBUG 5656 --- [http-nio-8086-exec-9] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:56:24.349  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:56:24.349  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@58597038, com.yy.hospital.domain.Departs@40a7a11e, com.yy.hospital.domain.Departs@3a941da7, com.yy.hospital.domain.Departs@757cc309, com.yy.hospital.domain.Departs@66b7a52e, com.yy.hospital.domain.Departs@1be557b7, com.yy.hospital.domain.Departs@1061849, com.yy.hospital.domain.Departs@12f1f7eb, com.yy.hospital.domain.Departs@49b4ae4e, com.yy.hospital.domain.Departs@785d1020]
2018-07-14 11:56:24.349  INFO 5656 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-14 11:56:38.047  INFO 5656 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:56:38.048 DEBUG 5656 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:56:38.049 DEBUG 5656 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:56:38.052 DEBUG 5656 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:56:38.058  INFO 5656 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:57:20.519  INFO 6160 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6160 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 11:57:20.524  INFO 6160 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 11:57:20.598  INFO 6160 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 11:57:20 CST 2018]; root of context hierarchy
2018-07-14 11:57:21.533  INFO 6160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:57:21.572  INFO 6160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 11:57:22.130  INFO 6160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5fdcdc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:57:22.406  INFO 6160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8eab9600] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:57:22.423  INFO 6160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:57:22.430  INFO 6160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bb8855f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:57:22.441  INFO 6160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b38038b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:57:22.462  INFO 6160 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 11:57:23.001  INFO 6160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 11:57:23.035  INFO 6160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 11:57:23.036  INFO 6160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 11:57:23.042  INFO 6160 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 11:57:23.042  INFO 6160 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 11:57:23.043  INFO 6160 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 11:57:24.118  INFO 6160 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 11:57:24.256  INFO 6160 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 11:57:24.256  INFO 6160 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3659 ms
2018-07-14 11:57:24.537  INFO 6160 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 11:57:24.538  INFO 6160 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 11:57:24.538  INFO 6160 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 11:57:24.538  INFO 6160 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 11:57:24.539  INFO 6160 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 11:57:24.539  INFO 6160 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 11:57:24.539  INFO 6160 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 11:57:25.706  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 11:57:25.707  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 11:57:25.707  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 11:57:25.707  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 11:57:25.707  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 11:57:25.708  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 11:57:25.708  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 11:57:25.900  INFO 6160 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a4f272, org.springframework.security.web.context.SecurityContextPersistenceFilter@255eaa6b, org.springframework.security.web.header.HeaderWriterFilter@3968bc60, org.springframework.web.filter.CorsFilter@3143f89b, org.springframework.security.web.authentication.logout.LogoutFilter@117525fe, com.yy.hospital.security.JwtAuthenticationTokenFilter@3ee0b4f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a0e7ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@122d6c22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79b84841, org.springframework.security.web.session.SessionManagementFilter@2849434b, org.springframework.security.web.access.ExceptionTranslationFilter@6403e24c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed7821]
2018-07-14 11:57:26.273  INFO 6160 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:57:26.660  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 11:57:20 CST 2018]; root of context hierarchy
2018-07-14 11:57:26.727  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 11:57:26.729  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 11:57:26.730  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 11:57:26.730  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:57:26.731  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:57:26.732  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 11:57:26.732  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 11:57:26.733  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:57:26.734  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Double,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer)
2018-07-14 11:57:26.734  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 11:57:26.734  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 11:57:26.735  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 11:57:26.736  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 11:57:26.736  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 11:57:26.740  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 11:57:26.740  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 11:57:26.741  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 11:57:26.741  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 11:57:26.742  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 11:57:26.745  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 11:57:26.746  INFO 6160 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 11:57:26.806  INFO 6160 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:57:26.806  INFO 6160 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 11:57:26.824  INFO 6160 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 11:57:29.408  INFO 6160 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 11:57:30.058  INFO 6160 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 11:57:30.060  INFO 6160 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 11:57:30.066  INFO 6160 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 11:57:30.103  INFO 6160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 11:57:30.107  INFO 6160 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.034 seconds (JVM running for 12.111)
2018-07-14 11:57:30.452  INFO 6160 --- [cluster-ClusterId{value='5b4974a94892d31810de0bc5', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 11:59:58.837  INFO 6160 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 11:59:58.838  INFO 6160 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 11:59:58.860  INFO 6160 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-14 11:59:59.015  INFO 6160 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:59:59.015  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 11:59:59.035  INFO 6160 --- [http-nio-8086-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 11:59:59.162  INFO 6160 --- [http-nio-8086-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 11:59:59.172 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:59:59.172 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 11:59:59.188 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:59:59.188 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 11:59:59.205 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:59:59.205 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 11:59:59.213  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:59:59.213  INFO 6160 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 11:59:59.240  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 11:59:59.241  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 11:59:59.241  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 11:59:59.243  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 11:59:59.244  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 11:59:59.259 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 11:59:59.259 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 11:59:59.262 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 11:59:59.263  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 11:59:59.263  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@55397595, com.yy.hospital.domain.Departs@30d404c7, com.yy.hospital.domain.Departs@6c6d71f4, com.yy.hospital.domain.Departs@7028c635, com.yy.hospital.domain.Departs@6e238078, com.yy.hospital.domain.Departs@7ec15347, com.yy.hospital.domain.Departs@79247fba, com.yy.hospital.domain.Departs@4f0b17c5, com.yy.hospital.domain.Departs@3dd96e1c, com.yy.hospital.domain.Departs@4976598b]
2018-07-14 11:59:59.263  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:23
2018-07-14 12:01:09.761  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:01:09.763 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:01:09.764 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:01:09.766 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:01:09.770  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:01:09.771  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:01:09.771  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:01:09.771  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:01:09.771  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:01:09.772  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:01:09.772 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:01:09.772 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:01:09.775 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:01:09.775  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:01:09.776  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@2f27de24, com.yy.hospital.domain.Departs@20a2acb2, com.yy.hospital.domain.Departs@107af302, com.yy.hospital.domain.Departs@3c09c43e, com.yy.hospital.domain.Departs@2dcefb65, com.yy.hospital.domain.Departs@183c1552, com.yy.hospital.domain.Departs@5f9907b4, com.yy.hospital.domain.Departs@2d43004d, com.yy.hospital.domain.Departs@778cc353, com.yy.hospital.domain.Departs@f62ce75]
2018-07-14 12:01:09.776  INFO 6160 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-14 12:01:22.141  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:01:22.142 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:01:22.142 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:01:22.144 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:01:22.148  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:06.838  WARN 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 12:02:06.838  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 12:02:06.978 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:06.978 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:06.980 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:07.093 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:07.093 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:07.095 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:07.398  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:07.399 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:07.399 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:07.400  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:07.402  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:07.403 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:07.404 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:07.407 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:07.408 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:07.409 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:07.412 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:07.413 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:07.417  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:07.418  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:07.419  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:02:07.419  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 12:02:07.419  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:02:07.419  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 12:02:07.419  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:02:07.420  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:07.421  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:02:07.422  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 12:02:07.422  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:02:07.423  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 12:02:07.423  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:02:07.422 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:07.423 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:07.425 DEBUG 6160 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:02:07.426 DEBUG 6160 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:02:07.426 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:07.425 DEBUG 6160 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:02:07.429 DEBUG 6160 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:02:07.428 DEBUG 6160 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:02:07.434 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.434 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.436 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.441 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.442 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.444 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.445 DEBUG 6160 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:02:07.445 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.446 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.448 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.448 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.448 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.449 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.450 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.451 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.452 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.453 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.453 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.454 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.454 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.454 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.455 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.455 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.456 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.457 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.457 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.457 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.458 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.458 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.459 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.460 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.460 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.460 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.460 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.461 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.462 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.463 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.463 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.463 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.463 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.465 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.465 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:02:07.466 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.466 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.467 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.467 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.468 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.470 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.470 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.470 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.472 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.472 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.472 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.472 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.473 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.473 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.474 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.474 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.474 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.474 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.475 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.475 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.476 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.476 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.477 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.477 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.477 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.477 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.478 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.478 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.479 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.479 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.479 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.479 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:02:07.480 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.480 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.481 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.481 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.481 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.482 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.483 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.483 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.484 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.484 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.484 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.484 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.485 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.485 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.486 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.486 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.486 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.486 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.487 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.487 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.488 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.488 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.488 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.488 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.489 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.489 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.490 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.490 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.490 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.490 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:02:07.492 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.492 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.492 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.492 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.493 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.493 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.494 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.494 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.494 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.494 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.494 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.494 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.495 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.495 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.496 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.496 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.496 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.496 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.498 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.498 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.498 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.498 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.498 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.498 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.499 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.499 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.500 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.500 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.500 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.501 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:02:07.502 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.502 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.502 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.503 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.503 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.503 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.504 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.504 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.504 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.505 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.504 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.505 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.506 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.506 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.507 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.507 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.507 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.507 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.508 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.509 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.509 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.510 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.510 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.510 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.510 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.510 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.510 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.511 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.511 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.512 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.512 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.512 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.512 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:02:07.513 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.513 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.513 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.513 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.513 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.513 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.515 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.515 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.515 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.515 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.515 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.515 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.516 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.516 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.517 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.517 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.517 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.518 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.519 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.519 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.519 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.519 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.519 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.519 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.520 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.520 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.521 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.521 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.521 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.521 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:02:07.522 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.522 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.523 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.523 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.523 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.524 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.525 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.525 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.525 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.525 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.525 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.525 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.526 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.526 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.527 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.527 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.527 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.527 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.528 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.528 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.528 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.528 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.529 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.530 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.531 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.531 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.531 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.531 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.531 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:02:07.531 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.532 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.532 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.533 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.533 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.533 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.533 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.534 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.534 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.534 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.534 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.534 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.534 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.535 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.535 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.536 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.536 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.536 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.536 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.537 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.537 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.538 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.538 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.538 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.538 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.539 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.539 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.539 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.540 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:02:07.540  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:02:07.540  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@2fbfa776,{}>
2018-07-14 12:02:07.540  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:121
2018-07-14 12:02:07.540 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.541 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:02:07.541 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.542 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:02:07.543 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:02:07.543 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.544 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:02:07.545 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:02:07.545 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.546 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:02:07.547 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:02:07.547 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.548 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:02:07.549 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:02:07.549 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:02:07.550 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:02:07.550  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:02:07.550  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 12:02:07.550  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:128
2018-07-14 12:02:10.217  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:10.218 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:10.218 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:10.220 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:10.224  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:10.224  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:02:10.224  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:02:10.224  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:02:10.225  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:02:10.225  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:02:10.225 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:02:10.225 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:02:10.226 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:02:10.227  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:02:10.227  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@6fee2379, com.yy.hospital.domain.Departs@7abd0e2b, com.yy.hospital.domain.Departs@127e376c, com.yy.hospital.domain.Departs@68929a9e, com.yy.hospital.domain.Departs@76f9891e, com.yy.hospital.domain.Departs@64270dbc, com.yy.hospital.domain.Departs@7018303, com.yy.hospital.domain.Departs@7bbbaf17, com.yy.hospital.domain.Departs@41307807, com.yy.hospital.domain.Departs@1da6c770]
2018-07-14 12:02:10.227  INFO 6160 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 12:02:12.285  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:12.286 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:12.286 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:12.288 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:12.291  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:12.292  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:02:12.292  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:02:12.292  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:02:12.292  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:02:12.292  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:02:12.300 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:02:12.300 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:02:12.304 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:02:12.304  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:02:12.304  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@54f15a5, com.yy.hospital.domain.Doctors@940dd84, com.yy.hospital.domain.Doctors@3a971a1f, com.yy.hospital.domain.Doctors@16119b7d, com.yy.hospital.domain.Doctors@6b8e4627, com.yy.hospital.domain.Doctors@642d1a2f, com.yy.hospital.domain.Doctors@66e8b357, com.yy.hospital.domain.Doctors@7cb81684],{}>
2018-07-14 12:02:12.304  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-14 12:02:13.938  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:13.939 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:13.939 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:13.942 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:13.949  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:13.949  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:02:13.949  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:02:13.950  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:02:13.950  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:02:13.950  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:02:13.950 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:02:13.950 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:02:13.952 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:02:13.952  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:02:13.952  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@2c891afd, com.yy.hospital.domain.Departs@2507bfdd, com.yy.hospital.domain.Departs@5b469a18, com.yy.hospital.domain.Departs@7b35f30c, com.yy.hospital.domain.Departs@1f0f5065, com.yy.hospital.domain.Departs@76efd0e, com.yy.hospital.domain.Departs@681721a1, com.yy.hospital.domain.Departs@3c6e123c, com.yy.hospital.domain.Departs@5987f1ac, com.yy.hospital.domain.Departs@29f1e11f]
2018-07-14 12:02:13.952  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 12:02:26.047  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:26.048 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:26.049 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:26.050 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:26.055  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:02:39.184  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:02:39.185 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:02:39.185 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:02:39.187 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:02:39.190  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:04:36.503  WARN 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 12:04:36.503  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 12:04:36.505 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:36.505 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:36.512 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:36.624 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:36.625 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:36.627 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:36.929  INFO 6160 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:04:36.929 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:36.930 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:36.932 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:36.933  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:04:36.933 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:36.933 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:36.936  INFO 6160 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:04:36.937  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:04:36.937  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 12:04:36.937  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:04:36.937  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 12:04:36.937  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:04:36.937 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:36.939 DEBUG 6160 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:04:36.939 DEBUG 6160 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:04:36.940 DEBUG 6160 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:04:36.941 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.941 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.941  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:04:36.942  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:04:36.942  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 12:04:36.942  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:04:36.942  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 12:04:36.942  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:04:36.942 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.943 DEBUG 6160 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:04:36.943 DEBUG 6160 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:04:36.944 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.944 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.944 DEBUG 6160 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:04:36.944 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.945 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.945 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.946 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.946 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.946 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.947 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.947  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:04:36.947 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.949 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:36.949 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.950 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.950 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.949 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:36.950 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.951 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.951 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.952 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.953 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.953 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.953 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.953 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.953 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.952 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:36.954 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.955 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.955 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.956 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.957 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.957 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.957 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:04:36.957 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.957 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.959  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:04:36.961 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.961 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.961 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.962 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.962 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.963 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:36.963 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.963 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:36.964 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.965 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.965 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.965 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.965 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.965 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.966 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:36.966 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.967 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.967 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.969 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.969 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.970 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.970 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.970 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.970 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.971 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.971 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.971 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.971 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.972 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.972 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.973 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.974 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.974 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:04:36.974 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.975 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.975 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.975 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.976 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.976 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.976 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.977 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.977 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.977 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.978 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.978 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.978 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.979 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.979 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.979 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.980 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.980 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.980 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.981 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.981 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.981 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.982 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.982 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.982 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.983 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.983 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.983 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.983 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.983 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:04:36.984 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.985 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.985 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.984 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.986 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.986 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.987 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.987 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.987 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.988 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.989 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.989 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.989 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.990 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:36.990 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.991 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.991 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.992 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.992 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:36.993 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.993 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.994 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.994 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.995 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.995 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:36.995 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:04:36.995 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:04:36.996 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.996 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:36.997 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:36.997 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:36.997 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:04:36.997 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:04:36.998 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:36.998 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:36.999 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:36.999 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:36.999 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:04:36.999 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:04:37.000 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.000 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.001 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.001 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.001 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:04:37.001 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:04:37.002 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.002 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.002 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.002 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.003 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:04:37.003 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:04:37.004 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.004 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.004 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.004 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.004 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.005 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:04:37.006 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.006 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.006 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.006 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.006 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.006 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.007 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.008 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.008 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.008 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.009 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.010 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.010 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.010 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.010 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.010 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.011 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.011 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.011 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.012 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.012 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.012 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.013 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.013 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.013 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.013 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.014 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.014 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.014 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:04:37.014 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.015 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.015 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.015 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.015 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.016 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.016 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.016 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.016 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.017 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.017 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.017 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.017 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.018 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.018 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.018 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.018 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.018 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.018 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.019 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.019 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.020 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.020 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.020 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.020 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.021 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.021 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.022 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.022 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.022 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.022 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:04:37.023 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.023 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.023 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.023 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.024 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.024 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.025 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.025 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.026 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.026 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.026 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.026 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.027 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.027 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.027 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.027 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.027 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.027 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.028 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.028 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.028 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.028 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.029 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.030 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.031 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.031 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.031 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.031 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.031 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:04:37.031 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.032 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.032 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.033 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.033 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.033 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.033 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.034 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.034 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.035 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.035 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.036 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.035 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.037 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.037 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.037 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:04:37.037 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:04:37.038 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.038 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.039 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:04:37.039 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:04:37.039 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:04:37.039 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:04:37.039 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.039 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.040 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:04:37.040 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:04:37.041  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:04:37.041  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 12:04:37.041 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:04:37.041  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:99
2018-07-14 12:04:37.041 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:04:37.042 DEBUG 6160 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:04:37.042  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:04:37.042  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@20ffca20,{}>
2018-07-14 12:04:37.042  INFO 6160 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:105
2018-07-14 12:04:43.031  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:04:43.032 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:04:43.033 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:04:43.034 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:04:43.039  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:04:43.040  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:04:43.040  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:04:43.040  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:04:43.040  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:04:43.040  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:04:43.040 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:04:43.040 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:04:43.045 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:04:43.045  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:04:43.045  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@58b93f24, com.yy.hospital.domain.Doctors@321b5e5b, com.yy.hospital.domain.Doctors@465bb9a4, com.yy.hospital.domain.Doctors@2cbf6bb2, com.yy.hospital.domain.Doctors@3dee211e, com.yy.hospital.domain.Doctors@556f597e, com.yy.hospital.domain.Doctors@4e624cee, com.yy.hospital.domain.Doctors@19d75c6b],{}>
2018-07-14 12:04:43.045  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-14 12:07:51.202  WARN 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 12:07:51.203  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 12:07:51.205 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:51.205 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:51.207 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:51.325 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:51.326 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:51.327 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:51.641  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:07:51.641 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:51.641 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:51.643 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:51.643  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:07:51.643 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:51.644 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:51.645 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:51.647  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:07:51.648  INFO 6160 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:07:51.650  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:07:51.650  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 12:07:51.650  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:07:51.650  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 12:07:51.650  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:07:51.650  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:07:51.650 DEBUG 6160 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:07:51.650 DEBUG 6160 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:07:51.651 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:51.652 DEBUG 6160 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:07:51.652 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:51.652 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.652 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.650 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:51.653 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:51.653 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.654 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.654 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.653 DEBUG 6160 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:51.655 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:51.655 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.656 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.656 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.660 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.661 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.661  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:07:51.661 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.663  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:07:51.663  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 12:07:51.663  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:07:51.663  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 12:07:51.663 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.663  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:07:51.664 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.664 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.664 DEBUG 6160 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:07:51.665 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.665 DEBUG 6160 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:07:51.666 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.666 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.667 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.667 DEBUG 6160 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:07:51.668 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.668 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.668 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.668 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.670 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.670 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.670 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.670 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.671 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.671 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.672 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.672 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.672 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.672 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.673 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.673 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.674 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.674 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.674 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.674 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.675 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.675 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.675 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.676 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.676 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.676 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.677 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.678 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.678 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.678 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.678 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:07:51.679 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.679 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.680 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.680 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.680 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.680 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.681 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.681 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.682 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.682 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.682 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.683 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.684 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.684 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.685 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.685 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.686 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.686 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.686 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.687 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.687 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.687 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.687 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.688 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.688 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.689 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.689 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.689 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.690 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.691 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.691 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.692 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.693 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.693 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.694 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.694 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.694 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.695 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.695 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:07:51.696 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.696 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.696 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.696 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.697 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.698 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.698 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.698 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.699 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.700 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.700 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.701 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.701 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.701 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.701 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.702 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.702 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.703 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.703 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.703 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.703 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.704 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.704 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.705 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.705 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.706 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.706 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.708 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.708 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.708 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.708 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.708 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:07:51.708 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.709 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.709 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.710 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.710 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.710 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.710 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.711 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.711 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.712 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.712 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.712 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.712 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.713 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.713 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.713 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.713 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.714 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.714 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.716 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.716 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.717 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.717 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.717 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.717 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.718 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.718 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.718 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:07:51.719 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.719 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.719 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.719 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.719 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.720 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.721 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.721 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.721 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.721 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.721 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.722 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.722 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.723 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.723 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.723 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.723 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.723 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.724 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.725 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.725 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.725 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.725 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.726 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.726 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.727 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.727 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.727 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.728 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.728 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.728 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:07:51.729 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.729 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.729 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.730 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.730 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.730 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.730 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.730 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.731 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.731 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.732 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.732 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.732 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.732 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.733 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.733 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.733 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.733 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.733 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.733 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.734 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.734 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.735 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.735 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.735 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.735 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.736 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.736 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.736 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.736 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.736 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:07:51.738 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.738 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.738 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.739 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.739 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.739 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.739 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.740 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.740 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.740 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.740 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.740 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.740 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.741 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.741 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.742 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.742 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.742 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.742 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.743 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.743 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.743 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.743 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.743 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.743 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.744 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.744 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.745  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:07:51.745  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@2bca6b0d,{}>
2018-07-14 12:07:51.745  INFO 6160 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:95
2018-07-14 12:07:51.745 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.745 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:07:51.746 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.746 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.747 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.748 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.748 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.748 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.750 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.750 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.750 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.751 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.752 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.752 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.753 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.753 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.754 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:07:51.754 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.755 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:07:51.755 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.756 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:07:51.757 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:07:51.757 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.757 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:07:51.758 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:07:51.758 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.759 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:07:51.760 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:07:51.760 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.761 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:07:51.761 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:07:51.761 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:07:51.762 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:07:51.762  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:07:51.763  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 12:07:51.763  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:100
2018-07-14 12:07:54.149  INFO 6160 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:07:54.150 DEBUG 6160 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:54.150 DEBUG 6160 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:54.152 DEBUG 6160 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:54.157  INFO 6160 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:07:54.157  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:07:54.157  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:07:54.157  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:07:54.157  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:07:54.158  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:07:54.158 DEBUG 6160 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:07:54.158 DEBUG 6160 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:07:54.159 DEBUG 6160 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:07:54.159  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:07:54.159  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@16bfe0a, com.yy.hospital.domain.Departs@4bd5f9d3, com.yy.hospital.domain.Departs@61d28d00, com.yy.hospital.domain.Departs@2fabc4f6, com.yy.hospital.domain.Departs@71eef4a7, com.yy.hospital.domain.Departs@15119028, com.yy.hospital.domain.Departs@605ea507, com.yy.hospital.domain.Departs@11a3418e, com.yy.hospital.domain.Departs@176ed4d1, com.yy.hospital.domain.Departs@e6796c4]
2018-07-14 12:07:54.159  INFO 6160 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 12:07:55.292  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:07:55.292 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:07:55.292 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:07:55.294 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:07:55.298  INFO 6160 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:07:55.298  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:07:55.298  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:07:55.298  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:07:55.298  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:07:55.298  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:07:55.298 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:07:55.299 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:07:55.300 DEBUG 6160 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:07:55.300  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:07:55.300  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@5890c7ad, com.yy.hospital.domain.Doctors@799fe0ab, com.yy.hospital.domain.Doctors@3eead133, com.yy.hospital.domain.Doctors@441d1376, com.yy.hospital.domain.Doctors@1aee09f7, com.yy.hospital.domain.Doctors@1cf238b9, com.yy.hospital.domain.Doctors@7479115d, com.yy.hospital.domain.Doctors@58d32a07],{}>
2018-07-14 12:07:55.300  INFO 6160 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 12:09:09.203  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:09:09.203 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:09:09.203  INFO 6160 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:09:09.204 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:09:09.204 DEBUG 6160 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:09:09.205 DEBUG 6160 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:09:09.206 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:09:09.207 DEBUG 6160 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:09:09.209  INFO 6160 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:09:09.209  INFO 6160 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:09:09.210  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:09:09.210  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:09:09.210  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:09:09.210  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:09:09.210  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:09:09.210 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:09:09.210 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:09:09.211 DEBUG 6160 --- [http-nio-8086-exec-7] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:09:09.211  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:09:09.211  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@120880f8, com.yy.hospital.domain.Departs@26ee4a27, com.yy.hospital.domain.Departs@76ac732f, com.yy.hospital.domain.Departs@6d331736, com.yy.hospital.domain.Departs@3bea4528, com.yy.hospital.domain.Departs@6f018f00, com.yy.hospital.domain.Departs@7a21bcc4, com.yy.hospital.domain.Departs@fde9e11, com.yy.hospital.domain.Departs@667459c7, com.yy.hospital.domain.Departs@56ea386]
2018-07-14 12:09:09.211  INFO 6160 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:1
2018-07-14 12:09:21.961  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:09:21.962 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:09:21.962 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:09:21.963 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:09:21.967  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:09:21.969  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:09:21.969  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:09:21.969  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:09:21.969  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:09:21.969  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:09:21.969 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:09:21.969 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:09:21.970 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:09:21.971  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:09:21.971  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@43f2a854, com.yy.hospital.domain.Departs@24ec1656, com.yy.hospital.domain.Departs@5e2402bc, com.yy.hospital.domain.Departs@41f3cb28, com.yy.hospital.domain.Departs@17156b4a, com.yy.hospital.domain.Departs@530f8158, com.yy.hospital.domain.Departs@2dc04867, com.yy.hospital.domain.Departs@72356c7c, com.yy.hospital.domain.Departs@4e46164b, com.yy.hospital.domain.Departs@61ec5b9a]
2018-07-14 12:09:21.971  INFO 6160 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 12:11:15.037  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:11:15.038 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:11:15.038 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:11:15.039 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:11:15.042  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:11:15.043  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:11:15.043  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:11:15.043  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:11:15.043  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:11:15.043  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:11:15.043 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:11:15.043 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:11:15.044 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:11:15.045  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:11:15.045  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@b5ed7ba, com.yy.hospital.domain.Departs@e7eb7f, com.yy.hospital.domain.Departs@64169b65, com.yy.hospital.domain.Departs@4ff78c8a, com.yy.hospital.domain.Departs@32e971c9, com.yy.hospital.domain.Departs@dead8f8, com.yy.hospital.domain.Departs@5df7b793, com.yy.hospital.domain.Departs@2e17f37b, com.yy.hospital.domain.Departs@5709a849, com.yy.hospital.domain.Departs@cff9748]
2018-07-14 12:11:15.045  INFO 6160 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 12:11:35.809  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:11:35.810 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:11:35.810 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:11:35.811 DEBUG 6160 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:11:35.815  INFO 6160 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:11:47.804  INFO 6160 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:11:47.805 DEBUG 6160 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:11:47.805 DEBUG 6160 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:11:47.807 DEBUG 6160 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:11:47.809  INFO 6160 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:30:08.156  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:30:08.158 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:30:08.158 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:30:08.161 DEBUG 6160 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:30:08.164  INFO 6160 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:30:23.791  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:30:23.792 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:30:23.792 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:30:23.793 DEBUG 6160 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:30:23.796  INFO 6160 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:30:35.583  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:30:35.584 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:30:35.585 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:30:35.586 DEBUG 6160 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:30:35.589  INFO 6160 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:46:19.624  INFO 8944 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8944 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 12:46:19.629  INFO 8944 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 12:46:19.697  INFO 8944 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 12:46:19 CST 2018]; root of context hierarchy
2018-07-14 12:46:21.018  INFO 8944 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 12:46:21.067  INFO 8944 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 12:46:21.743  INFO 8944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4c6922b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 12:46:22.007  INFO 8944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e516eaf3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 12:46:22.030  INFO 8944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 12:46:22.039  INFO 8944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3005db4a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 12:46:22.052  INFO 8944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9eb8da5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 12:46:22.075  INFO 8944 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 12:46:22.614  INFO 8944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 12:46:22.642  INFO 8944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 12:46:22.643  INFO 8944 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 12:46:22.649  INFO 8944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 12:46:22.650  INFO 8944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 12:46:22.650  INFO 8944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 12:46:23.704  INFO 8944 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 12:46:23.880  INFO 8944 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 12:46:23.880  INFO 8944 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4183 ms
2018-07-14 12:46:24.113  INFO 8944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 12:46:24.113  INFO 8944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 12:46:24.114  INFO 8944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 12:46:24.114  INFO 8944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 12:46:24.114  INFO 8944 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 12:46:24.114  INFO 8944 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 12:46:24.115  INFO 8944 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 12:46:25.059  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 12:46:25.060  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 12:46:25.060  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 12:46:25.060  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 12:46:25.060  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 12:46:25.060  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 12:46:25.060  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 12:46:25.157  INFO 8944 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dfa915a, org.springframework.security.web.context.SecurityContextPersistenceFilter@6069dd38, org.springframework.security.web.header.HeaderWriterFilter@2127e66e, org.springframework.web.filter.CorsFilter@6469304f, org.springframework.security.web.authentication.logout.LogoutFilter@60bbacfc, com.yy.hospital.security.JwtAuthenticationTokenFilter@78054f54, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@558756be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6403e24c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cb7fa71, org.springframework.security.web.session.SessionManagementFilter@1effd53c, org.springframework.security.web.access.ExceptionTranslationFilter@4649d70a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22a6e998]
2018-07-14 12:46:25.302  INFO 8944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 12:46:25.703  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 12:46:19 CST 2018]; root of context hierarchy
2018-07-14 12:46:25.770  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 12:46:25.772  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 12:46:25.773  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 12:46:25.773  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 12:46:25.774  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 12:46:25.775  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 12:46:25.776  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 12:46:25.776  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 12:46:25.777  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-14 12:46:25.777  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 12:46:25.777  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 12:46:25.778  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 12:46:25.779  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 12:46:25.779  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 12:46:25.783  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 12:46:25.783  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 12:46:25.784  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 12:46:25.784  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 12:46:25.785  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 12:46:25.788  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 12:46:25.789  INFO 8944 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 12:46:25.845  INFO 8944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 12:46:25.846  INFO 8944 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 12:46:25.865  INFO 8944 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 12:46:28.586  INFO 8944 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 12:46:29.217  INFO 8944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 12:46:29.219  INFO 8944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 12:46:29.225  INFO 8944 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 12:46:29.280  INFO 8944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 12:46:29.285  INFO 8944 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.347 seconds (JVM running for 11.959)
2018-07-14 12:46:29.633  INFO 8944 --- [cluster-ClusterId{value='5b4980244892d322f0835f78', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 12:47:06.228  INFO 8944 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 12:47:06.228  INFO 8944 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 12:47:06.251  INFO 8944 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-14 12:47:06.287  WARN 8944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 12:47:06.287  INFO 8944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 12:47:06.511  INFO 8944 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 12:47:06.637  INFO 8944 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 12:47:06.645 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:06.663 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:06.680 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:06.799 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:06.799 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:06.802 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:07.531  INFO 8944 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:07.531  INFO 8944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:07.531  INFO 8944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:07.533 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:07.533 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:07.533 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:07.534 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:07.534 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:07.534 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:07.537 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:07.536 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:07.540 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:07.549  INFO 8944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:07.557  INFO 8944 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:07.557  INFO 8944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:07.562  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:07.563  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 12:47:07.563  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:07.563  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:07.563  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 12:47:07.563 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:07.563  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:07.564 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:07.566 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:07.569  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 12:47:07.569  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:07.569  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 12:47:07.570  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:07.626 DEBUG 8944 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:47:07.626 DEBUG 8944 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 12:47:07.626 DEBUG 8944 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:47:07.626 DEBUG 8944 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 12:47:07.630 DEBUG 8944 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:47:07.632 DEBUG 8944 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 12:47:07.636 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.637 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.637 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.638 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.639 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.641 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.641 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.642 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.643 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.644 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.644 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.644 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.644 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.647 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.648 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.649 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.651 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.647 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.652 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.654 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.654 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.655 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.655 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.655 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.656 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.659 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.659 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.662 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.662 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 12:47:07.664 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.664 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.665 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.665 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.666 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.666 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.667 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.667 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.667 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.668 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.669 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.669 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.671 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.672 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.671 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.672 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.672 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.674 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.674 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.674 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.674 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.675 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.675 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.676 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.676 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.677 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.677 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.677 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.677 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 12:47:07.678 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.678 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.679 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.679 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.680 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.680 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.681 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.681 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.682 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.682 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.682 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.682 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.683 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.683 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.684 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.684 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.684 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.684 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.685 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.685 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.686 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.686 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.686 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.686 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.687 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.687 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.688 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.688 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.688 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.688 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 12:47:07.689 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.689 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.690 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.690 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.690 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.690 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.691 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.691 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.691 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.691 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.692 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.692 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.693 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.693 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.693 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.693 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.693 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.693 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.694 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.694 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.695 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.695 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.695 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.695 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.697 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.697 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.697 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.697 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.697 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.698 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 12:47:07.699 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.699 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.700 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.700 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.700 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.701 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.701 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.702 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.702 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.702 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.702 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.702 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.704 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.704 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.704 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.704 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.705 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.705 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.706 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.706 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.706 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.706 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.706 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.706 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.708 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.708 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.708 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.708 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.708 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.708 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 12:47:07.710 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.710 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.710 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.710 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.710 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.710 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.711 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.711 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.712 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.712 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.713 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.713 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.714 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.714 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.715 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.716 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.716 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.716 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.716 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.716 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.716 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.717 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.717 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.718 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.718 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.718 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.718 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.719 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.719 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.720 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.720 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.720 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 12:47:07.721 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.722 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.722 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.722 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.722 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.722 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.722 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.723 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.723 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.724 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.724 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.724 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.724 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.725 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.725 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.726 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.726 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.726 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.727 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.728 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.729 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.729 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.729 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.729 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.729 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.730 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.731 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.731 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.731 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 12:47:07.731 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.732 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.733 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.733 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.733 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.733 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.734 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.734 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.735 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.735 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.736 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.736 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.736 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.736 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.737 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.737 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.738 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.738 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.738 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.738 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.739 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.739 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.740 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.740 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.740 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.740 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.742 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.742 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.742 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.742 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.742 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 12:47:07.742 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.743 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.743 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.744 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.744 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.744 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.744 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.746 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.747 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.747 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.747 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.747 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.747 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.748 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.748 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.749 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 12:47:07.749 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 12:47:07.749 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.749 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.750 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 12:47:07.750 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 12:47:07.751 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 12:47:07.751 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.751 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 12:47:07.751 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.752 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 12:47:07.752 DEBUG 8944 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 12:47:07.753 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 12:47:07.753 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 12:47:07.753  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:07.753  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 12:47:07.753  INFO 8944 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:190
2018-07-14 12:47:07.754 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 12:47:07.754  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:07.754  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@74a2cb7e,{}>
2018-07-14 12:47:07.755  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:192
2018-07-14 12:47:10.198  INFO 8944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:10.198 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:10.199 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:10.201 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:10.207  INFO 8944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:10.208  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:10.208  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:47:10.208  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:10.208  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:47:10.208  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:10.219 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:47:10.219 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:47:10.224 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:47:10.224  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:10.225  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@2e5f80ac, com.yy.hospital.domain.Doctors@6c21147c, com.yy.hospital.domain.Doctors@5cfa48fb, com.yy.hospital.domain.Doctors@1b05f588, com.yy.hospital.domain.Doctors@490d4ca4, com.yy.hospital.domain.Doctors@2d6b330d, com.yy.hospital.domain.Doctors@23d80bcb, com.yy.hospital.domain.Doctors@1745038d],{}>
2018-07-14 12:47:10.225  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:17
2018-07-14 12:47:11.838  INFO 8944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:11.839 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:11.839 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:11.841 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:11.848  INFO 8944 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:11.849  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:11.850  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 12:47:11.850  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:11.850  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 12:47:11.850  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:11.854 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 12:47:11.855 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 12:47:11.856 DEBUG 8944 --- [http-nio-8086-exec-1] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 12:47:11.856  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:11.856  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@451bec00, com.yy.hospital.domain.Departs@4795249c, com.yy.hospital.domain.Departs@73e63c2d, com.yy.hospital.domain.Departs@1144bb00, com.yy.hospital.domain.Departs@ba52ec4, com.yy.hospital.domain.Departs@657a4ae8, com.yy.hospital.domain.Departs@273f053e, com.yy.hospital.domain.Departs@13973662, com.yy.hospital.domain.Departs@31e6f9da, com.yy.hospital.domain.Departs@6fcd804]
2018-07-14 12:47:11.856  INFO 8944 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 12:47:26.032  INFO 8944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:26.033 DEBUG 8944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:26.033 DEBUG 8944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:26.035 DEBUG 8944 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:26.038  INFO 8944 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:26.050  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:26.050  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:47:26.050  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 12:47:26.050  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.insertDr
2018-07-14 12:47:26.050  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[com.yy.hospital.domain.DrAndAdmins@4e440412]
2018-07-14 12:47:26.051  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:26.051  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 12:47:26.051  INFO 8944 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:1
2018-07-14 12:47:28.772  INFO 8944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:28.773 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:28.773 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:28.776 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:28.783  INFO 8944 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:28.783  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:28.783  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:47:28.784  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:28.784  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:47:28.784  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:28.784 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:47:28.784 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:47:28.789 DEBUG 8944 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:47:28.789  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:28.789  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@2435bbbd, com.yy.hospital.domain.Doctors@3223e228, com.yy.hospital.domain.Doctors@77ee2445, com.yy.hospital.domain.Doctors@18b94c09, com.yy.hospital.domain.Doctors@11d8f4f0, com.yy.hospital.domain.Doctors@3cc77641, com.yy.hospital.domain.Doctors@3a8da190, com.yy.hospital.domain.Doctors@68867bcc],{}>
2018-07-14 12:47:28.789  INFO 8944 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 12:47:39.036  INFO 8944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:39.039 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:39.039 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:39.041 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:39.046  INFO 8944 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:39.047  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:39.047  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:47:39.047  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:39.047  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:47:39.047  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:39.047 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:47:39.047 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:47:39.050 DEBUG 8944 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:47:39.050  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:39.050  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@6b0b14d2, com.yy.hospital.domain.Doctors@5c4d5534, com.yy.hospital.domain.Doctors@10e9b39c, com.yy.hospital.domain.Doctors@28328e7d, com.yy.hospital.domain.Doctors@1b2cb22d, com.yy.hospital.domain.Doctors@2d7ea089, com.yy.hospital.domain.Doctors@705693e9, com.yy.hospital.domain.Doctors@4c2baaf8],{}>
2018-07-14 12:47:39.050  INFO 8944 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 12:47:44.210  INFO 8944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 12:47:44.211 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 12:47:44.211 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 12:47:44.212 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 12:47:44.216  INFO 8944 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 12:47:44.217  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 12:47:44.217  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 12:47:44.217  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 12:47:44.217  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 12:47:44.217  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 12:47:44.217 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 12:47:44.217 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 12:47:44.220 DEBUG 8944 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 12:47:44.220  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 12:47:44.220  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@2f55109b, com.yy.hospital.domain.Doctors@76a55c9f, com.yy.hospital.domain.Doctors@5d3ae59b, com.yy.hospital.domain.Doctors@44f3ff2f, com.yy.hospital.domain.Doctors@43a5fee2, com.yy.hospital.domain.Doctors@1fb813ad, com.yy.hospital.domain.Doctors@15a43bfc, com.yy.hospital.domain.Doctors@4ef5b4e0],{}>
2018-07-14 12:47:44.220  INFO 8944 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 14:21:32.771  INFO 8628 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8628 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 14:21:32.779  INFO 8628 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 14:21:33.008  INFO 8628 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@38425407: startup date [Sat Jul 14 14:21:33 CST 2018]; root of context hierarchy
2018-07-14 14:21:33.830  INFO 8628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 14:21:33.877  INFO 8628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 14:21:34.428  INFO 8628 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bce85e13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:21:34.694  INFO 8628 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5596264d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:21:34.714  INFO 8628 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:21:34.722  INFO 8628 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@24a298a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:21:34.730  INFO 8628 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7a6ac8ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:21:34.755  INFO 8628 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:21:35.245  INFO 8628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 14:21:35.310  INFO 8628 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 14:21:35.311  INFO 8628 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 14:21:35.321  INFO 8628 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 14:21:35.321  INFO 8628 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 14:21:35.321  INFO 8628 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 14:21:36.376  INFO 8628 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 14:21:36.482  INFO 8628 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 14:21:36.482  INFO 8628 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3474 ms
2018-07-14 14:21:36.698  INFO 8628 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 14:21:36.699  INFO 8628 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 14:21:36.699  INFO 8628 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 14:21:36.699  INFO 8628 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 14:21:36.700  INFO 8628 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 14:21:36.701  INFO 8628 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 14:21:36.701  INFO 8628 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 14:21:37.669  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 14:21:37.670  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 14:21:37.670  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 14:21:37.671  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 14:21:37.671  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 14:21:37.671  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 14:21:37.671  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 14:21:37.799  INFO 8628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f1d0bbc, org.springframework.security.web.context.SecurityContextPersistenceFilter@252dc8c4, org.springframework.security.web.header.HeaderWriterFilter@31ee2fdb, org.springframework.web.filter.CorsFilter@5a8f0440, org.springframework.security.web.authentication.logout.LogoutFilter@895416d, com.yy.hospital.security.JwtAuthenticationTokenFilter@5460b754, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2643d762, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9596ce8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9f023e, org.springframework.security.web.session.SessionManagementFilter@102ecc22, org.springframework.security.web.access.ExceptionTranslationFilter@51c959a4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@277b8fa4]
2018-07-14 14:21:37.950  INFO 8628 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 14:21:38.252  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@38425407: startup date [Sat Jul 14 14:21:33 CST 2018]; root of context hierarchy
2018-07-14 14:21:38.318  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 14:21:38.319  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 14:21:38.321  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 14:21:38.321  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 14:21:38.323  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 14:21:38.323  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 14:21:38.324  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 14:21:38.324  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 14:21:38.325  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 14:21:38.325  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-14 14:21:38.326  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 14:21:38.326  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 14:21:38.327  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 14:21:38.328  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 14:21:38.331  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 14:21:38.331  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 14:21:38.332  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 14:21:38.332  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 14:21:38.333  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 14:21:38.335  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 14:21:38.336  INFO 8628 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 14:21:38.387  INFO 8628 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 14:21:38.387  INFO 8628 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 14:21:38.406  INFO 8628 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 14:21:41.028  INFO 8628 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 14:21:41.682  INFO 8628 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 14:21:41.684  INFO 8628 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 14:21:41.691  INFO 8628 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 14:21:41.730  INFO 8628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 14:21:41.736  INFO 8628 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.108 seconds (JVM running for 11.766)
2018-07-14 14:21:42.074  INFO 8628 --- [cluster-ClusterId{value='5b499675622a6521b42460c2', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 14:21:50.750  INFO 8628 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 14:21:50.750  INFO 8628 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 14:21:50.775  INFO 8628 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-14 14:21:50.913  INFO 8628 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:21:50.932  INFO 8628 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 14:21:51.070  INFO 8628 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 14:21:51.078 DEBUG 8628 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:21:51.095 DEBUG 8628 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:21:51.112 DEBUG 8628 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:21:51.122  INFO 8628 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:21:51.142  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:21:51.142  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 14:21:51.142  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:21:51.144  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 14:21:51.145  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:21:51.156 DEBUG 8628 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 14:21:51.156 DEBUG 8628 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 14:21:51.160 DEBUG 8628 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 14:21:51.161  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:21:51.161  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@76f818b3, com.yy.hospital.domain.Departs@5d0219b, com.yy.hospital.domain.Departs@6f7f535, com.yy.hospital.domain.Departs@1df80d52, com.yy.hospital.domain.Departs@2b73b3de, com.yy.hospital.domain.Departs@2f2b83d2, com.yy.hospital.domain.Departs@164c855f, com.yy.hospital.domain.Departs@4b038859, com.yy.hospital.domain.Departs@7dd83fa4, com.yy.hospital.domain.Departs@e9e06de]
2018-07-14 14:21:51.161  INFO 8628 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:19
2018-07-14 14:22:06.112  INFO 8628 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:22:06.113 DEBUG 8628 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:22:06.114 DEBUG 8628 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:22:06.116 DEBUG 8628 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:22:06.123  INFO 8628 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:22:06.185  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:22:06.185  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:22:06.185  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 14:22:06.185  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.insertDr
2018-07-14 14:22:06.185  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[com.yy.hospital.domain.DrAndAdmins@2b264e2f]
2018-07-14 14:22:06.191  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:22:06.191  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 14:22:06.191  INFO 8628 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 14:22:08.801  INFO 8628 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:22:08.802 DEBUG 8628 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:22:08.802 DEBUG 8628 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:22:08.804 DEBUG 8628 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:22:08.808  INFO 8628 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:22:08.809  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:22:08.809  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:22:08.809  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:22:08.809  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:22:08.810  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:22:08.814 DEBUG 8628 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:22:08.814 DEBUG 8628 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:22:08.819 DEBUG 8628 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 14:22:08.819  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:22:08.819  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@7290f232, com.yy.hospital.domain.Doctors@5676158b, com.yy.hospital.domain.Doctors@6f1da4d6, com.yy.hospital.domain.Doctors@34e33d1c, com.yy.hospital.domain.Doctors@411748d0, com.yy.hospital.domain.Doctors@27abd734, com.yy.hospital.domain.Doctors@2592fc03, com.yy.hospital.domain.Doctors@8342e70],{}>
2018-07-14 14:22:08.820  INFO 8628 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-14 14:32:16.802  INFO 5644 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 5644 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-14 14:32:16.806  INFO 5644 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-14 14:32:17.038  INFO 5644 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 14:32:17 CST 2018]; root of context hierarchy
2018-07-14 14:32:17.929  INFO 5644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 14:32:17.987  INFO 5644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-14 14:32:18.553  INFO 5644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b048e0fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:32:18.763  INFO 5644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$48f6a935] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:32:18.777  INFO 5644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:32:18.782  INFO 5644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27f74733' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:32:18.791  INFO 5644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6dcb4be7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:32:18.810  INFO 5644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-14 14:32:19.269  INFO 5644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-14 14:32:19.301  INFO 5644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-14 14:32:19.301  INFO 5644 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-14 14:32:19.307  INFO 5644 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-14 14:32:19.308  INFO 5644 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-14 14:32:19.308  INFO 5644 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-14 14:32:20.362  INFO 5644 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-14 14:32:20.734  INFO 5644 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-14 14:32:20.736  INFO 5644 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3698 ms
2018-07-14 14:32:21.086  INFO 5644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-14 14:32:21.086  INFO 5644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-14 14:32:21.087  INFO 5644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-14 14:32:21.087  INFO 5644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-14 14:32:21.088  INFO 5644 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-14 14:32:21.088  INFO 5644 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-14 14:32:21.088  INFO 5644 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-14 14:32:22.042  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-14 14:32:22.042  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-14 14:32:22.042  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-14 14:32:22.042  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-14 14:32:22.043  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-14 14:32:22.043  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-14 14:32:22.043  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-14 14:32:22.132  INFO 5644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26cb5207, org.springframework.security.web.context.SecurityContextPersistenceFilter@26dc9bd5, org.springframework.security.web.header.HeaderWriterFilter@60f70249, org.springframework.web.filter.CorsFilter@af99303, org.springframework.security.web.authentication.logout.LogoutFilter@3c5dbdf8, com.yy.hospital.security.JwtAuthenticationTokenFilter@15400fff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43045f9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@227a47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18d910b3, org.springframework.security.web.session.SessionManagementFilter@6d1dcdff, org.springframework.security.web.access.ExceptionTranslationFilter@e5cbff2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b6e1c0]
2018-07-14 14:32:22.261  INFO 5644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 14:32:22.586  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Sat Jul 14 14:32:17 CST 2018]; root of context hierarchy
2018-07-14 14:32:22.657  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 14:32:22.659  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-14 14:32:22.661  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-14 14:32:22.662  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-14 14:32:22.663  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-14 14:32:22.664  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 14:32:22.664  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-14 14:32:22.664  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-14 14:32:22.665  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-14 14:32:22.666  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-14 14:32:22.666  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-14 14:32:22.667  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-14 14:32:22.667  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-14 14:32:22.668  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-14 14:32:22.672  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-14 14:32:22.672  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-14 14:32:22.673  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-14 14:32:22.673  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-14 14:32:22.674  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-14 14:32:22.676  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-14 14:32:22.677  INFO 5644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-14 14:32:22.731  INFO 5644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 14:32:22.731  INFO 5644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-14 14:32:22.749  INFO 5644 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-14 14:32:25.291  INFO 5644 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-14 14:32:25.968  INFO 5644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-14 14:32:25.969  INFO 5644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-14 14:32:25.976  INFO 5644 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-14 14:32:26.016  INFO 5644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-14 14:32:26.020  INFO 5644 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.227 seconds (JVM running for 11.857)
2018-07-14 14:32:26.334  INFO 5644 --- [cluster-ClusterId{value='5b4998f9622a65160c5689cb', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-14 14:32:39.532  INFO 5644 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-14 14:32:39.532  INFO 5644 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-14 14:32:39.554  INFO 5644 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-14 14:32:39.588  WARN 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-14 14:32:39.588  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-14 14:32:39.793  INFO 5644 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-14 14:32:39.918  INFO 5644 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-14 14:32:39.926 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:39.941 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:39.957 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:40.088 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:40.089 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:40.091 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:40.470  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:32:40.470  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:32:40.470  INFO 5644 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:32:40.471 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:40.471 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:40.471 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:40.472 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:40.471 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:40.472 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:40.475 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:40.479 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:40.486  INFO 5644 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:32:40.486  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:32:40.491 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:40.493  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:32:40.494  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-14 14:32:40.494  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:32:40.496  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-14 14:32:40.497  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:32:40.497  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:32:40.499  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:32:40.499  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-14 14:32:40.499  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:32:40.499  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-14 14:32:40.499  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:32:40.505 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:40.506 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:40.509 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:40.518 DEBUG 5644 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 14:32:40.518 DEBUG 5644 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 14:32:40.518 DEBUG 5644 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-14 14:32:40.520 DEBUG 5644 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-14 14:32:40.521 DEBUG 5644 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 14:32:40.525 DEBUG 5644 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 9
2018-07-14 14:32:40.527 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.527 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.530 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.531 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.532 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.533 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.533 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.535 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.536 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.536 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.537 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.538 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.539 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.540 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.541 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.544 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.541 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.545 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.546 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.548 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.549 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.550 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.551 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.552 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.552 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.552 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.553 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.556 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.556 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.556 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.557 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-14 14:32:40.558 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.559 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.559 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.559 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.560 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.560 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.561 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.561 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.562 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.563 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.563 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.564 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.564 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.565 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.565 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.566 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.566 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.566 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.567 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.567 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.568 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.568 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.568 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.568 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.569 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.569 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.570 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.570 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.570 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-14 14:32:40.570 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.572 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.572 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.573 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.573 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.573 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.573 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.574 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.574 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.575 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.576 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.577 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.577 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.579 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.579 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.579 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.580 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.582 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.580 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.584 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.585 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.585 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.586 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.586 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.586 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.586 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.587 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.587 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.588 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.588 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.588 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-14 14:32:40.589 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.589 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.589 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.590 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.590 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.590 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.591 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.592 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.592 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.592 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.592 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.592 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.594 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.594 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.594 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.595 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.596 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.596 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.597 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.597 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.598 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.598 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.598 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.598 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.599 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.599 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.600 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.600 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.600 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.600 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-14 14:32:40.601 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.601 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.602 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.602 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.602 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.602 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.603 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.603 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.604 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.604 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.604 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.604 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.606 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.606 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.606 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.606 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.606 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.606 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.608 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.608 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.608 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.608 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.608 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.608 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.610 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.610 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.611 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.611 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.611 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-14 14:32:40.611 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.612 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.612 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.613 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.613 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.613 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.613 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.614 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.614 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.615 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.615 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.615 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.615 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.616 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.616 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.617 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.617 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.617 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.617 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.618 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.618 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.618 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.619 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.619 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.619 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.620 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.620 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.620 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-14 14:32:40.622 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.622 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.622 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.623 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.623 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.623 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.625 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.625 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.625 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.625 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.625 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.625 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.627 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.627 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.627 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.627 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.627 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.627 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.628 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.628 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.629 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.629 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.629 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.629 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.630 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.630 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.631 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.631 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.632 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.631 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-14 14:32:40.633 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.633 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.634 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.634 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.634 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.634 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.635 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.635 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.636 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.636 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.636 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.636 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.637 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.637 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.638 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.638 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.638 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.638 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.639 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.639 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.640 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.640 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.640 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.640 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.641 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.641 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.642 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.642 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.642 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.642 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-14 14:32:40.643 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.643 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.644 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.644 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.644 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.644 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.645 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.645 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.646 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.646 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.646 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.646 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.647 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.647 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.648 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.648 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-14 14:32:40.648 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.648 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.649 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.649 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-14 14:32:40.649 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-14 14:32:40.650 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.650 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-14 14:32:40.650 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.651 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-14 14:32:40.652 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-14 14:32:40.652 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-14 14:32:40.652 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.652 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-14 14:32:40.653 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 9(Integer)
2018-07-14 14:32:40.654 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-14 14:32:40.655  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:32:40.656  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 2], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 1], [昨天, 0], [今天, 0]], name=皮肤科, id=8}, {data=[[本季度, 0], [本月, 0], [本周, 0], [昨天, 0], [今天, 0]], name=yyyyyyy, id=9}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}, {drilldown=9, name=yyyyyyy, y=0}]},{}>
2018-07-14 14:32:40.656  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:163
2018-07-14 14:32:40.653 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-14 14:32:40.657  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:32:40.658  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@25069ba7,{}>
2018-07-14 14:32:40.658  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:159
2018-07-14 14:32:44.994  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:32:44.995 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:44.995 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:44.996 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:45.001  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:32:45.002  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:32:45.002  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:32:45.002  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:32:45.002  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:32:45.002  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:32:45.010 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:32:45.010 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:32:45.014 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 8
2018-07-14 14:32:45.014  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:32:45.014  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@11a5f7d, com.yy.hospital.domain.Doctors@18122eb2, com.yy.hospital.domain.Doctors@25418d8, com.yy.hospital.domain.Doctors@401ee3f4, com.yy.hospital.domain.Doctors@132cad3d, com.yy.hospital.domain.Doctors@1a427654, com.yy.hospital.domain.Doctors@38723f1c, com.yy.hospital.domain.Doctors@f446aa5],{}>
2018-07-14 14:32:45.014  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-14 14:32:46.111  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:32:46.112 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:32:46.112 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:32:46.115 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:32:46.118  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:32:46.119  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:32:46.119  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 14:32:46.119  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:32:46.119  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 14:32:46.119  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:32:46.123 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 14:32:46.124 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 14:32:46.125 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 14:32:46.125  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:32:46.125  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@6f1c1402, com.yy.hospital.domain.Departs@4f3b5a6a, com.yy.hospital.domain.Departs@4a0c2273, com.yy.hospital.domain.Departs@1c25b7e1, com.yy.hospital.domain.Departs@13960c63, com.yy.hospital.domain.Departs@66bec71, com.yy.hospital.domain.Departs@2d5f4975, com.yy.hospital.domain.Departs@1cf46980, com.yy.hospital.domain.Departs@3fa28b69, com.yy.hospital.domain.Departs@66f3f088]
2018-07-14 14:32:46.125  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 14:33:56.883  INFO 5644 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:33:56.885 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:33:56.885 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:33:56.888 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:33:56.892  INFO 5644 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:33:56.898  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:33:56.898  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:33:56.898  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 14:33:56.898  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.insertDr
2018-07-14 14:33:56.898  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[com.yy.hospital.domain.DrAndAdmins@69f884ec]
2018-07-14 14:33:56.900 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.insertDr      : ==>  Preparing: insert into doctors (doname,title,bcost,pcreg,xcreg,info,doexist,deid, monam,tueam,wedam,thuam,friam,satam,sunam, monpm,tuepm,wedpm,thupm,fripm,satpm,sumpm) values (?,?,?,?,?,?,?,?, ?,?,?,?,?,?,?, ?,?,?,?,?,?,?) 
2018-07-14 14:33:56.901 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.insertDr      : ==> Parameters: 杨扬(String), 主任医师(String), 10.0(Double), 12(Integer), 16(Integer), 医术享誉全球(String), 1(Integer), 5(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), null, 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer)
2018-07-14 14:33:56.911 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.insertDr      : <==    Updates: 1
2018-07-14 14:33:57.026 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.AdminsMapper.insertAdminsReDoid  : ==>  Preparing: insert into admins (aname,pwd,state,aexist,doid) values(?,?,2,1,@@Identity) 
2018-07-14 14:33:57.026 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.AdminsMapper.insertAdminsReDoid  : ==> Parameters: yangbishang(String), $2a$10$fDbXIGKPN55hcCAsrK.lce0bUemgJfx6ebMkIDzrn/A4yMQk81pXO(String)
2018-07-14 14:33:57.036 DEBUG 5644 --- [http-nio-8086-exec-7] c.y.h.m.AdminsMapper.insertAdminsReDoid  : <==    Updates: 1
2018-07-14 14:33:57.036  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:33:57.036  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 14:33:57.036  INFO 5644 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:138
2018-07-14 14:33:59.975  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:33:59.976 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:33:59.976 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:33:59.978 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:33:59.982  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:33:59.983  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:33:59.983  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:33:59.983  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:33:59.984  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:33:59.984  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:33:59.984 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:33:59.984 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:33:59.989 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-14 14:33:59.989  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:33:59.989  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@3ae8fe42, com.yy.hospital.domain.Doctors@cab9d2c, com.yy.hospital.domain.Doctors@7e9ac9d7, com.yy.hospital.domain.Doctors@61ceced2, com.yy.hospital.domain.Doctors@1c293647, com.yy.hospital.domain.Doctors@4c3b9a13, com.yy.hospital.domain.Doctors@64c72632, com.yy.hospital.domain.Doctors@7368dc26, com.yy.hospital.domain.Doctors@26265702],{}>
2018-07-14 14:33:59.989  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-14 14:34:04.635  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:34:04.635 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:34:04.636 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:34:04.637 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:34:04.642  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:34:04.643  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:34:04.643  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:34:04.643  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:34:04.643  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:34:04.643  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:34:04.643 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:34:04.643 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:34:04.646 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-14 14:34:04.646  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:34:04.646  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@3134d24c, com.yy.hospital.domain.Doctors@2536ee41, com.yy.hospital.domain.Doctors@1a5c26ff, com.yy.hospital.domain.Doctors@124e681e, com.yy.hospital.domain.Doctors@5ff7ea9, com.yy.hospital.domain.Doctors@1729dcb1, com.yy.hospital.domain.Doctors@6cb97b75, com.yy.hospital.domain.Doctors@dd6e064, com.yy.hospital.domain.Doctors@7322dd41],{}>
2018-07-14 14:34:04.646  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 14:34:17.250  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:34:17.250 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:34:17.251 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:34:17.252 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:34:17.255  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:34:17.259  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:34:17.260  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/admins/1
2018-07-14 14:34:17.260  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:34:17.260  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.AdminsController.findByState
2018-07-14 14:34:17.260  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[1]
2018-07-14 14:34:17.263 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByState    : ==>  Preparing: select aid,aname,aexist,by1 from admins where state=? 
2018-07-14 14:34:17.263 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByState    : ==> Parameters: 1(Integer)
2018-07-14 14:34:17.264 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByState    : <==      Total: 2
2018-07-14 14:34:17.264  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:34:17.264  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Admins@3c7fbe87, com.yy.hospital.domain.Admins@9e3616d],{}>
2018-07-14 14:34:17.264  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-14 14:34:18.947  INFO 5644 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:34:18.948 DEBUG 5644 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:34:18.948 DEBUG 5644 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:34:18.949 DEBUG 5644 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:34:18.953  INFO 5644 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:34:18.954  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:34:18.954  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/admins/1
2018-07-14 14:34:18.954  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:34:18.954  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.AdminsController.findByState
2018-07-14 14:34:18.954  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[1]
2018-07-14 14:34:18.955 DEBUG 5644 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByState    : ==>  Preparing: select aid,aname,aexist,by1 from admins where state=? 
2018-07-14 14:34:18.955 DEBUG 5644 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByState    : ==> Parameters: 1(Integer)
2018-07-14 14:34:18.957 DEBUG 5644 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByState    : <==      Total: 2
2018-07-14 14:34:18.957  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:34:18.957  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Admins@258a5db6, com.yy.hospital.domain.Admins@4c6805d8],{}>
2018-07-14 14:34:18.957  INFO 5644 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 14:50:45.194  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:50:45.195 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:50:45.196 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:50:45.198 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:50:45.202  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:14.708  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:14.709 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:14.709 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:14.710 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:14.713  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:14.714  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:51:14.714  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-14 14:51:14.714  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:51:14.714  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-14 14:51:14.714  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:51:14.714 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-14 14:51:14.714 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-14 14:51:14.715 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-14 14:51:14.716  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:51:14.716  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@691fbb9f, com.yy.hospital.domain.Departs@52f4936e, com.yy.hospital.domain.Departs@4589a141, com.yy.hospital.domain.Departs@5bae992f, com.yy.hospital.domain.Departs@4ff90286, com.yy.hospital.domain.Departs@39e087f4, com.yy.hospital.domain.Departs@316baa20, com.yy.hospital.domain.Departs@1ea32ac3, com.yy.hospital.domain.Departs@19c9e6a3, com.yy.hospital.domain.Departs@242b1d49]
2018-07-14 14:51:14.716  INFO 5644 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 14:51:19.352  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:19.353 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:19.354 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:19.357 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:19.361  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:19.362  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:51:19.362  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:51:19.362  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:51:19.362  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:51:19.362  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:51:19.362 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:51:19.362 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:51:19.365 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-14 14:51:19.365  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:51:19.365  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@62a53e2f, com.yy.hospital.domain.Doctors@289e21c8, com.yy.hospital.domain.Doctors@44f9f22b, com.yy.hospital.domain.Doctors@3e54b735, com.yy.hospital.domain.Doctors@75cbb296, com.yy.hospital.domain.Doctors@2c824d86, com.yy.hospital.domain.Doctors@27e19a97, com.yy.hospital.domain.Doctors@3c177c41, com.yy.hospital.domain.Doctors@14603657],{}>
2018-07-14 14:51:19.365  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 14:51:24.174  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:24.175 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:24.175 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:24.176 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:24.179  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:24.180  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:51:24.180  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/admins/1
2018-07-14 14:51:24.180  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:51:24.180  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.AdminsController.findByState
2018-07-14 14:51:24.180  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[1]
2018-07-14 14:51:24.180 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByState    : ==>  Preparing: select aid,aname,aexist,by1 from admins where state=? 
2018-07-14 14:51:24.180 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByState    : ==> Parameters: 1(Integer)
2018-07-14 14:51:24.181 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByState    : <==      Total: 2
2018-07-14 14:51:24.182  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:51:24.182  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Admins@98d011b, com.yy.hospital.domain.Admins@73ec78df],{}>
2018-07-14 14:51:24.182  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 14:51:27.843  INFO 5644 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:27.844 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:27.844 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:27.846 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:27.848  INFO 5644 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:34.526  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:34.527 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:34.527 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:34.529 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:34.534  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:47.934  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:47.934 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:47.935 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:47.937 DEBUG 5644 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:47.939  INFO 5644 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:53.568  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:51:53.569 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:51:53.570 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:51:53.571 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:51:53.573  INFO 5644 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:51:53.574  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:51:53.574  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:51:53.574  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:51:53.574  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:51:53.574  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:51:53.574 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:51:53.574 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:51:53.576 DEBUG 5644 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-14 14:51:53.576  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:51:53.576  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@3c3d4435, com.yy.hospital.domain.Doctors@4849ee5c, com.yy.hospital.domain.Doctors@2fd4b12a, com.yy.hospital.domain.Doctors@67c11961, com.yy.hospital.domain.Doctors@318bf540, com.yy.hospital.domain.Doctors@36b7d623, com.yy.hospital.domain.Doctors@3c607c3e, com.yy.hospital.domain.Doctors@538560c2, com.yy.hospital.domain.Doctors@3d4aae07],{}>
2018-07-14 14:51:53.576  INFO 5644 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-14 14:52:00.976  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:52:00.977 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:52:00.977 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:52:00.979 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:52:00.982  INFO 5644 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:52:00.986  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:52:00.986  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctorschangestate
2018-07-14 14:52:00.986  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 14:52:00.986  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.doctorschangestate
2018-07-14 14:52:00.986  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[1, 8]
2018-07-14 14:52:00.994 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.m.DoctorsMapper.updateDrDoexist    : ==>  Preparing: update doctors set doexist = ? where doid = ? 
2018-07-14 14:52:00.994 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.m.DoctorsMapper.updateDrDoexist    : ==> Parameters: 1(Integer), 8(Integer)
2018-07-14 14:52:00.999 DEBUG 5644 --- [http-nio-8086-exec-2] c.y.h.m.DoctorsMapper.updateDrDoexist    : <==    Updates: 1
2018-07-14 14:52:00.999  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:52:00.999  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 14:52:00.999  INFO 5644 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:13
2018-07-14 14:52:02.902  INFO 5644 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:52:02.903 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:52:02.903 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:52:02.905 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:52:02.908  INFO 5644 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:52:02.909  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:52:02.909  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:52:02.909  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:52:02.909  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:52:02.909  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:52:02.909 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:52:02.909 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:52:02.911 DEBUG 5644 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-14 14:52:02.912  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:52:02.912  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@40da42f0, com.yy.hospital.domain.Doctors@6d7af28d, com.yy.hospital.domain.Doctors@114e4a74, com.yy.hospital.domain.Doctors@5ef5b7bc, com.yy.hospital.domain.Doctors@4caab350, com.yy.hospital.domain.Doctors@767eded2, com.yy.hospital.domain.Doctors@15003783, com.yy.hospital.domain.Doctors@66bb3ac8, com.yy.hospital.domain.Doctors@7f12357c],{}>
2018-07-14 14:52:02.912  INFO 5644 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-14 14:52:04.997  INFO 5644 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:52:04.998 DEBUG 5644 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:52:04.999 DEBUG 5644 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:52:05.001 DEBUG 5644 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:52:05.006  INFO 5644 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:52:05.007  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:52:05.007  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctorschangestate
2018-07-14 14:52:05.007  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-14 14:52:05.007  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.doctorschangestate
2018-07-14 14:52:05.007  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[0, 21]
2018-07-14 14:52:05.009 DEBUG 5644 --- [http-nio-8086-exec-5] c.y.h.m.DoctorsMapper.updateDrDoexist    : ==>  Preparing: update doctors set doexist = ? where doid = ? 
2018-07-14 14:52:05.009 DEBUG 5644 --- [http-nio-8086-exec-5] c.y.h.m.DoctorsMapper.updateDrDoexist    : ==> Parameters: 0(Integer), 21(Integer)
2018-07-14 14:52:05.023 DEBUG 5644 --- [http-nio-8086-exec-5] c.y.h.m.DoctorsMapper.updateDrDoexist    : <==    Updates: 1
2018-07-14 14:52:05.023  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:52:05.023  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-14 14:52:05.023  INFO 5644 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:16
2018-07-14 14:52:06.624  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-14 14:52:06.626 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-14 14:52:06.626 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-14 14:52:06.628 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-14 14:52:06.630  INFO 5644 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-14 14:52:06.630  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-14 14:52:06.630  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-14 14:52:06.630  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-14 14:52:06.630  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-14 14:52:06.630  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-14 14:52:06.631 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-14 14:52:06.631 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-14 14:52:06.634 DEBUG 5644 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-14 14:52:06.634  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-14 14:52:06.634  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@f0dcbc4, com.yy.hospital.domain.Doctors@5927e002, com.yy.hospital.domain.Doctors@78e693a, com.yy.hospital.domain.Doctors@285e3661, com.yy.hospital.domain.Doctors@496c8b45, com.yy.hospital.domain.Doctors@2f2d559a, com.yy.hospital.domain.Doctors@5b1e2efc, com.yy.hospital.domain.Doctors@22ae6c0, com.yy.hospital.domain.Doctors@2f317363],{}>
2018-07-14 14:52:06.634  INFO 5644 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:4
