2018-07-25 00:17:48.429  INFO 10112 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10112 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:17:48.441  INFO 10112 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:17:48.518  INFO 10112 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:17:48 CST 2018]; root of context hierarchy
2018-07-25 00:17:49.382  INFO 10112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:17:49.423  INFO 10112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:17:50.049  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.356  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.370  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.376  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6272c96f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.392  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.417  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.868  INFO 10112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:17:50.900  INFO 10112 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:17:50.901  INFO 10112 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:17:50.921  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:17:50.922  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:17:50.922  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:17:51.984  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:17:52.089  INFO 10112 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:17:52.089  INFO 10112 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3572 ms
2018-07-25 00:17:52.287  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:17:52.287  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:17:52.288  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:17:52.288  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:17:52.288  INFO 10112 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:17:52.289  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:17:52.289  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:17:53.195  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:17:53.284  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@3c7db3ca, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 00:17:53.424  INFO 10112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:17:53.694  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:17:48 CST 2018]; root of context hierarchy
2018-07-25 00:17:53.760  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:17:53.762  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:17:53.763  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:17:53.763  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:17:53.765  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:17:53.767  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:17:53.767  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:17:53.767  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:17:53.768  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:17:53.768  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:17:53.769  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:17:53.770  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:17:53.770  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:17:53.770  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:17:53.771  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:17:53.773  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:17:53.774  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:17:53.775  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:17:53.776  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:17:53.776  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:17:53.777  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:17:53.777  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:17:53.778  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:17:53.780  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:17:53.780  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:17:53.828  INFO 10112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:17:53.828  INFO 10112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:17:53.847  INFO 10112 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:17:56.302  INFO 10112 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:17:56.907  INFO 10112 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:17:56.909  INFO 10112 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:17:56.915  INFO 10112 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:17:56.951  INFO 10112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:17:56.955  INFO 10112 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.987 seconds (JVM running for 11.635)
2018-07-25 00:17:57.344  INFO 10112 --- [cluster-ClusterId{value='5b575134b8e4d527808afaac', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:18:17.576  INFO 10112 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:18:17.577  INFO 10112 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:18:17.599  INFO 10112 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 00:18:17.763  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:17.763  INFO 10112 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:17.763  INFO 10112 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:17.782  INFO 10112 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:18:17.916  INFO 10112 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:18:17.927 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:17.927 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:17.932 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:17.947 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:17.947 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:17.947 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:17.970 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:17.970 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:17.970 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:17.980  INFO 10112 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:17.980  INFO 10112 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:17.980  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:18.006  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:18.006  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:18:18.010  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:18:18.010 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:18.010  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:18:18.011  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:18:18.011 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:18.011  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:18:18.014 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:18:18.046 DEBUG 10112 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:18:18.047 DEBUG 10112 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:18:18.052 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.052 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.053 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.053 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.056 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.058 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.060 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.061 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.062 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.059 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.064 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.065 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.065 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.065 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.067 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.067 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.068 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.068 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.069 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.071 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.071 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.072 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.072 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.073 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.075 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.075 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.075 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.076 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.079 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.079 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.079 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.080 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.080 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.081 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.082 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.084 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.085 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.085 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.085 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.086 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.088 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.088 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.089 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.089 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.089 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.090 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.092 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.094 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.095 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.096 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.098 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.098 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.100 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.100 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.100 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.101 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.105 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.105 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.106 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.106 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.110 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.110 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.111 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.111 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.111 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.112 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.114 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.114 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.115 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.117 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.119 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.119 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.121 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.121 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.122 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.122 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.124 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.124 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.125 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.125 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.126 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.126 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.127 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.129 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.129 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.130 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.130 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.131 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.131 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.133 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.133 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.134 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.134 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.138 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.142 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.142 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.143 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.143 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.145 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.147 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.149 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.151 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.151 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.152 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.153 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.153 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.155 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.155 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.157 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.157 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.159 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.159 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.161 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.161 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.165 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.165 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.168 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.169 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.170 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.170 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.170 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.171 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.171  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:18.171  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:18:18.171  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:164
2018-07-25 00:18:18.172 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.173 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.173 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.174 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.175  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:18.175  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@3395cd98,{}>
2018-07-25 00:18:18.175  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:168
2018-07-25 00:18:19.696  INFO 10112 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:19.697 DEBUG 10112 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:19.698 DEBUG 10112 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:19.699 DEBUG 10112 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:19.704  INFO 10112 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:18:19.709 DEBUG 10112 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:18:19.709 DEBUG 10112 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:18:19.711 DEBUG 10112 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:18:19.711  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:19.711  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@7a13aa58, com.yy.hospital.domain.Departs@2aa76d89, com.yy.hospital.domain.Departs@6567db85, com.yy.hospital.domain.Departs@19fb9cef, com.yy.hospital.domain.Departs@7e5db4e2, com.yy.hospital.domain.Departs@6f074585, com.yy.hospital.domain.Departs@34670013, com.yy.hospital.domain.Departs@71beee94],{}>
2018-07-25 00:18:19.711  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 00:18:19.729  INFO 10112 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:19.729 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:19.730 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:19.731 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:19.735  INFO 10112 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:19.744  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:18:19.747 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:18:19.748 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:18:19.749 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:18:19.749  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:19.749  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1d320c01,{}>
2018-07-25 00:18:19.749  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 00:18:25.626  INFO 10112 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:25.627 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:25.627 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:25.629 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:25.634  INFO 10112 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 00:18:25.637 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:18:25.637 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 00:18:25.640 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 00:18:25.641  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:25.641  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@33cbbe7a,{}>
2018-07-25 00:18:25.641  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:18:54.938  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:54.940 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:54.941 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:54.943 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:54.949  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:18:54.951 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:18:54.951 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:18:54.954 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:18:54.954  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:54.954  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7ea57325,{}>
2018-07-25 00:18:54.954  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 00:51:12.840  INFO 9880 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9880 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:51:12.865  INFO 9880 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:51:12.953  INFO 9880 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:51:12 CST 2018]; root of context hierarchy
2018-07-25 00:51:13.992  INFO 9880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:51:14.030  INFO 9880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:51:14.556  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ff2608f1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.814  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$97d3d12b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.827  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.834  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a6ebe1e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.885  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bca873dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.907  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:15.438  INFO 9880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:51:15.471  INFO 9880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:51:15.471  INFO 9880 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:51:15.583  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:51:15.583  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:51:15.584  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:51:16.624  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:51:16.751  INFO 9880 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:51:16.752  INFO 9880 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3799 ms
2018-07-25 00:51:16.962  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:51:16.962  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:51:16.964  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:51:17.870  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:51:17.870  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:51:17.871  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:51:17.962  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79b84841, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a0e7ecd, org.springframework.security.web.header.HeaderWriterFilter@227a47, org.springframework.web.filter.CorsFilter@6ff090b9, org.springframework.security.web.authentication.logout.LogoutFilter@5bc28f40, com.yy.hospital.security.JwtAuthenticationTokenFilter@4d41ba0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43e9089, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5df778c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c87e6b7, org.springframework.security.web.session.SessionManagementFilter@65b97f47, org.springframework.security.web.access.ExceptionTranslationFilter@4eba373c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f0f7849]
2018-07-25 00:51:18.088  INFO 9880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:51:18.358  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:51:12 CST 2018]; root of context hierarchy
2018-07-25 00:51:18.428  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:51:18.429  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:51:18.430  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:51:18.431  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:51:18.431  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:51:18.433  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:51:18.434  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:51:18.435  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:51:18.435  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:51:18.435  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:51:18.436  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:51:18.437  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:51:18.437  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:51:18.438  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:51:18.438  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:51:18.441  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:51:18.442  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:51:18.442  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:51:18.443  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:51:18.444  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:51:18.444  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:51:18.444  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:51:18.445  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:51:18.447  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:51:18.448  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:51:18.496  INFO 9880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:51:18.497  INFO 9880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:51:18.517  INFO 9880 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:51:21.032  INFO 9880 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:51:21.643  INFO 9880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:51:21.645  INFO 9880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:51:21.651  INFO 9880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:51:21.689  INFO 9880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:51:21.694  INFO 9880 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.05 seconds (JVM running for 11.615)
2018-07-25 00:51:22.099  INFO 9880 --- [cluster-ClusterId{value='5b575909b8e4d52698618982', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:51:35.620  INFO 9880 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:51:35.621  INFO 9880 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:51:35.642  INFO 9880 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 00:51:35.809  INFO 9880 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:35.809  INFO 9880 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:35.809  INFO 9880 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:35.827  INFO 9880 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:51:35.958  INFO 9880 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:51:35.967 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:35.967 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:35.971 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:35.984 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:35.984 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:35.984 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:36.008 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.008 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.008 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.018  INFO 9880 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:36.018  INFO 9880 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:36.018  INFO 9880 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:51:36.045  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:51:36.045  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:51:36.048 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:36.049 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:36.052 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:51:36.080 DEBUG 9880 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:51:36.080 DEBUG 9880 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:51:36.086 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.086 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.087 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.087 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.090 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.091 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.091 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.092 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.092 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.093 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.093 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.095 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.095 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.096 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.097 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.098 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.098 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.099 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.099 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.100 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.102 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.102 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.102 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.103 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.103 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.104 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.105 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.105 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.107 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.108 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.108 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.108 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.109 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.109 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.112 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.113 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.113 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.114 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.114 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.114 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.116 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.116 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.117 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.117 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.118 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.118 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.120 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.121 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.121 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.121 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.124 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.126 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.126 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.129 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.129 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.130 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.130 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.131 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.131 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.132 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.133 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.134 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.135 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.136 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.136 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.136 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.137 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.138 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.138 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.139 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.138 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.140 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.140 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.143 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.143 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.144 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.146 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.146 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.147 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.147 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.148 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.148 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.150 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.150 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.152 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.152 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.154 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.154 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.156 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.156 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.158 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.158 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.160 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.160 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.161 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.161 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.162 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.162 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.163 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.163 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.165 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.165 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.169 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.169 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.170 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.170 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.172 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.172 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.174 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.174 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.176 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.176 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.179 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.179 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.181 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.182 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.182 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.183 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.183 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.185 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.185 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.188 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.188 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.190 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.190 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.192 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.192 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.193 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.193 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.193 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.194 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.196 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.196 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.197 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.197 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.197  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:36.197  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@31cccde8,{}>
2018-07-25 00:51:36.198  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:154
2018-07-25 00:51:36.198 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.198 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.198 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.200 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.200 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.201 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.202 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.202  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:36.202  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:51:36.202  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:158
2018-07-25 00:51:38.540  INFO 9880 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:38.541 DEBUG 9880 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:38.541 DEBUG 9880 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:38.543 DEBUG 9880 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:38.547  INFO 9880 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:38.548  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:51:38.552 DEBUG 9880 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:51:38.553 DEBUG 9880 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:51:38.556 DEBUG 9880 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:51:38.556  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:38.556  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@11d29558, com.yy.hospital.domain.Departs@72cce81, com.yy.hospital.domain.Departs@1c598409, com.yy.hospital.domain.Departs@27640d1a, com.yy.hospital.domain.Departs@221934fb, com.yy.hospital.domain.Departs@43a0beff, com.yy.hospital.domain.Departs@1309034e, com.yy.hospital.domain.Departs@1482c0e8],{}>
2018-07-25 00:51:38.556  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 00:51:38.575  INFO 9880 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:38.575 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:38.575 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:38.577 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:38.581  INFO 9880 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:51:38.592 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:51:38.593 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:51:38.594 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:51:38.594  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:38.594  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5afa2c63,{}>
2018-07-25 00:51:38.594  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 00:51:46.895  INFO 9880 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:46.897 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:46.897 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:46.901 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:46.910  INFO 9880 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:51:46.911 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:51:46.912 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:51:46.915 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:51:46.925 ERROR 9880 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:45) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d8a5f1c6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:52:53.096  INFO 10648 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10648 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:52:53.101  INFO 10648 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:52:53.291  INFO 10648 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:52:53 CST 2018]; root of context hierarchy
2018-07-25 00:52:54.211  INFO 10648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:52:54.253  INFO 10648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:52:54.827  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3bd670e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.055  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d484391c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.069  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.074  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.081  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f958dbce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.101  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.905  INFO 10648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:52:55.936  INFO 10648 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:52:55.937  INFO 10648 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:52:55.946  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:52:55.954  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:52:55.955  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:52:57.015  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:52:57.145  INFO 10648 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:52:57.146  INFO 10648 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3856 ms
2018-07-25 00:52:57.348  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:52:57.349  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:52:57.349  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:52:57.349  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:52:57.350  INFO 10648 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:52:57.350  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:52:57.351  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:52:58.285  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:52:58.377  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@57e56455, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 00:52:58.503  INFO 10648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:52:58.811  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:52:53 CST 2018]; root of context hierarchy
2018-07-25 00:52:58.879  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:52:58.880  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:52:58.881  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:52:58.882  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:52:58.882  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:52:58.884  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:52:58.884  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:52:58.885  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:52:58.885  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:52:58.886  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:52:58.888  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:52:58.889  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:52:58.889  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:52:58.889  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:52:58.890  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:52:58.892  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:52:58.894  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:52:58.894  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:52:58.895  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:52:58.896  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:52:58.897  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:52:58.897  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:52:58.897  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:52:58.900  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:52:58.900  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:52:58.952  INFO 10648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:52:58.952  INFO 10648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:52:58.972  INFO 10648 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:53:01.382  INFO 10648 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:53:02.033  INFO 10648 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:53:02.034  INFO 10648 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:53:02.040  INFO 10648 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:53:02.078  INFO 10648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:53:02.082  INFO 10648 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.083 seconds (JVM running for 11.598)
2018-07-25 00:53:02.447  INFO 10648 --- [cluster-ClusterId{value='5b57596db8e4d5299839ec9b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:53:11.467  INFO 10648 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:53:11.467  INFO 10648 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:53:11.487  INFO 10648 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 19 ms
2018-07-25 00:53:11.623  INFO 10648 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:11.623  INFO 10648 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:11.623  INFO 10648 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:11.640  INFO 10648 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:53:11.778  INFO 10648 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:53:11.788 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.789 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.794 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.807 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.807 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.807 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.826 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.826 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.826 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.838  INFO 10648 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:11.841  INFO 10648 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:11.841  INFO 10648 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:11.861  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:11.861  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:53:11.864  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:53:11.865 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.864  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:53:11.865  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:53:11.865  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:53:11.865 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.868 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:53:11.890 DEBUG 10648 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:53:11.894 DEBUG 10648 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.897 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.898 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.898 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.900 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.901 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.900 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.901 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.902 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.903 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.903 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.904 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.904 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.905 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.906 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.906 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.906 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.907 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.907 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.908 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.910 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.910 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.910 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.911 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.911 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.912 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.913 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.914 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.915 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.915 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.916 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.916 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.917 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.918 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.918 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.919 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.919 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.920 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.920 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.920 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.921 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.923 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.924 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.924 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.925 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.925 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.925 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.926 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.927 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.928 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.928 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.929 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.931 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.932 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.932 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.934 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.934 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.935 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.936 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.937 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.937 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.938 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.938 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.939 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.940 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.940 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.940 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.941 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.943 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.947 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.947 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.948 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.949 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.949 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.949 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.950 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.950 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.950 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.951 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.951 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.952 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.952 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.953 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.953 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.953 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.954 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.954 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.955 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.955 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.955 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.956 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.956 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.957 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.957 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.961 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.961 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.962 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.962 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.964 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.965 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.965 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.964 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.966 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.967 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.967 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.968 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.968 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.971 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.971 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.972 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.972 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.974 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.974 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.976 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.976 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.978 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.978 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.981 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.981 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.981 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.982 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.982 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.984 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.984 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.986 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.986 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.992 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.992 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.994 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.994 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.995 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.995 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.997 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.999 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.999 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:12.000 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:12.000 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:53:12.001  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:12.001  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:53:12.001  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:139
2018-07-25 00:53:12.002 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:12.002 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:12.003 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:53:12.004 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:12.005 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:12.005 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:53:12.007 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:12.007  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:12.007  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5650798e,{}>
2018-07-25 00:53:12.007  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:145
2018-07-25 00:53:13.952  INFO 10648 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:13.953 DEBUG 10648 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:13.954 DEBUG 10648 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:13.956 DEBUG 10648 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:13.961  INFO 10648 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:53:13.965 DEBUG 10648 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:53:13.965 DEBUG 10648 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:53:13.966 DEBUG 10648 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:53:13.967  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:13.967  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@3af87c6b, com.yy.hospital.domain.Departs@3244a4ab, com.yy.hospital.domain.Departs@23f86b77, com.yy.hospital.domain.Departs@589ed76a, com.yy.hospital.domain.Departs@21fcf336, com.yy.hospital.domain.Departs@360a7a5e, com.yy.hospital.domain.Departs@56c90c3b, com.yy.hospital.domain.Departs@78c2a40f],{}>
2018-07-25 00:53:13.967  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:53:13.983  INFO 10648 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:13.984 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:13.984 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:13.985 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:13.991  INFO 10648 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:53:14.003 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:53:14.004 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:53:14.005 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:53:14.006  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:14.006  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@342ae2c6,{}>
2018-07-25 00:53:14.006  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 00:53:18.262  INFO 10648 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:18.266 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:18.267 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:18.271 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:18.280  INFO 10648 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:18.281  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 00:53:18.282 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:53:18.283 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 00:53:18.287 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:53:18.300 ERROR 10648 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:50) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:55:02.857  INFO 6208 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6208 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:55:02.861  INFO 6208 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:55:02.918  INFO 6208 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:55:02 CST 2018]; root of context hierarchy
2018-07-25 00:55:03.838  INFO 6208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:55:03.880  INFO 6208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:55:04.657  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.957  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.971  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.976  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.986  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:05.005  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:05.470  INFO 6208 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:55:05.498  INFO 6208 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:55:05.499  INFO 6208 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:55:05.506  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:55:05.513  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:55:05.514  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:55:06.559  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:55:06.687  INFO 6208 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:55:06.687  INFO 6208 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3769 ms
2018-07-25 00:55:06.951  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:55:06.952  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:55:06.952  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:55:06.952  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:55:06.953  INFO 6208 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:55:06.953  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:55:06.953  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:55:08.325  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:55:08.330  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:55:08.330  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:55:08.493  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d41ba0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@54e3658c, org.springframework.security.web.header.HeaderWriterFilter@9596ce8, org.springframework.web.filter.CorsFilter@7a69c035, org.springframework.security.web.authentication.logout.LogoutFilter@46963479, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c87e6b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5dbdf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@895416d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bbadc, org.springframework.security.web.session.SessionManagementFilter@255eaa6b, org.springframework.security.web.access.ExceptionTranslationFilter@767a014e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a4f272]
2018-07-25 00:55:08.750  INFO 6208 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:55:09.161  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:55:02 CST 2018]; root of context hierarchy
2018-07-25 00:55:09.238  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:55:09.241  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:55:09.242  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:55:09.242  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:55:09.243  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:55:09.245  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:55:09.246  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:55:09.247  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:55:09.247  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:55:09.247  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:55:09.248  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:55:09.249  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:55:09.249  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:55:09.249  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:55:09.250  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:55:09.254  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:55:09.255  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:55:09.255  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:55:09.256  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:55:09.257  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:55:09.258  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:55:09.259  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:55:09.260  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:55:09.263  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:55:09.263  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:55:09.315  INFO 6208 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:55:09.315  INFO 6208 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:55:09.337  INFO 6208 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:55:11.808  INFO 6208 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:55:12.441  INFO 6208 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:55:12.443  INFO 6208 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:55:12.449  INFO 6208 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:55:12.487  INFO 6208 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:55:12.492  INFO 6208 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.199 seconds (JVM running for 11.785)
2018-07-25 00:55:12.862  INFO 6208 --- [cluster-ClusterId{value='5b5759efb8e4d51840c296c4', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:55:18.375  INFO 6208 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:55:18.376  INFO 6208 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:55:18.396  INFO 6208 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-25 00:55:18.535  INFO 6208 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:18.535  INFO 6208 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:18.535  INFO 6208 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:18.553  INFO 6208 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:55:18.689  INFO 6208 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:55:18.698 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.702 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.708 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.720 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.720 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.720 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.739 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.739 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.748 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.751  INFO 6208 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:18.751  INFO 6208 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:18.756  INFO 6208 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:55:18.779 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.780 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.783 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.801 DEBUG 6208 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:55:18.801 DEBUG 6208 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:55:18.801 DEBUG 6208 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:55:18.802 DEBUG 6208 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:55:18.806 DEBUG 6208 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:55:18.808 DEBUG 6208 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:55:18.811 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.811 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.813 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.813 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.814 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.816 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.816 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.818 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.819 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.819 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.820 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.821 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.821 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.822 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.822 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.822 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.823 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.823 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.826 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.827 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.827 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.828 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.828 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.829 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.829 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.830 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.831 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.831 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.832 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.833 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.833 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.834 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.834 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.837 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.837 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.840 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.840 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.840 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.841 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.841 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.841 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.842 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.842 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.843 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.843 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.844 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.844 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.845 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.845 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.847 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.847 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.850 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.850 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.853 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.854 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.854 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.854 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.855 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.855 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.856 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.856 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.857 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.857 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.857 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.858 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.858 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.858 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.859 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.859 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.861 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.861 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.862 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.862 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.863 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.863 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.863 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.865 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.865 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.866 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.866 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.868 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.868 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.870 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.870 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.871 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.871 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.871 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.872 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.874 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.874 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.876 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.876 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.877 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.877 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.879 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.879 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.883 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.883 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.884 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.886 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.886 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.888 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.888 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.891 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.891 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.892 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.893 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.893 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.894 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.894 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.896 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.896 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.899 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.899 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.899 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.900 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.900 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.902 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.904 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.904 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.905 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.905 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.905 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.906 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.910 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.910 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.912 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.912 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.913 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.913 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.914 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.914 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.914  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:18.914  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@17bffed5,{}>
2018-07-25 00:55:18.914  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:138
2018-07-25 00:55:18.915 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.916 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.916 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.917 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.918  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:18.918  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:55:18.918  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:142
2018-07-25 00:55:22.180  INFO 6208 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:22.182 DEBUG 6208 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:22.182 DEBUG 6208 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:22.184 DEBUG 6208 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:22.189  INFO 6208 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:55:22.193 DEBUG 6208 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:55:22.193 DEBUG 6208 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:55:22.195 DEBUG 6208 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:55:22.195  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:22.195  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4e32e877, com.yy.hospital.domain.Departs@602a3928, com.yy.hospital.domain.Departs@40b8fbc6, com.yy.hospital.domain.Departs@c1e15f8, com.yy.hospital.domain.Departs@5536255c, com.yy.hospital.domain.Departs@6464a5ab, com.yy.hospital.domain.Departs@6385042a, com.yy.hospital.domain.Departs@1f487c77],{}>
2018-07-25 00:55:22.195  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:55:22.213  INFO 6208 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:22.213 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:22.213 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:22.215 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:22.221  INFO 6208 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:22.229  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:22.229  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:55:22.229  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:55:22.230  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:55:22.230  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:55:22.234 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:55:22.234 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:55:22.235 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:55:22.236  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:22.236  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@71a1425a,{}>
2018-07-25 00:55:22.236  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 00:55:26.553  INFO 6208 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:26.554 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:26.554 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:26.556 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:26.560  INFO 6208 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:55:26.562 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:55:26.562 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:55:26.596 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:55:26.604 ERROR 6208 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:51) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:55:31.877  INFO 6208 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:31.878 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:31.879 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:31.881 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:31.887  INFO 6208 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:31.888  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:55:31.889 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:55:31.889 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:55:31.892 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:55:31.893 ERROR 6208 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:51) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:56:43.903  INFO 9420 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9420 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:56:43.908  INFO 9420 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:56:43.968  INFO 9420 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:56:43 CST 2018]; root of context hierarchy
2018-07-25 00:56:44.857  INFO 9420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:56:44.898  INFO 9420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:56:45.639  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4c3478a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.007  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e4e240e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.025  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.034  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44c5a16f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.046  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9b6e395] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.077  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.739  INFO 9420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:56:46.763  INFO 9420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:56:46.764  INFO 9420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:56:46.768  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:56:46.768  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:56:46.769  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:56:47.811  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:56:47.951  INFO 9420 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:56:47.952  INFO 9420 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3984 ms
2018-07-25 00:56:48.249  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:56:48.250  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:56:48.250  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:56:48.250  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:56:48.251  INFO 9420 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:56:48.251  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:56:48.252  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:56:49.919  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:56:50.020  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@3639f9af, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 00:56:50.138  INFO 9420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:56:50.422  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:56:43 CST 2018]; root of context hierarchy
2018-07-25 00:56:50.488  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:56:50.490  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:56:50.490  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:56:50.491  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:56:50.492  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:56:50.494  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:56:50.494  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:56:50.495  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:56:50.495  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:56:50.495  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:56:50.497  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:56:50.497  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:56:50.497  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:56:50.498  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:56:50.498  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:56:50.501  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:56:50.502  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:56:50.502  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:56:50.503  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:56:50.503  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:56:50.504  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:56:50.504  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:56:50.505  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:56:50.507  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:56:50.508  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:56:50.560  INFO 9420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:56:50.560  INFO 9420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:56:50.578  INFO 9420 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:56:52.991  INFO 9420 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:56:53.650  INFO 9420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:56:53.651  INFO 9420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:56:53.658  INFO 9420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:56:53.695  INFO 9420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:56:53.698  INFO 9420 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.427 seconds (JVM running for 11.968)
2018-07-25 00:56:54.040  INFO 9420 --- [cluster-ClusterId{value='5b575a54b8e4d524cc26384b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:57:28.035  INFO 9420 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:57:28.035  INFO 9420 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:57:28.056  INFO 9420 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 00:57:28.204  INFO 9420 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:28.204  INFO 9420 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:28.204  INFO 9420 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:28.222  INFO 9420 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:57:28.357  INFO 9420 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:57:28.368 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.368 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.372 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.386 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.386 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.386 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.404 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.404 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.405 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.414  INFO 9420 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:28.415  INFO 9420 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:28.417  INFO 9420 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:57:28.438  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:57:28.438  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:57:28.445 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.446 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.448 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.466 DEBUG 9420 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:57:28.467 DEBUG 9420 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:57:28.467 DEBUG 9420 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:57:28.467 DEBUG 9420 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:57:28.470 DEBUG 9420 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:57:28.471 DEBUG 9420 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:57:28.475 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.475 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.476 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.476 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.478 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.478 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.479 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.479 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.480 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.480 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.482 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.483 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.483 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.484 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.484 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.484 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.485 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.486 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.486 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.488 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.488 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.488 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.492 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.492 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.494 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.495 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.495 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.495 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.497 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.497 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.498 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.500 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.500 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.501 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.501 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.502 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.503 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.503 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.504 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.504 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.505 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.505 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.506 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.506 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.507 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.508 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.508 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.509 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.509 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.509 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.510 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.513 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.513 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.514 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.514 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.517 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.517 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.518 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.518 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.519 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.519 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.520 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.522 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.523 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.523 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.525 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.525 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.526 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.526 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.526 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.527 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.529 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.529 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.529 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.530 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.530 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.530 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.531 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.532 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.532 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.532 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.533 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.533 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.534 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.534 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.536 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.536 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.538 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.538 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.542 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.542 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.546 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.546 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.550 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.550 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.551 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.551 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.553 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.554 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.554 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.554 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.555 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.556 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.557 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.557 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.557 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.558 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.558 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.559 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.560 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.561 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.563 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.565 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.565 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.566 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.566 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.567 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.568 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.568 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.569 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.569 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.570 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.570 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.571 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.571 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.572 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.574 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.575 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.575 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.578 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.578 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.579 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.579 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.579 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.580 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.581 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.582 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.582 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.582 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.583 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.583 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.584 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.584 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.585 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.586 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.587 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.587 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.589 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.590 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.590 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.591 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.591 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.591 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.593 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.594 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.594 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.595 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.596 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.596 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.596 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.597 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.597 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.598 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.598 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.599 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.599  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:28.599  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@6777311c,{}>
2018-07-25 00:57:28.599 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.599  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:162
2018-07-25 00:57:28.600 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.601 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.601 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.603 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.603  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:28.603  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:57:28.604  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:167
2018-07-25 00:57:30.094  INFO 9420 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:30.096 DEBUG 9420 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:30.096 DEBUG 9420 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:30.098 DEBUG 9420 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:30.101  INFO 9420 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:30.102  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:30.102  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:57:30.103  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:57:30.103  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:57:30.103  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:57:30.105 DEBUG 9420 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:57:30.105 DEBUG 9420 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:57:30.107 DEBUG 9420 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:57:30.107  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:30.107  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@799127b8, com.yy.hospital.domain.Departs@2b7cd2d2, com.yy.hospital.domain.Departs@7ae430e6, com.yy.hospital.domain.Departs@12c9f0db, com.yy.hospital.domain.Departs@6295a9dd, com.yy.hospital.domain.Departs@2f320d1f, com.yy.hospital.domain.Departs@748a6b1f, com.yy.hospital.domain.Departs@2918127d],{}>
2018-07-25 00:57:30.107  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:57:30.123  INFO 9420 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:30.124 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:30.124 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:30.126 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:30.132  INFO 9420 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:57:30.145 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:57:30.146 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:57:30.147 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:57:30.147  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:30.147  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@494b1fbe,{}>
2018-07-25 00:57:30.147  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:57:39.305  INFO 9420 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:39.306 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:39.306 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:39.308 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:39.312  INFO 9420 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:57:39.314  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:57:39.314 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:57:39.314 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:57:39.317 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:57:39.326 ERROR 9420 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:52) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$4654fc98.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:59:03.941  INFO 10028 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10028 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:59:03.945  INFO 10028 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:59:04.004  INFO 10028 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 00:59:04 CST 2018]; root of context hierarchy
2018-07-25 00:59:04.913  INFO 10028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:59:04.956  INFO 10028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:59:05.780  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$38fd565a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.057  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d1ab1e94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.071  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.077  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.084  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f67fc146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.105  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.685  INFO 10028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:59:06.709  INFO 10028 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:59:06.709  INFO 10028 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:59:06.714  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:59:06.715  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:59:06.715  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:59:07.774  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:59:07.916  INFO 10028 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:59:07.917  INFO 10028 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3913 ms
2018-07-25 00:59:08.206  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:59:08.206  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:59:08.207  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:59:08.207  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:59:08.207  INFO 10028 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:59:08.208  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:59:08.208  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:59:09.779  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:59:09.781  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:59:09.781  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:59:09.891  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee0b4f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@476fe690, org.springframework.security.web.header.HeaderWriterFilter@26f46fa6, org.springframework.web.filter.CorsFilter@2af6f8b5, org.springframework.security.web.authentication.logout.LogoutFilter@5f7989fa, com.yy.hospital.security.JwtAuthenticationTokenFilter@79b84841, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54e3658c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f5ac102, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d41ba0f, org.springframework.security.web.session.SessionManagementFilter@60bbacfc, org.springframework.security.web.access.ExceptionTranslationFilter@2f236de0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bbf841e]
2018-07-25 00:59:10.046  INFO 10028 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:59:10.354  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 00:59:04 CST 2018]; root of context hierarchy
2018-07-25 00:59:10.418  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:59:10.420  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:59:10.420  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:59:10.421  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:59:10.421  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:59:10.423  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:59:10.423  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:59:10.424  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:59:10.424  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:59:10.424  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:59:10.425  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:59:10.426  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:59:10.427  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:59:10.427  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:59:10.427  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:59:10.430  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:59:10.431  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:59:10.431  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:59:10.432  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:59:10.432  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:59:10.433  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:59:10.434  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:59:10.435  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:59:10.437  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:59:10.438  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:59:10.488  INFO 10028 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:59:10.488  INFO 10028 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:59:10.507  INFO 10028 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:59:13.124  INFO 10028 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:59:13.794  INFO 10028 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:59:13.796  INFO 10028 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:59:13.802  INFO 10028 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:59:13.844  INFO 10028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:59:13.848  INFO 10028 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.489 seconds (JVM running for 12.485)
2018-07-25 00:59:14.177  INFO 10028 --- [cluster-ClusterId{value='5b575ae1b8e4d5272c474285', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:59:26.975  INFO 10028 --- [http-nio-8086-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:59:26.975  INFO 10028 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:59:26.997  INFO 10028 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 00:59:27.135  INFO 10028 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:59:27.154  INFO 10028 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:59:27.307  INFO 10028 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:59:27.315 DEBUG 10028 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:59:27.334 DEBUG 10028 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:59:27.353 DEBUG 10028 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:59:27.362  INFO 10028 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:59:27.384  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:59:27.385  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:59:27.385  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:59:27.387  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:59:27.387  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:59:27.403 DEBUG 10028 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:59:27.403 DEBUG 10028 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:59:27.407 DEBUG 10028 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:59:27.408  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:59:27.408  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@23758bbe, com.yy.hospital.domain.Departs@1736f366, com.yy.hospital.domain.Departs@585f99c1, com.yy.hospital.domain.Departs@1f17c698, com.yy.hospital.domain.Departs@103096bf, com.yy.hospital.domain.Departs@30bdfa1c, com.yy.hospital.domain.Departs@1408fc5b, com.yy.hospital.domain.Departs@358adb44],{}>
2018-07-25 00:59:27.408  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:23
2018-07-25 00:59:27.509  INFO 10028 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:59:27.509 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:59:27.509 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:59:27.512 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:59:27.518  INFO 10028 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:59:27.532  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:59:27.537 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:59:27.538 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:59:27.539 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:59:27.540  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:59:27.540  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6499ec6f,{}>
2018-07-25 00:59:27.540  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 00:59:34.888  INFO 10028 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:59:34.889 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:59:34.890 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:59:34.892 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:59:34.896  INFO 10028 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 00:59:34.897 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:59:34.898 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 00:59:34.901 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:59:34.957 ERROR 10028 --- [http-nio-8086-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$6e87c84b.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:00:31.380  INFO 10576 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10576 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:00:31.387  INFO 10576 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:00:31.468  INFO 10576 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f36662c: startup date [Wed Jul 25 01:00:31 CST 2018]; root of context hierarchy
2018-07-25 01:00:33.334  INFO 10576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:00:33.386  INFO 10576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:00:34.322  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1a754e3f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.675  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b3231679] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.694  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.702  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@433c6abb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.718  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d7f7b92b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.743  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:35.307  INFO 10576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:00:35.341  INFO 10576 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:00:35.341  INFO 10576 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:00:35.348  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:00:35.349  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:00:35.349  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:00:36.417  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:00:36.634  INFO 10576 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:00:36.634  INFO 10576 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5167 ms
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:00:37.153  INFO 10576 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:00:37.154  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:00:37.154  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:00:38.383  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:00:38.514  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@435e416c, org.springframework.security.web.context.SecurityContextPersistenceFilter@26c8b296, org.springframework.security.web.header.HeaderWriterFilter@dbed7fd, org.springframework.web.filter.CorsFilter@464767d3, org.springframework.security.web.authentication.logout.LogoutFilter@31aab981, com.yy.hospital.security.JwtAuthenticationTokenFilter@6af310c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10f405ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a1568d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aed311e, org.springframework.security.web.session.SessionManagementFilter@8c0a23f, org.springframework.security.web.access.ExceptionTranslationFilter@5a05dd30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@320be73]
2018-07-25 01:00:38.681  INFO 10576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:00:39.035  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f36662c: startup date [Wed Jul 25 01:00:31 CST 2018]; root of context hierarchy
2018-07-25 01:00:39.146  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:00:39.149  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:00:39.149  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:00:39.150  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:00:39.152  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:00:39.154  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:00:39.155  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:00:39.156  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:00:39.156  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:00:39.157  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:00:39.159  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:00:39.160  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:00:39.161  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:00:39.161  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:00:39.162  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:00:39.167  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:00:39.168  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:00:39.168  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:00:39.171  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:00:39.172  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:00:39.173  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:00:39.174  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:00:39.175  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:00:39.178  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:00:39.179  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:00:39.245  INFO 10576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:00:39.245  INFO 10576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:00:39.275  INFO 10576 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:00:42.021  INFO 10576 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:00:42.967  INFO 10576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:00:42.969  INFO 10576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:00:42.977  INFO 10576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:00:43.030  INFO 10576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:00:43.037  INFO 10576 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 12.352 seconds (JVM running for 15.871)
2018-07-25 01:00:43.098  INFO 10576 --- [cluster-ClusterId{value='5b575b3ab8e4d52950d0fe90', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:00:50.416  INFO 10576 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:00:50.417  INFO 10576 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:00:50.443  INFO 10576 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2018-07-25 01:00:50.618  INFO 10576 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:00:50.650  INFO 10576 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:00:50.826  INFO 10576 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:00:50.838 DEBUG 10576 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:00:50.859 DEBUG 10576 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:00:50.883 DEBUG 10576 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:00:50.895  INFO 10576 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:00:50.921  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:00:50.921  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:00:50.921  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:00:50.924  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:00:50.924  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:00:50.949 DEBUG 10576 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:00:50.950 DEBUG 10576 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:00:50.955 DEBUG 10576 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:00:50.956  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:00:50.957  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@3db76cb5, com.yy.hospital.domain.Departs@2bd33fde, com.yy.hospital.domain.Departs@4dd34de0, com.yy.hospital.domain.Departs@1fd8eed9, com.yy.hospital.domain.Departs@198ceb53, com.yy.hospital.domain.Departs@2b130a73, com.yy.hospital.domain.Departs@7cf8eebc, com.yy.hospital.domain.Departs@240e79dc],{}>
2018-07-25 01:00:50.957  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:36
2018-07-25 01:00:51.102  INFO 10576 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:00:51.103 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:00:51.103 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:00:51.105 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:00:51.111  INFO 10576 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:00:51.131 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:00:51.132 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:00:51.134 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:01:25.457  INFO 10576 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:01:25.459 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:01:25.459  INFO 10576 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:01:25.459 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:01:25.507 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:01:25.512 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:01:25.512  INFO 10576 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:01:25.512 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:01:25.514 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:01:25.516 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:01:25.520 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:01:25.523 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:01:25.528  INFO 10576 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:01:25.534  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:01:25.533 ERROR 10576 --- [http-nio-8086-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$a49af5d0.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:01:25.535 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:01:25.536 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:01:27.889 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:01:27.891 ERROR 10576 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$a49af5d0.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:01:48.842  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:01:48.843  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@2e8644ca,{}>
2018-07-25 01:01:48.844  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:57718
2018-07-25 01:03:28.231  INFO 3876 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3876 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:03:28.236  INFO 3876 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:03:28.294  INFO 3876 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:03:28 CST 2018]; root of context hierarchy
2018-07-25 01:03:29.345  INFO 3876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:03:29.390  INFO 3876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:03:30.341  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2de7bd0f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.652  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c6958549] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.669  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.676  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@48c4245d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.685  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$eb6a27fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.717  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:31.179  INFO 3876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:03:31.210  INFO 3876 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:03:31.211  INFO 3876 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:03:31.216  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:03:31.217  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:03:31.217  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:03:32.284  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:03:32.482  INFO 3876 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:03:32.482  INFO 3876 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4188 ms
2018-07-25 01:03:32.837  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:03:32.838  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:03:32.839  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:03:32.839  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:03:32.840  INFO 3876 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:03:32.840  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:03:32.840  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:03:34.442  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:03:34.536  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5dbdf8, org.springframework.security.web.header.HeaderWriterFilter@70228253, org.springframework.web.filter.CorsFilter@33555e11, org.springframework.security.web.authentication.logout.LogoutFilter@6dd1c3ed, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aac8884, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80bfdc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@7a0e7ecd, org.springframework.security.web.access.ExceptionTranslationFilter@3968bc60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b84841]
2018-07-25 01:03:34.658  INFO 3876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:03:34.962  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:03:28 CST 2018]; root of context hierarchy
2018-07-25 01:03:35.026  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:03:35.028  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:03:35.029  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:03:35.030  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:03:35.031  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:03:35.033  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:03:35.033  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:03:35.034  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:03:35.034  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:03:35.034  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:03:35.036  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:03:35.036  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:03:35.036  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:03:35.037  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:03:35.037  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:03:35.039  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:03:35.040  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:03:35.041  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:03:35.042  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:03:35.043  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:03:35.044  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:03:35.044  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:03:35.044  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:03:35.047  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:03:35.048  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:03:35.100  INFO 3876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:03:35.100  INFO 3876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:03:35.119  INFO 3876 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:03:37.706  INFO 3876 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:03:38.373  INFO 3876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:03:38.375  INFO 3876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:03:38.381  INFO 3876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:03:38.418  INFO 3876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:03:38.422  INFO 3876 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.715 seconds (JVM running for 12.907)
2018-07-25 01:03:38.763  INFO 3876 --- [cluster-ClusterId{value='5b575be9b8e4d50f2440335b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:03:45.769  INFO 3876 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:03:45.769  INFO 3876 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:03:45.793  INFO 3876 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-25 01:03:45.929  INFO 3876 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:03:45.947  INFO 3876 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:03:46.073  INFO 3876 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:03:46.079 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:03:46.095 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:03:46.111 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:03:46.119  INFO 3876 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:03:46.147  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:03:46.147  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:03:46.147  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:03:46.149  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:03:46.150  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:03:46.154 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:03:46.155 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:03:46.159 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:03:46.169 ERROR 3876 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$4654fc98.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:06:34.905  INFO 9920 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9920 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:06:34.909  INFO 9920 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:06:34.965  INFO 9920 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:06:34 CST 2018]; root of context hierarchy
2018-07-25 01:06:35.885  INFO 9920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:06:35.928  INFO 9920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:06:36.790  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b048e0fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.051  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$48f6a935] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.065  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.073  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bb8855f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.088  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6dcb4be7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.112  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.715  INFO 9920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:06:37.738  INFO 9920 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:06:37.738  INFO 9920 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:06:37.742  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:06:37.742  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:06:37.743  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:06:38.794  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:06:38.937  INFO 9920 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:06:38.937  INFO 9920 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3973 ms
2018-07-25 01:06:39.208  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:06:39.209  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:06:39.210  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:06:39.210  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:06:39.211  INFO 9920 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:06:39.211  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:06:39.211  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:06:40.674  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:06:40.674  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:06:40.674  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:06:40.765  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12fcc71f, org.springframework.security.web.context.SecurityContextPersistenceFilter@26c47874, org.springframework.security.web.header.HeaderWriterFilter@6403e24c, org.springframework.web.filter.CorsFilter@49fbb2c8, org.springframework.security.web.authentication.logout.LogoutFilter@2eae4349, com.yy.hospital.security.JwtAuthenticationTokenFilter@5679e96b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2849434b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@352c44a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed7821, org.springframework.security.web.session.SessionManagementFilter@70228253, org.springframework.security.web.access.ExceptionTranslationFilter@7ff35a3f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a2bcd56]
2018-07-25 01:06:40.886  INFO 9920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:06:41.186  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:06:34 CST 2018]; root of context hierarchy
2018-07-25 01:06:41.252  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:06:41.254  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:06:41.254  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:06:41.255  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:06:41.256  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:06:41.258  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:06:41.258  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:06:41.258  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:06:41.259  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:06:41.259  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:06:41.260  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:06:41.261  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:06:41.261  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:06:41.261  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:06:41.262  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:06:41.264  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:06:41.265  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:06:41.265  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:06:41.266  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:06:41.267  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:06:41.268  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:06:41.268  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:06:41.268  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:06:41.271  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:06:41.271  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:06:41.322  INFO 9920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:06:41.323  INFO 9920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:06:41.341  INFO 9920 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:06:43.766  INFO 9920 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:06:44.433  INFO 9920 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:06:44.435  INFO 9920 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:06:44.441  INFO 9920 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:06:44.479  INFO 9920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:06:44.483  INFO 9920 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.14 seconds (JVM running for 11.836)
2018-07-25 01:06:44.809  INFO 9920 --- [cluster-ClusterId{value='5b575ca3b8e4d526c07c8815', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:06:49.945  INFO 9920 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:06:49.945  INFO 9920 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:06:49.970  INFO 9920 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:06:50.123  INFO 9920 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:50.123  INFO 9920 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:50.123  INFO 9920 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:50.140  INFO 9920 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:06:50.271  INFO 9920 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:06:50.280 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.280 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.284 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.302 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.302 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.302 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.322 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.322 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.322 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.333  INFO 9920 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:50.334  INFO 9920 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:50.334  INFO 9920 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:50.357  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:50.357  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:06:50.361 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.362 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.365 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.386 DEBUG 9920 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:06:50.387 DEBUG 9920 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:06:50.387 DEBUG 9920 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:06:50.388 DEBUG 9920 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:06:50.392 DEBUG 9920 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:06:50.393 DEBUG 9920 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:06:50.397 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.398 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.397 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.399 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.401 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.402 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.403 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.403 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.403 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.404 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.405 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.406 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.406 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.406 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.407 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.408 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.408 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.410 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.411 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.412 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.412 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.414 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.414 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.414 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.415 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.416 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.418 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.418 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.419 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.419 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.419 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.421 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.423 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.423 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.423 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.424 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.425 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.427 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.427 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.428 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.428 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.429 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.429 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.431 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.431 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.432 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.435 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.438 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.438 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.438 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.439 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.440 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.441 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.441 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.441 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.443 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.443 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.443 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.444 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.444 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.444 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.445 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.446 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.446 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.447 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.447 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.447 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.450 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.451 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.452 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.454 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.454 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.454 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.455 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.457 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.459 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.461 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.461 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.462 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.462 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.462 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.463 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.464 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.464 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.465 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.465 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.467 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.468 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.469 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.471 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.472 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.472 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.473 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.475 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.477 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.477 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.478 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.478 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.479 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.479 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.479 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.480 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.480 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.481 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.481 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.482 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.485 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.485 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.488 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.489 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.490 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.491 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.492 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.493 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.493 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.494 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.494 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.495 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.495 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.495 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.496 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.497 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.497 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.498 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.500 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.497 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.500 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.501 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.501 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.502 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.503 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.504 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.504 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.505 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.503 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.507 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.507 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.508 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.508 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.522 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.522 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.523 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.523 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.524 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.524 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.525 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.525 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.526 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.526 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.527 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.527 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.528 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.531 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.532 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.532 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.537 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.538 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.539 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.539 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.539 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.540 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.541 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.542 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.542 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.541 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.543 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.544 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.545 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.546 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.546 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.548 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.548 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.549 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.549 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.549 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.551 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.553 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.553 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.556 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.556 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.557 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.556 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.559 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.560 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.560 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.562 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.562 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.562 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.563 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.563 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.564 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.565 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.565 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.565 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.566 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.566 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.568 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.568 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.570 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.571 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.571  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:50.572  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:06:50.572  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:214
2018-07-25 01:06:50.572 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.572 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.574 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.574 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.575 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.576 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.577 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.577 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.579 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.579 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.580 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.581 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.582  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:50.582  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@7bb17fab,{}>
2018-07-25 01:06:50.582  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:224
2018-07-25 01:06:52.410  INFO 9920 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:52.412 DEBUG 9920 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:52.412 DEBUG 9920 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:52.415 DEBUG 9920 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:52.423  INFO 9920 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:52.424  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:06:52.430 DEBUG 9920 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:06:52.430 DEBUG 9920 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:06:52.434 DEBUG 9920 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:06:52.435  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:52.435  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@192dcd4d, com.yy.hospital.domain.Departs@500b5733, com.yy.hospital.domain.Departs@1a6d8171, com.yy.hospital.domain.Departs@489d7659, com.yy.hospital.domain.Departs@3fad9da2, com.yy.hospital.domain.Departs@3515e7ab, com.yy.hospital.domain.Departs@43058e71, com.yy.hospital.domain.Departs@608917f6],{}>
2018-07-25 01:06:52.435  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 01:06:52.456  INFO 9920 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:52.457 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:52.457 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:52.459 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:52.464  INFO 9920 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:06:52.484 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:06:52.486 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:06:52.487 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:06:52.488  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:52.488  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6c0dbd83,{}>
2018-07-25 01:06:52.488  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 01:06:56.783  INFO 9920 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:56.783 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:56.784 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:56.785 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:06:56.790  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:06:56.790 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:06:56.790 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:06:56.793 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:06:56.802 ERROR 9920 --- [http-nio-8086-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$84a484e7.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:08:36.516  INFO 10908 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10908 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:08:36.569  INFO 10908 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:08:36.646  INFO 10908 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c46e67a: startup date [Wed Jul 25 01:08:36 CST 2018]; root of context hierarchy
2018-07-25 01:08:37.530  INFO 10908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:08:37.570  INFO 10908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:08:38.161  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d7272804] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.436  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6fd4f03e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.454  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.463  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7bef452c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.479  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$94a992f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.504  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:39.101  INFO 10908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:08:39.142  INFO 10908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:08:39.145  INFO 10908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:08:39.190  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:08:39.191  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:08:39.192  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:08:40.269  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:08:40.395  INFO 10908 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:08:40.395  INFO 10908 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3750 ms
2018-07-25 01:08:40.617  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:08:40.617  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:08:40.618  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:08:40.618  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:08:40.618  INFO 10908 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:08:40.619  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:08:40.619  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:08:41.607  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:08:41.609  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:08:41.713  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@1c54f32c, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 01:08:41.858  INFO 10908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:08:42.184  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c46e67a: startup date [Wed Jul 25 01:08:36 CST 2018]; root of context hierarchy
2018-07-25 01:08:42.252  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:08:42.254  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:08:42.255  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:08:42.255  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:08:42.256  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:08:42.259  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:08:42.260  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:08:42.260  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:08:42.261  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:08:42.262  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:08:42.263  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:08:42.264  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:08:42.264  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:08:42.264  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:08:42.265  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:08:42.267  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:08:42.270  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:08:42.270  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:08:42.271  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:08:42.272  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:08:42.273  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:08:42.273  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:08:42.273  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:08:42.276  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:08:42.276  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:08:42.331  INFO 10908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:08:42.331  INFO 10908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:08:42.351  INFO 10908 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:08:44.918  INFO 10908 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:08:45.599  INFO 10908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:08:45.601  INFO 10908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:08:45.607  INFO 10908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:08:45.649  INFO 10908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:08:45.653  INFO 10908 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.336 seconds (JVM running for 12.004)
2018-07-25 01:08:45.992  INFO 10908 --- [cluster-ClusterId{value='5b575d1cb8e4d52a9c4ae70e', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:08:47.726  INFO 10908 --- [http-nio-8086-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:08:47.727  INFO 10908 --- [http-nio-8086-exec-3] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:08:47.750  INFO 10908 --- [http-nio-8086-exec-3] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:08:47.915  INFO 10908 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:47.915  INFO 10908 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:47.915  INFO 10908 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:47.934  INFO 10908 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:08:48.082  INFO 10908 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:08:48.096 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.096 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.096 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.112 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.112 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.112 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.129 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.129 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.130 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.137  INFO 10908 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:48.140  INFO 10908 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:48.142  INFO 10908 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:48.161  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:48.161  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:08:48.165 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.165 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.170 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:08:48.193 DEBUG 10908 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:08:48.199 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.199 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.201 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.202 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.203 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.205 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.206 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.206 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.206 DEBUG 10908 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:08:48.207 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.210 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.211 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.211 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.212 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.213 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.214 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.214 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.216 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.217 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.217 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.214 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.219 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.219 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.221 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.221 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.221 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.222 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.222 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.224 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.224 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.226 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.227 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.226 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.228 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.232 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.233 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.234 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.234 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.235 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.236 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.237 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.237 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.238 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.238 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.239 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.239 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.240 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.240 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.241 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.241 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.241 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.242 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.243 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.245 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.246 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.246 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.247 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.248 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.247 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.248 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.251 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.251 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.253 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.255 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.255 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.255 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.256 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.256 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.257 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.257 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.258 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.258 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.258 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.259 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.260 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.261 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.261 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.261 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.262 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.263 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.263 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.264 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.264 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.265 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.265 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.267 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.268 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.268 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.268 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.269 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.269 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.270 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.271 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.271 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.271 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.272 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.272 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.273 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.273 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.275 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.275 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.277 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.277 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.281 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.281 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.283 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.283 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.284 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.284 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.284 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.285 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.287 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.289 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.289 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.289 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.290 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.290 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.295 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.295 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.296 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.296 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.298 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.298 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.300 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.301 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.301 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.302 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.304 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.306 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.308 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.308 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.309 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.311 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.312 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.312 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.314 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.314 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.317 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.317 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.318 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.318 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.319 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.319  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:48.319 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.320  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:08:48.320  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:159
2018-07-25 01:08:48.322 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.323 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.324 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.325 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.326 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.326 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.327 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.328 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.328 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.329 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.330 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.330 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.331 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.331  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:48.332  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@1a9a90e2,{}>
2018-07-25 01:08:48.332  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:171
2018-07-25 01:08:51.035  INFO 10908 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:51.036 DEBUG 10908 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:51.037 DEBUG 10908 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:51.040 DEBUG 10908 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:51.047  INFO 10908 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:08:51.054 DEBUG 10908 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:08:51.054 DEBUG 10908 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:08:51.056 DEBUG 10908 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:08:51.057  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:51.057  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@44dbda8, com.yy.hospital.domain.Departs@7662adce, com.yy.hospital.domain.Departs@559d329f, com.yy.hospital.domain.Departs@67c0442d, com.yy.hospital.domain.Departs@e091580, com.yy.hospital.domain.Departs@6d66c552, com.yy.hospital.domain.Departs@51d30bab, com.yy.hospital.domain.Departs@3457dc90],{}>
2018-07-25 01:08:51.057  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 01:08:51.080  INFO 10908 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:51.080 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:51.080 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:51.082 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:51.088  INFO 10908 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:08:51.101 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:08:51.102 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:08:51.104 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:08:51.104  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:51.104  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6c0dbd83,{}>
2018-07-25 01:08:51.104  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 01:08:58.604  INFO 10908 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:58.605 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:58.605 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:58.607 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:58.610  INFO 10908 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:08:58.612 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:08:58.612 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:08:58.616 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:08:58.623 ERROR 10908 --- [http-nio-8086-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:11:10.119  INFO 9328 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9328 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:11:10.124  INFO 9328 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:11:10.201  INFO 9328 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:11:10 CST 2018]; root of context hierarchy
2018-07-25 01:11:11.245  INFO 9328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:11:11.286  INFO 9328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:11:11.961  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.255  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.272  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.280  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.290  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.314  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.860  INFO 9328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:11:12.900  INFO 9328 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:11:12.900  INFO 9328 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:11:12.930  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:11:12.930  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:11:12.931  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:11:14.085  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:11:14.185  INFO 9328 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:11:14.186  INFO 9328 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3985 ms
2018-07-25 01:11:14.386  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:11:14.387  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:11:14.387  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:11:14.387  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:11:14.388  INFO 9328 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:11:14.388  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:11:14.388  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:11:15.357  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:11:15.357  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:11:15.357  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:11:15.450  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d41ba0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@54e3658c, org.springframework.security.web.header.HeaderWriterFilter@9596ce8, org.springframework.web.filter.CorsFilter@207b7626, org.springframework.security.web.authentication.logout.LogoutFilter@46963479, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c87e6b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5dbdf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@895416d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bbadc, org.springframework.security.web.session.SessionManagementFilter@255eaa6b, org.springframework.security.web.access.ExceptionTranslationFilter@767a014e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a4f272]
2018-07-25 01:11:15.571  INFO 9328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:11:15.915  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:11:10 CST 2018]; root of context hierarchy
2018-07-25 01:11:15.978  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:11:15.980  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:11:15.981  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:11:15.981  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:11:15.982  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:11:15.985  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:11:15.986  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:11:15.986  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:11:15.987  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:11:15.987  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:11:15.987  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:11:15.990  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:11:15.991  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:11:15.991  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:11:15.992  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:11:15.992  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:11:15.993  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:11:15.993  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:11:15.994  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:11:15.996  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:11:15.997  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:11:16.046  INFO 9328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:11:16.047  INFO 9328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:11:16.067  INFO 9328 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:11:18.665  INFO 9328 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:11:19.341  INFO 9328 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:11:19.344  INFO 9328 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:11:19.351  INFO 9328 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:11:19.395  INFO 9328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:11:19.399  INFO 9328 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.293 seconds (JVM running for 11.968)
2018-07-25 01:11:19.729  INFO 9328 --- [cluster-ClusterId{value='5b575db6b8e4d524706c0594', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:11:25.231  INFO 9328 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:11:25.232  INFO 9328 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:11:25.255  INFO 9328 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:11:25.445  INFO 9328 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:11:25.469  INFO 9328 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:11:25.636  INFO 9328 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:11:25.642 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:11:25.658 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:11:25.673 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:11:25.683  INFO 9328 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:11:25.709  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:11:25.710  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:11:25.710  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:11:25.712  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:11:25.712  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:11:25.715 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:11:25.715 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:11:25.719 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:11:25.726 ERROR 9328 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:52) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:14:39.040  INFO 3504 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3504 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:14:39.047  INFO 3504 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:14:39.121  INFO 3504 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:14:39 CST 2018]; root of context hierarchy
2018-07-25 01:14:40.365  INFO 3504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:14:40.413  INFO 3504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:14:40.997  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.324  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.361  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.370  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.383  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.412  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.923  INFO 3504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:14:41.952  INFO 3504 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:14:41.953  INFO 3504 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:14:41.965  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:14:41.965  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:14:41.966  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:14:43.029  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:14:43.169  INFO 3504 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:14:43.169  INFO 3504 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4048 ms
2018-07-25 01:14:43.428  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:14:43.429  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:14:43.429  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:14:43.429  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:14:43.430  INFO 3504 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:14:43.431  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:14:43.431  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:14:44.807  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:14:44.807  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:14:44.975  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d41ba0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@54e3658c, org.springframework.security.web.header.HeaderWriterFilter@9596ce8, org.springframework.web.filter.CorsFilter@28b15470, org.springframework.security.web.authentication.logout.LogoutFilter@46963479, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c87e6b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5dbdf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@895416d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bbadc, org.springframework.security.web.session.SessionManagementFilter@255eaa6b, org.springframework.security.web.access.ExceptionTranslationFilter@767a014e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a4f272]
2018-07-25 01:14:45.170  INFO 3504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:14:45.484  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:14:39 CST 2018]; root of context hierarchy
2018-07-25 01:14:45.550  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:14:45.552  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:14:45.553  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:14:45.554  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:14:45.554  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:14:45.556  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:14:45.556  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:14:45.557  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:14:45.557  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:14:45.557  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:14:45.559  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:14:45.560  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:14:45.560  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:14:45.561  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:14:45.561  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:14:45.564  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:14:45.565  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:14:45.565  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:14:45.566  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:14:45.567  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:14:45.568  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:14:45.568  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:14:45.568  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:14:45.570  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:14:45.571  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:14:45.623  INFO 3504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:14:45.623  INFO 3504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:14:45.642  INFO 3504 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:14:48.239  INFO 3504 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:14:48.938  INFO 3504 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:14:48.939  INFO 3504 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:14:48.946  INFO 3504 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:14:48.989  INFO 3504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:14:48.993  INFO 3504 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.522 seconds (JVM running for 12.219)
2018-07-25 01:14:49.282  INFO 3504 --- [cluster-ClusterId{value='5b575e88b8e4d50db0549099', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:14:52.500  INFO 3504 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:14:52.501  INFO 3504 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:14:52.530  INFO 3504 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2018-07-25 01:14:52.722  INFO 3504 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:14:52.750  INFO 3504 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:14:52.898  INFO 3504 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:14:52.909 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:14:52.924 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:14:52.941 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:14:52.949  INFO 3504 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:14:52.984  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:14:52.984  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:14:52.984  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:14:52.987  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:14:52.987  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:14:52.990 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:14:52.991 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:14:52.995 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:14:53.004 ERROR 3504 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:16:05.059  INFO 4940 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 4940 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:16:05.064  INFO 4940 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:16:05.216  INFO 4940 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e6f74c: startup date [Wed Jul 25 01:16:05 CST 2018]; root of context hierarchy
2018-07-25 01:16:06.205  INFO 4940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:16:06.249  INFO 4940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:16:06.833  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$918df21e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.072  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2a3bba58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.089  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.096  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6de30571' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.107  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4f105d0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.128  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.645  INFO 4940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:16:07.678  INFO 4940 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:16:07.679  INFO 4940 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:16:07.704  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:16:07.704  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:16:07.705  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:16:08.752  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:16:08.888  INFO 4940 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:16:08.888  INFO 4940 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3672 ms
2018-07-25 01:16:09.089  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:16:09.090  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:16:09.090  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:16:09.090  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:16:09.091  INFO 4940 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:16:09.091  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:16:09.091  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:16:10.028  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:16:10.126  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c3a0032, org.springframework.security.web.context.SecurityContextPersistenceFilter@352c44a8, org.springframework.security.web.header.HeaderWriterFilter@63c12e52, org.springframework.web.filter.CorsFilter@49fbb2c8, org.springframework.security.web.authentication.logout.LogoutFilter@22a6e998, com.yy.hospital.security.JwtAuthenticationTokenFilter@7ceb4478, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a66e580, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6edcad64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fdab70c, org.springframework.security.web.session.SessionManagementFilter@54e3658c, org.springframework.security.web.access.ExceptionTranslationFilter@26f46fa6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d41ba0f]
2018-07-25 01:16:10.256  INFO 4940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:16:10.575  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e6f74c: startup date [Wed Jul 25 01:16:05 CST 2018]; root of context hierarchy
2018-07-25 01:16:10.639  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:16:10.641  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:16:10.641  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:16:10.642  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:16:10.643  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:16:10.644  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:16:10.647  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:16:10.647  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:16:10.648  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:16:10.648  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:16:10.648  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:16:10.651  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:16:10.652  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:16:10.652  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:16:10.653  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:16:10.654  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:16:10.655  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:16:10.656  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:16:10.657  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:16:10.660  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:16:10.661  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:16:10.710  INFO 4940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:16:10.710  INFO 4940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:16:10.729  INFO 4940 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:16:13.224  INFO 4940 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:16:13.896  INFO 4940 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:16:13.898  INFO 4940 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:16:13.905  INFO 4940 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:16:13.947  INFO 4940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:16:13.952  INFO 4940 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.842 seconds (JVM running for 11.626)
2018-07-25 01:16:14.283  INFO 4940 --- [cluster-ClusterId{value='5b575eddb8e4d5134c5db7e8', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:16:17.511  INFO 4940 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:16:17.512  INFO 4940 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:16:17.535  INFO 4940 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:16:17.675  INFO 4940 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:17.675  INFO 4940 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:17.675  INFO 4940 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:17.693  INFO 4940 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:16:17.832  INFO 4940 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:16:17.841 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.842 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.847 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.862 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.862 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.862 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.881 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.881 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.881 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.892  INFO 4940 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:17.892  INFO 4940 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:17.892  INFO 4940 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:16:17.916 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.916 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.919 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.933 DEBUG 4940 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:16:17.933 DEBUG 4940 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:16:17.934 DEBUG 4940 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:16:17.934 DEBUG 4940 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:16:17.937 DEBUG 4940 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:16:17.937 DEBUG 4940 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:16:17.942 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.942 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.943 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.943 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.944 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.945 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.944 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.946 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.946 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.947 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.948 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.948 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.949 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.949 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.949 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.950 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.951 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.951 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.954 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.954 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.957 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.958 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.959 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.959 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.961 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.961 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.961 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.962 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.962 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.963 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.964 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.964 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.964 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.965 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.965 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.966 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.967 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.968 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.969 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.969 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.971 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.972 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.972 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.972 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.973 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.973 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.974 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.974 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.976 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.976 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.977 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.978 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.978 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.978 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.979 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.980 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.981 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.981 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.984 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.984 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.984 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.985 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.985 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.986 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.986 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.988 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.989 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.989 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.990 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.990 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.991 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.991 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.991 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.992 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.992 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.993 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.993 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.993 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.994 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.994 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.995 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.995 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.997 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.997 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.003 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.003 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:16:18.004 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.004 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.006 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.008 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.010 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.010 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.011 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.011 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.017 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.017 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.019 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.019 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.021 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.021 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.029 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.029 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.031 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.031 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.032 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.032 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.033 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.033 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.035 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.035 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.037 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.037 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.038 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.038 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.040 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.040 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.043 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.044  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:18.043 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.044  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@3ff55513,{}>
2018-07-25 01:16:18.044  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:131
2018-07-25 01:16:18.045 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.047 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.048 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.049 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.049 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.051 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.051  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:18.051  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:16:18.051  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:138
2018-07-25 01:16:20.611  INFO 4940 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:20.614 DEBUG 4940 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:20.615 DEBUG 4940 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:20.618 DEBUG 4940 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:20.622  INFO 4940 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:16:20.626 DEBUG 4940 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:16:20.626 DEBUG 4940 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:16:20.628 DEBUG 4940 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:16:20.629  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:20.629  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@717a5f64, com.yy.hospital.domain.Departs@7d34189c, com.yy.hospital.domain.Departs@64017d34, com.yy.hospital.domain.Departs@36499ddc, com.yy.hospital.domain.Departs@15eb750e, com.yy.hospital.domain.Departs@48c66fd7, com.yy.hospital.domain.Departs@27c15326, com.yy.hospital.domain.Departs@5d9c9d7f],{}>
2018-07-25 01:16:20.629  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:16:20.653  INFO 4940 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:20.653 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:20.654 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:20.655 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:20.660  INFO 4940 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:16:20.675 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:16:20.675 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:16:20.677 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:16:20.677  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:20.677  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@79c08fae,{}>
2018-07-25 01:16:20.677  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 01:16:29.513  INFO 4940 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:29.514 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:29.515 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:29.516 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:29.520  INFO 4940 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:16:29.521 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:16:29.521 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:16:29.524 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:16:29.534 ERROR 4940 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:18:59.408  INFO 10788 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10788 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:18:59.413  INFO 10788 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:18:59.529  INFO 10788 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:18:59 CST 2018]; root of context hierarchy
2018-07-25 01:19:00.487  INFO 10788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:00.527  INFO 10788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:01.097  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.382  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.398  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.405  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@417d6615' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.416  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.445  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:02.096  INFO 10788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:19:02.162  INFO 10788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:19:02.163  INFO 10788 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:19:02.169  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:19:02.169  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:19:02.170  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:19:03.216  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:19:03.328  INFO 10788 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:19:03.329  INFO 10788 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3800 ms
2018-07-25 01:19:03.537  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:19:03.537  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:19:03.538  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:19:03.538  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:19:03.539  INFO 10788 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:19:03.539  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:19:03.539  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:19:04.449  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:19:04.547  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@158f9fb7, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 01:19:04.702  INFO 10788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:04.989  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:18:59 CST 2018]; root of context hierarchy
2018-07-25 01:19:05.054  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:05.057  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:19:05.058  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:19:05.058  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:19:05.059  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:19:05.061  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:19:05.063  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:05.063  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:05.063  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:19:05.064  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:05.065  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:05.065  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:19:05.066  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:19:05.066  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:19:05.066  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:19:05.069  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:19:05.070  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:19:05.070  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:19:05.071  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:19:05.072  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:05.072  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:19:05.073  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:19:05.073  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:05.076  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:05.076  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:19:05.130  INFO 10788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:05.130  INFO 10788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:05.150  INFO 10788 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:19:07.639  INFO 10788 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:19:08.292  INFO 10788 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:19:08.294  INFO 10788 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:19:08.301  INFO 10788 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:19:08.344  INFO 10788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:19:08.349  INFO 10788 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.947 seconds (JVM running for 11.598)
2018-07-25 01:19:08.701  INFO 10788 --- [cluster-ClusterId{value='5b575f8bb8e4d52a24ebe9eb', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:19:15.169  INFO 10788 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:19:15.169  INFO 10788 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:19:15.196  INFO 10788 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2018-07-25 01:19:15.422  INFO 10788 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:19:15.447  INFO 10788 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:19:15.591  INFO 10788 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:19:15.598 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:19:15.614 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:19:15.629 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:19:15.639  INFO 10788 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:19:15.664  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:19:15.664  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:19:15.664  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:19:15.666  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:19:15.666  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:19:15.669 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:19:15.669 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:19:15.673 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:19:15.681 ERROR 10788 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:19:19.479  INFO 10788 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:19:19.481 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:19:19.481 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:19:19.485 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:19:19.491  INFO 10788 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:19:19.492 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:19:19.493 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:19:19.495 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:19:19.497 ERROR 10788 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:19:39.838  INFO 6468 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6468 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:19:39.870  INFO 6468 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:19:39.933  INFO 6468 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 01:19:39 CST 2018]; root of context hierarchy
2018-07-25 01:19:41.023  INFO 6468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:41.068  INFO 6468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:41.693  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dea0d1dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.026  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$774e9a17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.044  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.051  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bee18dc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.068  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9c233cc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.096  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.712  INFO 6468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:19:42.754  INFO 6468 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:19:42.755  INFO 6468 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:19:42.769  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:19:42.769  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:19:42.770  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:19:43.817  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:19:43.949  INFO 6468 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:19:43.949  INFO 6468 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4017 ms
2018-07-25 01:19:44.167  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:19:44.168  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:19:44.168  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:19:44.168  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:19:44.169  INFO 6468 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:19:44.170  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:19:44.170  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:19:45.092  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:19:45.092  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:19:45.191  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59dc36d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@21bd20ee, org.springframework.security.web.header.HeaderWriterFilter@558756be, org.springframework.web.filter.CorsFilter@2ab95cf, org.springframework.security.web.authentication.logout.LogoutFilter@623dcf2a, com.yy.hospital.security.JwtAuthenticationTokenFilter@12fcc71f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@421056e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c5dbdf8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5679e96b, org.springframework.security.web.session.SessionManagementFilter@75ae4a1f, org.springframework.security.web.access.ExceptionTranslationFilter@1effd53c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b200971]
2018-07-25 01:19:45.319  INFO 6468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:45.627  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 01:19:39 CST 2018]; root of context hierarchy
2018-07-25 01:19:45.705  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:19:45.707  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:19:45.708  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:19:45.709  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:45.709  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:19:45.711  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:19:45.712  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:45.712  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:45.712  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:19:45.713  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:45.715  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:19:45.715  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:19:45.716  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:19:45.716  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:19:45.717  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:45.720  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:19:45.721  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:19:45.722  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:19:45.723  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:19:45.723  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:45.724  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:19:45.724  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:19:45.725  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:45.727  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:45.728  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:19:45.784  INFO 6468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:45.784  INFO 6468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:45.806  INFO 6468 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:19:48.292  INFO 6468 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:19:48.936  INFO 6468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:19:48.938  INFO 6468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:19:48.946  INFO 6468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:19:48.983  INFO 6468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:19:48.987  INFO 6468 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.211 seconds (JVM running for 12.078)
2018-07-25 01:19:49.348  INFO 6468 --- [cluster-ClusterId{value='5b575fb4b8e4d51944f70778', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:19:51.396  INFO 6468 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:19:51.397  INFO 6468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:19:51.420  INFO 6468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:19:51.642  INFO 6468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:19:51.665  INFO 6468 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:19:51.815  INFO 6468 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:19:51.821 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:19:51.841 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:19:51.857 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:19:51.867  INFO 6468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:19:51.896  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:19:51.897  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:19:51.897  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:19:51.900  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:19:51.900  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:19:51.905 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:19:51.906 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:19:51.912 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:19:51.921 ERROR 6468 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:55) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$918fe05d.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:20:17.517  INFO 10048 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10048 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:20:17.522  INFO 10048 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:20:17.583  INFO 10048 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:20:17 CST 2018]; root of context hierarchy
2018-07-25 01:20:18.492  INFO 10048 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:20:18.536  INFO 10048 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:20:19.510  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$42cc1837] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.767  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$db79e071] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.783  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.790  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@24a298a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.801  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4e8323] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.824  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:20.414  INFO 10048 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:20:20.449  INFO 10048 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:20:20.451  INFO 10048 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:20:20.457  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:20:20.458  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:20:20.458  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:20:21.527  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:20:21.664  INFO 10048 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:20:21.665  INFO 10048 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4082 ms
2018-07-25 01:20:22.033  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:20:22.034  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:20:22.034  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:20:22.035  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:20:22.037  INFO 10048 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:20:22.041  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:20:22.042  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:20:23.367  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:20:23.463  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@7a69c035, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 01:20:23.585  INFO 10048 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:20:23.892  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:20:17 CST 2018]; root of context hierarchy
2018-07-25 01:20:23.962  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:20:23.964  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:20:23.965  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:20:23.965  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:20:23.966  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:20:23.968  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:20:23.968  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:20:23.968  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:20:23.969  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:20:23.969  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:20:23.970  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:20:23.971  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:20:23.971  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:20:23.971  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:20:23.972  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:20:23.974  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:20:23.975  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:20:23.975  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:20:23.977  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:20:23.977  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:20:23.978  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:20:23.978  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:20:23.979  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:20:23.981  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:20:23.982  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:20:24.031  INFO 10048 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:20:24.032  INFO 10048 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:20:24.051  INFO 10048 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:20:26.540  INFO 10048 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:20:27.217  INFO 10048 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:20:27.219  INFO 10048 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:20:27.225  INFO 10048 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:20:27.265  INFO 10048 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:20:27.269  INFO 10048 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.3 seconds (JVM running for 11.937)
2018-07-25 01:20:27.601  INFO 10048 --- [cluster-ClusterId{value='5b575fdab8e4d527406d61cd', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:20:31.545  INFO 10048 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:20:31.546  INFO 10048 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:20:31.567  INFO 10048 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:20:31.803  INFO 10048 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:20:31.829  INFO 10048 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:20:31.959  INFO 10048 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:20:31.966 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:20:31.981 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:20:31.996 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:20:32.006  INFO 10048 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:20:32.038  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:20:32.038  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:20:32.039  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:20:32.042  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:20:32.042  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:20:32.048 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:20:32.049 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:20:32.054 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:20:32.067 ERROR 10048 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:26:04.942  INFO 5764 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 5764 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:26:04.947  INFO 5764 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:26:05.022  INFO 5764 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:26:05 CST 2018]; root of context hierarchy
2018-07-25 01:26:06.187  INFO 5764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:26:06.230  INFO 5764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:26:06.822  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5fdcdc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.062  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8eab9600] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.078  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.085  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.093  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b38038b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.113  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.596  INFO 5764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:26:07.686  INFO 5764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:26:07.687  INFO 5764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:26:07.693  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:26:07.693  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:26:07.694  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:26:08.743  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:26:08.911  INFO 5764 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:26:08.912  INFO 5764 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3891 ms
2018-07-25 01:26:09.180  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:26:09.180  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:26:09.181  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:26:09.181  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:26:09.182  INFO 5764 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:26:09.182  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:26:09.183  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:26:10.381  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:26:10.382  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:26:10.382  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:26:10.382  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:26:10.383  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:26:10.384  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:26:10.384  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:26:10.524  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@2849434b, org.springframework.security.web.header.HeaderWriterFilter@4eba373c, org.springframework.web.filter.CorsFilter@5e430c66, org.springframework.security.web.authentication.logout.LogoutFilter@68a4dcc6, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65b97f47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a66e580, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@21bd20ee, org.springframework.security.web.access.ExceptionTranslationFilter@252dc8c4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59dc36d4]
2018-07-25 01:26:10.761  INFO 5764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:26:11.302  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:26:05 CST 2018]; root of context hierarchy
2018-07-25 01:26:11.405  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:26:11.408  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:26:11.408  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:26:11.410  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:26:11.412  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:26:11.418  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:26:11.418  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:26:11.419  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:26:11.419  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:26:11.420  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:26:11.421  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:26:11.423  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:26:11.423  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:26:11.424  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:26:11.424  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:26:11.428  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:26:11.430  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:26:11.431  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:26:11.434  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:26:11.434  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:26:11.436  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:26:11.436  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:26:11.437  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:26:11.441  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:26:11.442  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:26:11.528  INFO 5764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:26:11.529  INFO 5764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:26:11.566  INFO 5764 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:26:15.554  INFO 5764 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:26:16.656  INFO 5764 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:26:16.658  INFO 5764 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:26:16.670  INFO 5764 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:26:16.702  INFO 5764 --- [cluster-ClusterId{value='5b576137b8e4d51684b3c09f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:26:16.733  INFO 5764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:26:16.739  INFO 5764 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 12.553 seconds (JVM running for 17.676)
2018-07-25 01:26:20.522  INFO 5764 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:26:20.523  INFO 5764 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:26:20.546  INFO 5764 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 01:26:20.678  INFO 5764 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:26:20.694  INFO 5764 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:26:20.840  INFO 5764 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:26:20.846 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:26:20.862 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:26:20.878 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:26:20.888  INFO 5764 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:26:20.917  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:26:20.917  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:26:20.917  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:26:20.919  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:26:20.920  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:26:20.923 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:26:20.924 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:26:20.927 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:26:20.935 ERROR 5764 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:58) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$88a8009b.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:27:22.369  INFO 8016 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8016 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:27:22.375  INFO 8016 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:27:22.438  INFO 8016 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@38425407: startup date [Wed Jul 25 01:27:22 CST 2018]; root of context hierarchy
2018-07-25 01:27:23.371  INFO 8016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:27:23.402  INFO 8016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:27:23.844  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ce6a74b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.019  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d5946f85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.030  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.034  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@14151bc5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.041  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fa691237] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.061  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.441  INFO 8016 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:27:24.469  INFO 8016 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:27:24.469  INFO 8016 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:27:24.474  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:27:24.475  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:27:24.475  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:27:25.526  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:27:25.652  INFO 8016 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:27:25.653  INFO 8016 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3215 ms
2018-07-25 01:27:25.851  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:27:25.852  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:27:25.852  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:27:25.852  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:27:25.853  INFO 8016 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:27:25.853  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:27:25.853  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:27:26.778  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:27:26.778  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:27:26.778  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:27:26.867  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd64ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@767a014e, org.springframework.security.web.header.HeaderWriterFilter@5fa23c, org.springframework.web.filter.CorsFilter@1ff339c5, org.springframework.security.web.authentication.logout.LogoutFilter@2f5ac102, com.yy.hospital.security.JwtAuthenticationTokenFilter@620c8641, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3968bc60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@421056e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f1d0bbc, org.springframework.security.web.session.SessionManagementFilter@6403e24c, org.springframework.security.web.access.ExceptionTranslationFilter@1229a2b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@625d9132]
2018-07-25 01:27:26.988  INFO 8016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:27:27.293  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@38425407: startup date [Wed Jul 25 01:27:22 CST 2018]; root of context hierarchy
2018-07-25 01:27:27.358  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:27:27.360  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:27:27.361  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:27:27.361  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:27:27.362  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:27:27.364  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:27:27.364  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:27:27.364  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:27:27.365  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:27:27.365  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:27:27.367  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:27:27.367  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:27:27.367  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:27:27.368  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:27:27.368  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:27:27.370  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:27:27.371  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:27:27.372  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:27:27.373  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:27:27.373  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:27:27.374  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:27:27.374  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:27:27.375  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:27:27.377  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:27:27.378  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:27:27.427  INFO 8016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:27:27.427  INFO 8016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:27:27.445  INFO 8016 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:27:29.970  INFO 8016 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:27:30.635  INFO 8016 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:27:30.637  INFO 8016 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:27:30.645  INFO 8016 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:27:30.682  INFO 8016 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:27:30.686  INFO 8016 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.869 seconds (JVM running for 11.967)
2018-07-25 01:27:31.023  INFO 8016 --- [cluster-ClusterId{value='5b576181b8e4d51f50ec18c3', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:27:33.626  INFO 8016 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:27:33.626  INFO 8016 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:27:33.651  INFO 8016 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:27:33.831  INFO 8016 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:27:33.864  INFO 8016 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:27:34.002  INFO 8016 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:27:34.008 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:27:34.023 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:27:34.038 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:27:34.049  INFO 8016 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:27:34.079  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:27:34.079  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:27:34.079  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:27:34.080  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:27:34.081  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:27:34.083 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:27:34.084 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:27:34.088 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:27:34.090  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:27:34.091  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6a0a43e7,{}>
2018-07-25 01:27:34.091  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 01:28:08.407  INFO 8016 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:28:08.409 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:28:08.409 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:28:08.411 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:28:08.416  INFO 8016 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:28:08.418  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 3]
2018-07-25 01:28:08.418 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:28:08.418 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-16(Date)
2018-07-25 01:28:08.425 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:28:08.426  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:28:08.426  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@67577f99,{}>
2018-07-25 01:28:08.426  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 01:28:58.970  INFO 11220 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 11220 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:28:58.974  INFO 11220 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:28:59.041  INFO 11220 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:28:59 CST 2018]; root of context hierarchy
2018-07-25 01:28:59.994  INFO 11220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:29:00.043  INFO 11220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:29:00.587  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6cd5e6c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.804  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$583aefc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.818  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.824  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@489543a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.830  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2a5851ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.848  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:01.323  INFO 11220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:29:01.354  INFO 11220 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:29:01.355  INFO 11220 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:29:01.360  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:29:01.360  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:29:01.361  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:29:02.415  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:29:02.532  INFO 11220 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:29:02.532  INFO 11220 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3492 ms
2018-07-25 01:29:02.742  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:29:02.742  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:29:02.743  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:29:02.743  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:29:02.744  INFO 11220 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:29:02.744  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:29:02.744  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:29:03.693  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:29:03.693  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:29:03.788  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a2bcd56, org.springframework.security.web.context.SecurityContextPersistenceFilter@70228253, org.springframework.security.web.header.HeaderWriterFilter@252dc8c4, org.springframework.web.filter.CorsFilter@331a9c72, org.springframework.security.web.authentication.logout.LogoutFilter@3e33d73e, com.yy.hospital.security.JwtAuthenticationTokenFilter@68d7a2df, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21bd20ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54e3658c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59dc36d4, org.springframework.security.web.session.SessionManagementFilter@227a47, org.springframework.security.web.access.ExceptionTranslationFilter@433348bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a9f023e]
2018-07-25 01:29:03.916  INFO 11220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:29:04.230  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:28:59 CST 2018]; root of context hierarchy
2018-07-25 01:29:04.294  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:29:04.296  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:29:04.296  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:29:04.297  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:29:04.298  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:29:04.299  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:29:04.302  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:29:04.302  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:29:04.302  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:29:04.303  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:29:04.303  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:29:04.306  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:29:04.307  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:29:04.307  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:29:04.308  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:29:04.308  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:29:04.309  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:29:04.310  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:29:04.310  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:29:04.312  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:29:04.313  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:29:04.361  INFO 11220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:29:04.361  INFO 11220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:29:04.379  INFO 11220 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:29:06.909  INFO 11220 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:29:07.548  INFO 11220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:29:07.549  INFO 11220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:29:07.556  INFO 11220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:29:07.596  INFO 11220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:29:07.600  INFO 11220 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.624 seconds (JVM running for 11.381)
2018-07-25 01:29:07.946  INFO 11220 --- [cluster-ClusterId{value='5b5761e2b8e4d52bd4e2d25f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:29:17.927  INFO 11220 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:29:17.927  INFO 11220 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:29:17.952  INFO 11220 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-25 01:29:18.086  INFO 11220 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:29:18.109  INFO 11220 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:29:18.238  INFO 11220 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:29:18.245 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:29:18.267 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:29:18.284 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:29:18.293  INFO 11220 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:29:18.328  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:29:18.328  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:29:18.328  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:29:18.332  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:29:18.333  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 4]
2018-07-25 01:29:18.339 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:29:18.340 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-18(Date)
2018-07-25 01:29:18.345 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:29:18.347  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:29:18.347  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@21e0ad0,{}>
2018-07-25 01:29:18.347  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:19
2018-07-25 01:30:01.893  INFO 11220 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:30:01.894 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:30:01.894 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:30:01.897 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:30:01.902  INFO 11220 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 5]
2018-07-25 01:30:01.904 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:30:01.904 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-10(Date)
2018-07-25 01:30:01.907 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 2
2018-07-25 01:30:01.908  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:30:01.908  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5a7b6a18,{}>
2018-07-25 01:30:01.908  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 01:31:03.096  INFO 9444 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9444 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:31:03.100  INFO 9444 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:31:03.157  INFO 9444 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:31:03 CST 2018]; root of context hierarchy
2018-07-25 01:31:04.276  INFO 9444 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:31:04.338  INFO 9444 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:31:05.124  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bce85e13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.462  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5596264d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.482  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.494  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5aae8eb5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.510  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7a6ac8ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.558  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.908  INFO 9444 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:31:05.939  INFO 9444 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:31:05.939  INFO 9444 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:31:05.945  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:31:05.945  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:31:05.945  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:31:07.009  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:31:07.193  INFO 9444 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:31:07.193  INFO 9444 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4036 ms
2018-07-25 01:31:07.467  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:31:07.468  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:31:07.468  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:31:07.469  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:31:07.470  INFO 9444 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:31:07.470  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:31:07.470  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:31:08.901  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:31:09.007  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a9f023e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2643d762, org.springframework.security.web.header.HeaderWriterFilter@1effd53c, org.springframework.web.filter.CorsFilter@28b15470, org.springframework.security.web.authentication.logout.LogoutFilter@80bfdc6, com.yy.hospital.security.JwtAuthenticationTokenFilter@c27a3a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75ae4a1f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@255eaa6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b200971, org.springframework.security.web.session.SessionManagementFilter@26dc9bd5, org.springframework.security.web.access.ExceptionTranslationFilter@10a0fe30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@620c8641]
2018-07-25 01:31:09.142  INFO 9444 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:31:09.449  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:31:03 CST 2018]; root of context hierarchy
2018-07-25 01:31:09.514  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:31:09.516  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:31:09.517  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:31:09.517  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:31:09.518  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:31:09.521  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:31:09.522  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:31:09.523  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:31:09.523  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:31:09.523  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:31:09.524  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:31:09.526  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:31:09.527  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:31:09.528  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:31:09.529  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:31:09.530  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:31:09.531  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:31:09.532  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:31:09.533  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:31:09.535  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:31:09.536  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:31:09.584  INFO 9444 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:31:09.584  INFO 9444 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:31:09.605  INFO 9444 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:31:12.162  INFO 9444 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:31:12.802  INFO 9444 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:31:12.804  INFO 9444 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:31:12.810  INFO 9444 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:31:12.851  INFO 9444 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:31:12.855  INFO 9444 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.243 seconds (JVM running for 13.101)
2018-07-25 01:31:13.223  INFO 9444 --- [cluster-ClusterId{value='5b576260b8e4d524e4e848c9', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:31:21.211  INFO 9444 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:31:21.211  INFO 9444 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:31:21.237  INFO 9444 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:31:21.388  INFO 9444 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:31:21.405  INFO 9444 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:31:21.542  INFO 9444 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:31:21.548 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:31:21.564 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:31:21.583 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:31:21.595  INFO 9444 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:31:21.622  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:31:21.623  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:31:21.623  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:31:21.626  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:31:21.627  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:31:21.630 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:31:21.630 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:31:21.635 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:31:21.637  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:31:21.637  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@71799446,{}>
2018-07-25 01:31:21.637  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:14
2018-07-25 01:32:34.311  INFO 3060 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3060 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:32:34.315  INFO 3060 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:32:34.375  INFO 3060 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:32:34 CST 2018]; root of context hierarchy
2018-07-25 01:32:35.228  INFO 3060 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:32:35.260  INFO 3060 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:32:35.697  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b048e0fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.870  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$48f6a935] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.880  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.884  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bb8855f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.891  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6dcb4be7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.906  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:36.242  INFO 3060 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:32:36.265  INFO 3060 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:32:36.266  INFO 3060 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:32:36.271  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:32:36.272  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:32:36.272  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:32:37.322  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:32:37.457  INFO 3060 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:32:37.458  INFO 3060 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3083 ms
2018-07-25 01:32:37.660  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:32:37.660  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:32:37.661  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:32:37.661  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:32:37.662  INFO 3060 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:32:37.662  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:32:37.662  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:32:38.599  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:32:38.700  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12fcc71f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3968bc60, org.springframework.security.web.header.HeaderWriterFilter@433348bc, org.springframework.web.filter.CorsFilter@3c7db3ca, org.springframework.security.web.authentication.logout.LogoutFilter@895416d, com.yy.hospital.security.JwtAuthenticationTokenFilter@5679e96b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227a47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bbacfc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed7821, org.springframework.security.web.session.SessionManagementFilter@4eba373c, org.springframework.security.web.access.ExceptionTranslationFilter@46c269e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@277b8fa4]
2018-07-25 01:32:38.835  INFO 3060 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:32:39.148  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:32:34 CST 2018]; root of context hierarchy
2018-07-25 01:32:39.216  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:32:39.218  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:32:39.219  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:32:39.219  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:32:39.220  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:32:39.222  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:32:39.222  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:32:39.222  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:32:39.223  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:32:39.223  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:32:39.224  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:32:39.228  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:32:39.229  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:32:39.230  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:32:39.231  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:32:39.231  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:32:39.232  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:32:39.232  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:32:39.233  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:32:39.235  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:32:39.236  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:32:39.286  INFO 3060 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:32:39.286  INFO 3060 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:32:39.306  INFO 3060 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:32:41.920  INFO 3060 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:32:42.634  INFO 3060 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:32:42.636  INFO 3060 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:32:42.645  INFO 3060 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:32:42.684  INFO 3060 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:32:42.689  INFO 3060 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.327 seconds (JVM running for 11.064)
2018-07-25 01:32:42.990  INFO 3060 --- [cluster-ClusterId{value='5b5762b9b8e4d50bf4bca98d', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:32:50.370  INFO 3060 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:32:50.371  INFO 3060 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:32:50.392  INFO 3060 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:32:50.528  INFO 3060 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:32:50.546  INFO 3060 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:32:50.678  INFO 3060 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:32:50.684 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:32:50.703 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:32:50.720 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:32:50.729  INFO 3060 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:32:50.756  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:32:50.757  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:32:50.757  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:32:50.758  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:32:50.759  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:32:50.762 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:32:50.763 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:32:50.768 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:32:50.770  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:32:50.771  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@58a3f2ef,{}>
2018-07-25 01:32:50.771  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-25 01:34:49.525  INFO 9296 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9296 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:34:49.532  INFO 9296 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:34:49.657  INFO 9296 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:34:49 CST 2018]; root of context hierarchy
2018-07-25 01:34:51.020  INFO 9296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:34:51.057  INFO 9296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:34:51.619  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$38fd565a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.870  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d1ab1e94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.888  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.893  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.899  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f67fc146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.920  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:52.582  INFO 9296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:34:52.616  INFO 9296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:34:52.616  INFO 9296 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:34:52.637  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:34:52.638  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:34:52.646  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:34:53.701  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:34:53.822  INFO 9296 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:34:53.822  INFO 9296 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4165 ms
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:34:54.032  INFO 9296 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:34:54.033  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:34:54.033  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:34:54.985  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:34:54.985  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:34:54.985  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:34:55.087  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee0b4f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@476fe690, org.springframework.security.web.header.HeaderWriterFilter@26f46fa6, org.springframework.web.filter.CorsFilter@17620725, org.springframework.security.web.authentication.logout.LogoutFilter@5f7989fa, com.yy.hospital.security.JwtAuthenticationTokenFilter@79b84841, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54e3658c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f5ac102, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d41ba0f, org.springframework.security.web.session.SessionManagementFilter@60bbacfc, org.springframework.security.web.access.ExceptionTranslationFilter@2f236de0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bbf841e]
2018-07-25 01:34:55.227  INFO 9296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:34:55.513  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:34:49 CST 2018]; root of context hierarchy
2018-07-25 01:34:55.577  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:34:55.579  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:34:55.579  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:34:55.580  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:34:55.582  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:34:55.583  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:34:55.584  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:34:55.584  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:34:55.584  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:34:55.585  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:34:55.586  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:34:55.586  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:34:55.587  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:34:55.587  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:34:55.588  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:34:55.590  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:34:55.591  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:34:55.591  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:34:55.592  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:34:55.593  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:34:55.593  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:34:55.594  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:34:55.594  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:34:55.596  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:34:55.597  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:34:55.646  INFO 9296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:34:55.646  INFO 9296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:34:55.664  INFO 9296 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:34:58.377  INFO 9296 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:34:59.009  INFO 9296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:34:59.011  INFO 9296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:34:59.017  INFO 9296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:34:59.054  INFO 9296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:34:59.058  INFO 9296 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.25 seconds (JVM running for 11.977)
2018-07-25 01:34:59.424  INFO 9296 --- [cluster-ClusterId{value='5b576342b8e4d524500d11f7', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:35:08.413  INFO 9296 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:35:08.414  INFO 9296 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:35:08.439  INFO 9296 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:35:08.578  INFO 9296 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:35:08.597  INFO 9296 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:35:08.738  INFO 9296 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:35:08.746 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:35:08.763 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:35:08.779 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:35:08.788  INFO 9296 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:35:08.818  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:35:08.818  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:35:08.819  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:35:08.821  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:35:08.821  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:35:08.824 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:35:08.825 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:35:08.829 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:35:08.830  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:35:08.831  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7ae364b3,{}>
2018-07-25 01:35:08.831  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:13
2018-07-25 01:35:44.746  INFO 10720 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10720 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:35:44.750  INFO 10720 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:35:44.820  INFO 10720 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:35:44 CST 2018]; root of context hierarchy
2018-07-25 01:35:45.785  INFO 10720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:35:45.824  INFO 10720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:35:46.401  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4c6922b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.787  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e516eaf3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.803  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.810  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@14151bc5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.817  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9eb8da5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.839  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:47.444  INFO 10720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:35:47.481  INFO 10720 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:35:47.481  INFO 10720 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:35:47.488  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:35:47.489  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:35:47.490  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:35:48.530  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:35:48.642  INFO 10720 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:35:48.642  INFO 10720 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3822 ms
2018-07-25 01:35:48.848  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:35:48.849  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:35:48.849  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:35:48.849  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:35:48.850  INFO 10720 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:35:48.850  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:35:48.850  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:35:49.832  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:35:49.934  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e7ab390, org.springframework.security.web.context.SecurityContextPersistenceFilter@2643d762, org.springframework.security.web.header.HeaderWriterFilter@1effd53c, org.springframework.web.filter.CorsFilter@16ed445, org.springframework.security.web.authentication.logout.LogoutFilter@a66e580, com.yy.hospital.security.JwtAuthenticationTokenFilter@625d9132, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f236de0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70228253, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77774571, org.springframework.security.web.session.SessionManagementFilter@26dc9bd5, org.springframework.security.web.access.ExceptionTranslationFilter@10a0fe30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26cb5207]
2018-07-25 01:35:50.074  INFO 10720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:35:50.404  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:35:44 CST 2018]; root of context hierarchy
2018-07-25 01:35:50.469  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:35:50.472  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:35:50.472  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:35:50.473  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:35:50.474  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:35:50.475  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:35:50.475  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:35:50.476  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:35:50.476  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:35:50.476  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:35:50.478  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:35:50.478  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:35:50.478  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:35:50.479  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:35:50.479  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:35:50.482  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:35:50.482  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:35:50.483  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:35:50.484  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:35:50.484  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:35:50.485  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:35:50.485  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:35:50.486  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:35:50.490  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:35:50.490  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:35:50.545  INFO 10720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:35:50.545  INFO 10720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:35:50.564  INFO 10720 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:35:53.090  INFO 10720 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:35:53.746  INFO 10720 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:35:53.748  INFO 10720 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:35:53.755  INFO 10720 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:35:53.792  INFO 10720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:35:53.796  INFO 10720 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.59 seconds (JVM running for 12.358)
2018-07-25 01:35:54.131  INFO 10720 --- [cluster-ClusterId{value='5b576379b8e4d529e0a982dc', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:36:02.336  INFO 10720 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:36:02.337  INFO 10720 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:36:02.360  INFO 10720 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:36:02.499  INFO 10720 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:36:02.517  INFO 10720 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:36:02.658  INFO 10720 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:36:02.668 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:36:02.686 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:36:02.703 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:36:02.714  INFO 10720 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:36:02.739  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:36:02.739  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:36:02.740  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:36:02.741  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:36:02.741  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:36:02.744 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:36:02.745 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:36:02.748 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:36:02.750  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:36:02.750  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@34c6dfb0,{}>
2018-07-25 01:36:02.750  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-25 01:38:10.826  INFO 8468 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8468 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:38:10.830  INFO 8468 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:38:10.941  INFO 8468 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:38:10 CST 2018]; root of context hierarchy
2018-07-25 01:38:12.145  INFO 8468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:38:12.180  INFO 8468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:38:12.660  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dea0d1dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.828  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$774e9a17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.841  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.846  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7bef452c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.854  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9c233cc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.871  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:13.242  INFO 8468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:38:13.265  INFO 8468 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:38:13.266  INFO 8468 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:38:13.271  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:38:13.271  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:38:13.272  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:38:14.313  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:38:14.441  INFO 8468 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:38:14.441  INFO 8468 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3500 ms
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:38:14.673  INFO 8468 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:38:14.673  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:38:14.673  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:38:15.615  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:38:15.712  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59dc36d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@21bd20ee, org.springframework.security.web.header.HeaderWriterFilter@558756be, org.springframework.web.filter.CorsFilter@6087d8b, org.springframework.security.web.authentication.logout.LogoutFilter@623dcf2a, com.yy.hospital.security.JwtAuthenticationTokenFilter@12fcc71f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@421056e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c5dbdf8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5679e96b, org.springframework.security.web.session.SessionManagementFilter@75ae4a1f, org.springframework.security.web.access.ExceptionTranslationFilter@1effd53c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b200971]
2018-07-25 01:38:15.846  INFO 8468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:38:16.242  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:38:10 CST 2018]; root of context hierarchy
2018-07-25 01:38:16.334  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:38:16.337  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:38:16.338  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:38:16.339  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:38:16.340  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:38:16.342  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:38:16.342  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:38:16.343  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:38:16.343  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:38:16.344  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:38:16.345  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:38:16.346  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:38:16.346  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:38:16.347  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:38:16.347  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:38:16.351  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:38:16.353  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:38:16.353  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:38:16.355  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:38:16.356  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:38:16.357  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:38:16.358  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:38:16.358  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:38:16.361  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:38:16.362  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:38:16.419  INFO 8468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:38:16.419  INFO 8468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:38:16.439  INFO 8468 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:38:19.086  INFO 8468 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:38:19.759  INFO 8468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:38:19.760  INFO 8468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:38:19.767  INFO 8468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:38:19.807  INFO 8468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:38:19.812  INFO 8468 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.377 seconds (JVM running for 12.511)
2018-07-25 01:38:20.137  INFO 8468 --- [cluster-ClusterId{value='5b57640bb8e4d52114773cf6', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:38:21.817  INFO 8468 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:38:21.817  INFO 8468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:38:21.839  INFO 8468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 01:38:21.977  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:21.977  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:21.978  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:21.995  INFO 8468 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:38:22.130  INFO 8468 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:38:22.141 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.141 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.143 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.162 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.162 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.162 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.181 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.181 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.181 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.191  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:22.191  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:22.191  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:38:22.215 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.216 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:38:22.219 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:38:22.241 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:38:22.242 DEBUG 8468 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.248 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.249 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.249 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.249 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.250 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.250 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.251 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.251 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.254 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.254 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.255 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.255 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.256 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.256 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.257 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.257 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.260 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.261 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.261 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.262 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.263 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.264 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.264 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.265 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.265 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.266 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.267 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.267 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.268 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.268 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.269 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.270 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.270 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.270 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.271 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.271 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.271 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.272 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.272 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.273 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.273 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.274 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.275 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.275 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.278 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.278 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.280 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.281 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.281 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.282 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.282 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.282 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.283 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.284 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.285 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.286 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.287 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.287 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.287 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.289 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.289 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.290 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.290 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.291 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.292 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.292 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.294 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.294 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.294 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.295 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.295 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.296 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.296 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.296 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.297 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.297 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.299 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.299 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.300 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.301 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.302 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.302 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.302 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.303 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.303 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.304 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.304 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.304 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.305 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.306 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.306 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.307 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.307 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.307 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.341 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.342 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.342 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.345 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.345 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.346 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.346 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.347 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.348 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.349 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.349 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.351 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.351 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.352 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.355 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.355 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.358 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.358 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.358 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.359 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.359 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.359 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.360 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.360 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.362 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.362 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.364 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.364 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.370 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.370 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.371 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.371 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.373 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.373 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.375 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.375 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.379 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.379 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.382 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.382 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.383 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.384 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.384 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.384 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.385 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.385 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.385 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.387 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.387 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.387 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.389 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.389 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.389 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.390 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.390  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:22.390  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:38:22.390  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:177
2018-07-25 01:38:22.391 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.392  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:22.392  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5bcae0c0,{}>
2018-07-25 01:38:22.392  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:179
2018-07-25 01:38:26.586  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:26.588 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:26.588 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:26.590 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:26.598  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:38:26.602 DEBUG 8468 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:38:26.602 DEBUG 8468 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:38:26.604 DEBUG 8468 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:38:26.604  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:26.604  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@424ab6d8, com.yy.hospital.domain.Departs@521ba1ff, com.yy.hospital.domain.Departs@2c75babc, com.yy.hospital.domain.Departs@4ea5dab8, com.yy.hospital.domain.Departs@594e59c2, com.yy.hospital.domain.Departs@56551f4d, com.yy.hospital.domain.Departs@57f4ef61, com.yy.hospital.domain.Departs@37e48f3d],{}>
2018-07-25 01:38:26.604  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 01:38:26.622  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:26.623 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:26.623 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:26.625 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:26.631  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:26.639  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:26.639  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:38:26.640  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:38:26.640  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:38:26.640  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:38:26.644 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:38:26.644 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:38:26.646 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:38:26.646  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:26.646  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@184d854f,{}>
2018-07-25 01:38:26.646  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 01:38:37.474  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:37.475 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:37.475 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:37.477 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:37.480  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:38:37.482 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:38:37.482 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:38:37.487 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:38:37.488  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:37.488  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@33cf29bb,{}>
2018-07-25 01:38:37.488  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:40:18.265  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:40:18.266 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:40:18.266 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:40:18.268 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:40:18.272  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:40:18.278  WARN 8468 --- [http-nio-8086-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 01:40:24.391  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:40:24.392 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:40:24.392 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:40:24.395 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:40:24.398  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:40:24.399 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:40:24.399 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:40:24.401 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:40:24.402  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:40:24.402  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4c472180,{}>
2018-07-25 01:40:24.402  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:42:09.661  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:42:09.662 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:42:09.662 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:42:09.665 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:42:09.668  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:42:09.669  WARN 8468 --- [http-nio-8086-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 01:42:15.539  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:42:15.540 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:42:15.540 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:42:15.542 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:42:15.546  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:42:15.546  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:42:15.546  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:42:15.547  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:42:15.547  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:42:15.547  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 3]
2018-07-25 01:42:15.547 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:42:15.547 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-17(Date)
2018-07-25 01:42:15.551 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:42:15.551  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:42:15.551  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5830ca9e,{}>
2018-07-25 01:42:15.552  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:44:30.385  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:30.388 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:30.388 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:30.391 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:30.394  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 01:44:30.396 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:44:30.396 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 01:44:30.398 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:44:30.398  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:30.399  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@eb74427,{}>
2018-07-25 01:44:30.399  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:44:47.411  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:47.413 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:47.413 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:47.415 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:47.419  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:44:47.426 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 01:44:47.426 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 01:44:47.429 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 01:44:47.429  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:47.429  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@1d48b92c, com.yy.hospital.domain.Doctors@5871bf68, com.yy.hospital.domain.Doctors@1621c5d6, com.yy.hospital.domain.Doctors@5ae53be6, com.yy.hospital.domain.Doctors@2bc784f, com.yy.hospital.domain.Doctors@57e30d8f, com.yy.hospital.domain.Doctors@4ff46dd0, com.yy.hospital.domain.Doctors@3c3d45c3, com.yy.hospital.domain.Doctors@5da23c0b],{}>
2018-07-25 01:44:47.430  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 01:44:48.982  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:48.983 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:48.983 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:48.985 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:48.987  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:44:48.988 DEBUG 8468 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:44:48.989 DEBUG 8468 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:44:48.991 DEBUG 8468 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:44:48.992  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:48.992  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@76d16d6d, com.yy.hospital.domain.Departs@7e724528, com.yy.hospital.domain.Departs@7f9a4f5a, com.yy.hospital.domain.Departs@5b59787f, com.yy.hospital.domain.Departs@261ecc7c, com.yy.hospital.domain.Departs@4aa98692, com.yy.hospital.domain.Departs@67e4f002, com.yy.hospital.domain.Departs@77eef601],{}>
2018-07-25 01:44:48.992  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:44:49.009  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:49.009 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:49.010 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:49.012 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:49.016  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:49.017  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:44:49.018 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:44:49.018 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:44:49.020 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:44:49.020  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:49.020  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@440fc4c6,{}>
2018-07-25 01:44:49.020  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:44:53.425  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:53.428 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:53.431 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:53.434 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:53.437  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:44:53.438 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:44:53.439 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:44:53.441 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:44:53.442  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:53.442  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@56e9f2bc,{}>
2018-07-25 01:44:53.442  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:45:21.562  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:21.563 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:21.563 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:21.570 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:21.577 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:21.577 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:21.578 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:21.578  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:21.578  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@6efd858, com.yy.hospital.domain.Departs@5cb10198, com.yy.hospital.domain.Departs@7d9ab9f3, com.yy.hospital.domain.Departs@55b54bd9, com.yy.hospital.domain.Departs@2d60642f, com.yy.hospital.domain.Departs@79891dda, com.yy.hospital.domain.Departs@51746639, com.yy.hospital.domain.Departs@2ee0144d],{}>
2018-07-25 01:45:21.578  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:45:21.594  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:21.594 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:21.594 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:21.596 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:21.599  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:45:21.600 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:21.601 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:45:21.602 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:45:21.602  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:21.602  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@75256cd1,{}>
2018-07-25 01:45:21.602  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:45:26.557  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:26.559 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:26.559 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:26.561 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:26.568  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:45:26.572 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:26.572 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:45:26.575 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:45:26.577  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:26.577  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6757089,{}>
2018-07-25 01:45:26.577  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:45:45.709  WARN 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 01:45:45.710  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 01:45:45.857 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:45.857 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:45.858 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:45.968 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:45.968 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:45.970 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.259  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:46.260 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.260 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.262 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.265  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:46.265 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.265 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.266  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:46.270 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:46.270 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.271 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:46.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:46.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.275  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:46.277 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:46.277 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.278 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.278 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.278 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:46.279 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.279 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.279 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.281 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.281 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.282 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.283 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.283 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.283 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.284 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.284 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.285 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.285 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.286 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.286 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.287 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.287 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.289 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.290 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.291  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.292 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.292 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.293 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.294 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.298  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.300 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.300 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.300 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.302 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.302 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.302 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.303 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.303 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.304 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.304 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.304 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.305 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.305 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.306 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.307 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.307 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.308 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.310 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.312 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.312 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.313 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.313 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.313 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.314 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.316 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.317 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.318 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.318 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.320 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.320 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.322 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.322 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.324 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.324 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.324 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.325 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.325 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.325 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.326 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.326 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.328 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.328 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.330 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.330 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.336 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.336 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.339 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.339 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.342 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.343 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.346 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.346 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.349 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.351 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.351 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.355 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.358 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.358 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.359 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.359  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:46.359 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.361  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@24de941c,{}>
2018-07-25 01:45:46.361  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:94
2018-07-25 01:45:46.362 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.363 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.363 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.365 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.366 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.366 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.367 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.367 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.368 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.369 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.369 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.370 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.371 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.371 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.371 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.373 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.373 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.373 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.375 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.375 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.375 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.376 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.377  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:46.377  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:45:46.377  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:101
2018-07-25 01:45:49.068  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:49.069 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:49.069 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:49.070 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:49.074  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:49.081 DEBUG 8468 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:49.082 DEBUG 8468 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:49.083 DEBUG 8468 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:49.083  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:49.083  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@50cd67fe, com.yy.hospital.domain.Departs@270ed41a, com.yy.hospital.domain.Departs@1672663f, com.yy.hospital.domain.Departs@6c6171a9, com.yy.hospital.domain.Departs@57a8194c, com.yy.hospital.domain.Departs@657b9a7, com.yy.hospital.domain.Departs@31164cc, com.yy.hospital.domain.Departs@649ab13e],{}>
2018-07-25 01:45:49.083  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 01:45:49.097  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:49.097 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:49.097 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:49.099 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:49.101  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:45:49.102 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:49.103 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:45:49.104 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:45:49.104  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:49.104  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4814675d,{}>
2018-07-25 01:45:49.104  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:45:53.990  INFO 8468 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:53.992 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:53.993 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:53.999 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:54.007  INFO 8468 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:45:54.008 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:54.009 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:45:54.013 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:45:54.014  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:54.014  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@3243d072,{}>
2018-07-25 01:45:54.014  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:56:32.094  INFO 9260 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9260 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:56:32.099  INFO 9260 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:56:32.262  INFO 9260 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:56:32 CST 2018]; root of context hierarchy
2018-07-25 01:56:33.162  INFO 9260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:56:33.211  INFO 9260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:56:33.755  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bce85e13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.001  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5596264d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.018  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.027  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27f74733' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.036  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7a6ac8ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.060  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.605  INFO 9260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:56:34.641  INFO 9260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:56:34.642  INFO 9260 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:56:34.650  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:56:34.650  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:56:34.651  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:56:35.698  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:56:35.881  INFO 9260 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:56:35.881  INFO 9260 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3619 ms
2018-07-25 01:56:36.099  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:56:36.100  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:56:36.100  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:56:36.100  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:56:36.101  INFO 9260 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:56:36.101  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:56:36.101  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:56:36.992  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:56:37.081  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@625d9132, org.springframework.security.web.context.SecurityContextPersistenceFilter@6403e24c, org.springframework.security.web.header.HeaderWriterFilter@46c269e0, org.springframework.web.filter.CorsFilter@1c54f32c, org.springframework.security.web.authentication.logout.LogoutFilter@5b852b49, com.yy.hospital.security.JwtAuthenticationTokenFilter@77774571, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4eba373c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63c12e52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@277b8fa4, org.springframework.security.web.session.SessionManagementFilter@252dc8c4, org.springframework.security.web.access.ExceptionTranslationFilter@7b6860f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15400fff]
2018-07-25 01:56:37.200  INFO 9260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:56:37.496  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:56:32 CST 2018]; root of context hierarchy
2018-07-25 01:56:37.559  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:56:37.561  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:56:37.561  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:56:37.562  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:56:37.563  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:56:37.564  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:56:37.565  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:56:37.565  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:56:37.566  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:56:37.566  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:56:37.567  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:56:37.567  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:56:37.568  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:56:37.568  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:56:37.568  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:56:37.571  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:56:37.572  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:56:37.572  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:56:37.573  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:56:37.573  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:56:37.574  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:56:37.574  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:56:37.575  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:56:37.577  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:56:37.578  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:56:37.628  INFO 9260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:56:37.628  INFO 9260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:56:37.646  INFO 9260 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:56:39.979  INFO 9260 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:56:40.638  INFO 9260 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:56:40.641  INFO 9260 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:56:40.649  INFO 9260 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:56:40.687  INFO 9260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:56:40.691  INFO 9260 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.583 seconds (JVM running for 11.134)
2018-07-25 01:56:41.011  INFO 9260 --- [cluster-ClusterId{value='5b576857b8e4d5242cd9cf40', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:56:52.264  INFO 9260 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:56:52.264  INFO 9260 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:56:52.285  INFO 9260 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:56:52.416  INFO 9260 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:56:52.432  INFO 9260 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:56:52.559  INFO 9260 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:56:52.565 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:56:52.579 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:56:52.594 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:56:52.604  INFO 9260 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:56:52.630  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:56:52.630  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:56:52.630  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:56:52.632  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:56:52.632  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:56:52.636 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:56:52.636 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:56:52.640 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:56:52.641 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:56:52.642 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:56:52.644 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:56:52.645  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:56:52.645  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@27c6800f,{}>
2018-07-25 01:56:52.646  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-25 01:56:54.276  INFO 9260 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:56:54.278 DEBUG 9260 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:56:54.278 DEBUG 9260 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:56:54.293 DEBUG 9260 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:56:54.301  INFO 9260 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:56:54.306  WARN 9260 --- [http-nio-8086-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 01:57:10.487  INFO 9260 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:10.489 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:10.489 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:10.495 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:10.502  INFO 9260 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:10.503  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:57:10.504 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:57:10.505 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:57:10.507 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:57:10.508 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:57:10.509 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:57:10.510 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:57:10.511  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:10.511  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@46ec4cd4,{}>
2018-07-25 01:57:10.511  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 01:57:27.067  INFO 9260 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:27.068 DEBUG 9260 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:27.068 DEBUG 9260 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:27.070 DEBUG 9260 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:27.078  INFO 9260 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:57:27.095 DEBUG 9260 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:57:27.095 DEBUG 9260 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:57:27.096 DEBUG 9260 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:57:27.097  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:27.098  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4f2c696a, com.yy.hospital.domain.Departs@74e4cc66, com.yy.hospital.domain.Departs@7e64bdb7, com.yy.hospital.domain.Departs@43acc36e, com.yy.hospital.domain.Departs@6fe79548, com.yy.hospital.domain.Departs@3d32e32e, com.yy.hospital.domain.Departs@6660683a, com.yy.hospital.domain.Departs@43f2702b],{}>
2018-07-25 01:57:27.098  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:18
2018-07-25 01:57:27.117  INFO 9260 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:27.117 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:27.118 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:27.120 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:27.125  INFO 9260 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:57:27.127  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:57:27.127 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:57:27.127 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:57:27.128 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:57:27.129  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:27.129  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1280087,{}>
2018-07-25 01:57:27.129  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:57:32.104  INFO 9260 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:32.106 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:32.107 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:32.110 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:32.118  INFO 9260 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:32.120  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:32.120  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:57:32.121  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:57:32.121  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:57:32.121  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 4]
2018-07-25 01:57:32.121 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:57:32.122 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-16(Date)
2018-07-25 01:57:32.130 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:57:32.131  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:32.131  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7ecf9d45,{}>
2018-07-25 01:57:32.131  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-25 01:58:05.815  INFO 9524 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9524 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:58:05.823  INFO 9524 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:58:05.922  INFO 9524 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:58:05 CST 2018]; root of context hierarchy
2018-07-25 01:58:06.893  INFO 9524 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:58:06.934  INFO 9524 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:58:07.497  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f0708f3e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.704  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$891e5778] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.720  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.725  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a6ebe1e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.731  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$adf2fa2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.753  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:08.219  INFO 9524 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:58:08.248  INFO 9524 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:58:08.248  INFO 9524 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:58:08.252  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:58:08.253  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:58:08.253  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:58:09.296  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:58:09.422  INFO 9524 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:58:09.423  INFO 9524 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3502 ms
2018-07-25 01:58:09.622  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:58:09.622  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:58:09.623  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:58:09.623  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:58:09.624  INFO 9524 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:58:09.624  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:58:09.624  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:58:10.555  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:58:10.555  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:58:10.645  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b200971, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ae4a1f, org.springframework.security.web.header.HeaderWriterFilter@26dc9bd5, org.springframework.web.filter.CorsFilter@297c49d0, org.springframework.security.web.authentication.logout.LogoutFilter@4c6007fb, com.yy.hospital.security.JwtAuthenticationTokenFilter@1a2bcd56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63c12e52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0e7ecd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68d7a2df, org.springframework.security.web.session.SessionManagementFilter@26f46fa6, org.springframework.security.web.access.ExceptionTranslationFilter@558756be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5460b754]
2018-07-25 01:58:10.764  INFO 9524 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:58:11.059  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:58:05 CST 2018]; root of context hierarchy
2018-07-25 01:58:11.122  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:58:11.124  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:58:11.125  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:58:11.125  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:58:11.126  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:58:11.128  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:58:11.131  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:58:11.131  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:58:11.131  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:58:11.132  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:58:11.132  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:58:11.135  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:58:11.136  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:58:11.136  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:58:11.137  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:58:11.137  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:58:11.138  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:58:11.139  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:58:11.139  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:58:11.141  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:58:11.142  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:58:11.189  INFO 9524 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:58:11.189  INFO 9524 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:58:11.208  INFO 9524 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:58:13.652  INFO 9524 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:58:14.262  INFO 9524 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:58:14.264  INFO 9524 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:58:14.270  INFO 9524 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:58:14.308  INFO 9524 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:58:14.312  INFO 9524 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.369 seconds (JVM running for 11.037)
2018-07-25 01:58:14.690  INFO 9524 --- [cluster-ClusterId{value='5b5768b5b8e4d525342ead61', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:58:20.816  INFO 9524 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:58:20.817  INFO 9524 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:58:20.838  INFO 9524 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:58:20.968  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:20.983  INFO 9524 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:58:21.114  INFO 9524 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:58:21.121 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:21.137 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:21.155 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:21.164  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:21.184  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:21.184  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:58:21.184  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:58:21.186  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:58:21.186  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:58:21.198 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:58:21.199 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:58:21.202 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:58:21.203  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:21.204  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@813ce0e, com.yy.hospital.domain.Departs@644fde23, com.yy.hospital.domain.Departs@39622168, com.yy.hospital.domain.Departs@389fe010, com.yy.hospital.domain.Departs@2e6a3ab3, com.yy.hospital.domain.Departs@344e579b, com.yy.hospital.domain.Departs@1c0f591b, com.yy.hospital.domain.Departs@5b57a5ea],{}>
2018-07-25 01:58:21.204  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:20
2018-07-25 01:58:21.312  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:21.313 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:21.313 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:21.315 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:21.319  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:58:21.334 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:58:21.335 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:58:21.336 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:58:21.337  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:21.337  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@10399f9,{}>
2018-07-25 01:58:21.337  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:58:25.173  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:25.176 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:25.177 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:25.180 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:25.187  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:25.189  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 5]
2018-07-25 01:58:25.191 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:58:25.192 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-16(Date)
2018-07-25 01:58:25.196 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:58:25.199 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:58:25.200 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:58:25.202 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:58:25.202  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:25.202  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@27d5e656,{}>
2018-07-25 01:58:25.203  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 01:58:34.661  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:34.662 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:34.662 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:34.666 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:34.671  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 3]
2018-07-25 01:58:34.673 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:58:34.674 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-10(Date)
2018-07-25 01:58:34.676 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 01:58:34.677  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:34.677  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@3e108ea9,{}>
2018-07-25 01:58:34.677  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:59:01.846  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:01.850 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.853 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.853  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:01.856  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:01.857 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.863 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.864  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:01.868  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:01.868 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.873 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:01.873 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:01.873  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:01.874  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:01.874 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.874  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:59:01.875  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:01.875  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:59:01.875  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:01.875 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.875 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:01.875 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:01.877 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:01.881 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.883 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:01.883 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.884 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.884 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.885 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.887 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.887 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.891 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.892 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.892 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.892 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.893 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.893 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.894 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.896 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.897 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.898 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.898 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.898 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.899 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.899 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.900 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.900 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.904 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.904 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.905 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.905 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.906 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.906 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.906 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.910 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.910 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.911 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.911 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.913 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.913 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.915 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.915 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.917 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.917 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.919 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.921 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.921 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.923 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.923 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.924 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.924 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.924 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.925 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.926 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.927 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.927 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.928 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.928 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.928 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.930 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.930 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.932 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.932 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.934 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.934 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.936 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.936 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.938 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.939 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.939 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.940 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.940 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.942 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.946 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.946 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.948 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.948 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.949 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.949 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.949 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.950 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.952 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.952 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.954 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.954 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.955 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.955 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.955 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.956 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.958 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.958 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.960 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.960 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.963 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.963 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.965 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.965 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.969 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.971 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.971 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.971 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.972 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.972  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:01.972  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:59:01.972  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:98
2018-07-25 01:59:01.973 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.973  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:01.973  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@76335b71,{}>
2018-07-25 01:59:01.973  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:107
2018-07-25 01:59:08.930  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:08.931 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:08.931 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:08.933 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:08.938  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:08.939 DEBUG 9524 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:08.939 DEBUG 9524 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:08.941 DEBUG 9524 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:08.941  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:08.941  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@33478afe, com.yy.hospital.domain.Departs@7268f38a, com.yy.hospital.domain.Departs@62dc3f4a, com.yy.hospital.domain.Departs@7f7eb56, com.yy.hospital.domain.Departs@868812c, com.yy.hospital.domain.Departs@3d29c708, com.yy.hospital.domain.Departs@3e0c8988, com.yy.hospital.domain.Departs@6197844],{}>
2018-07-25 01:59:08.941  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:59:08.954  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:08.955 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:08.955 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:08.957 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:08.960  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:59:08.961 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:08.962 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:59:08.962 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:59:08.963  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:08.963  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1fa1c0b6,{}>
2018-07-25 01:59:08.963  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:59:10.706  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:10.708 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.708 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.712  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:10.713 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.713 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.714  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:10.715 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.715 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.715 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.716 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.717 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.722  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:59:10.724 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:10.725 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:10.725 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:10.725 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:10.727 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.727 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.729 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.731 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.731 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.733 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.733 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.735 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.737 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.739 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.739 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.741 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.741 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.741 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.743 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.743 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.743 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.746 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.746 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.749 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.749 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.754 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.754 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.757 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.758 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.760 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.760 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.763 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.764 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.766 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.766 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.770 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.773 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.773 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.775 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.775 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.778 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.778 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.781 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.781 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.781 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.784 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.784 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.787 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.787 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.794 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.794 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.796 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.796 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5c1d4d9,{}>
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:71
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:72
2018-07-25 01:59:12.940  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:12.942 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:12.942 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:12.944 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:12.947 DEBUG 9524 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:12.948 DEBUG 9524 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:12.949 DEBUG 9524 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:12.949  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:12.949  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@28d56391, com.yy.hospital.domain.Departs@47314f5a, com.yy.hospital.domain.Departs@2112ee7f, com.yy.hospital.domain.Departs@5e6ee3dc, com.yy.hospital.domain.Departs@5d24ca6b, com.yy.hospital.domain.Departs@1022050a, com.yy.hospital.domain.Departs@26756067, com.yy.hospital.domain.Departs@f2c0776],{}>
2018-07-25 01:59:12.949  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:59:12.960  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:12.960 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:12.961 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:12.964 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:12.967  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:59:12.968 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:12.969 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:59:12.970 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:59:12.971  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:12.971  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@20cba87,{}>
2018-07-25 01:59:12.971  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:59:25.225  INFO 8636 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8636 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:59:25.229  INFO 8636 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:59:25.288  INFO 8636 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:59:25 CST 2018]; root of context hierarchy
2018-07-25 01:59:26.250  INFO 8636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:59:26.292  INFO 8636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:59:27.042  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5fdcdc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.463  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8eab9600] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.478  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.485  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@417d6615' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.494  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b38038b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.648  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:28.199  INFO 8636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:59:28.234  INFO 8636 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:59:28.234  INFO 8636 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:59:28.242  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:59:28.242  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:59:28.243  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:59:29.301  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:59:29.474  INFO 8636 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:59:29.475  INFO 8636 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4187 ms
2018-07-25 01:59:29.797  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:59:29.798  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:59:29.799  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:59:29.800  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:59:29.801  INFO 8636 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:59:29.803  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:59:29.803  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:59:30.976  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:59:30.976  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:59:31.112  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bbf841e, org.springframework.security.web.context.SecurityContextPersistenceFilter@60bbacfc, org.springframework.security.web.header.HeaderWriterFilter@767a014e, org.springframework.web.filter.CorsFilter@3370776, org.springframework.security.web.authentication.logout.LogoutFilter@646c0a67, com.yy.hospital.security.JwtAuthenticationTokenFilter@4f0f7849, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@255eaa6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b852b49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56a4f272, org.springframework.security.web.session.SessionManagementFilter@26c47874, org.springframework.security.web.access.ExceptionTranslationFilter@43045f9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12fcc71f]
2018-07-25 01:59:31.361  INFO 8636 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:59:32.004  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:59:25 CST 2018]; root of context hierarchy
2018-07-25 01:59:32.129  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:59:32.132  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:59:32.133  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:59:32.133  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:59:32.134  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:59:32.137  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:59:32.137  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:59:32.138  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:59:32.139  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:59:32.139  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:59:32.141  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:59:32.141  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:59:32.142  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:59:32.142  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:59:32.142  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:59:32.145  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:59:32.146  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:59:32.147  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:59:32.149  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:59:32.149  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:59:32.150  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:59:32.151  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:59:32.152  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:59:32.156  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:59:32.156  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:59:32.216  INFO 8636 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:59:32.216  INFO 8636 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:59:32.236  INFO 8636 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:59:34.829  INFO 8636 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:59:35.493  INFO 8636 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:59:35.496  INFO 8636 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:59:35.502  INFO 8636 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:59:35.539  INFO 8636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:59:35.543  INFO 8636 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.956 seconds (JVM running for 14.025)
2018-07-25 01:59:35.875  INFO 8636 --- [cluster-ClusterId{value='5b576906b8e4d521bce03a2f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:59:43.032  INFO 8636 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:59:43.033  INFO 8636 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:59:43.058  INFO 8636 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:59:43.183  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:43.201  INFO 8636 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:59:43.323  INFO 8636 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:59:43.330 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:43.347 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:43.362 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:43.371  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:43.398  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:43.399  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:43.399  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:43.400  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:43.401  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:59:43.404 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:43.405 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:59:43.409 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:59:43.410 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.410 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.412 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.413 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.413 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.415 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.416 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.416 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.419 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.419 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.420 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.422 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.422 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.422 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.425 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.426 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.426 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:59:43.428 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.430  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:43.430  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4930a995,{}>
2018-07-25 01:59:43.430  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:31
2018-07-25 01:59:54.161  INFO 8636 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:54.162 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:54.163 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:54.164 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:54.170  INFO 8636 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:59:54.172 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:54.172 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:59:54.174 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:59:54.175 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.175 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.176 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.177 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.177 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.179 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.179 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.179 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.181 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.182 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.182 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.184 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.185 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.185 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.187 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.188 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.188 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:59:54.190 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.192  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:54.192  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@3ca32a2f,{}>
2018-07-25 01:59:54.192  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:21
2018-07-25 02:00:00.010  INFO 8636 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:00.012 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:00.013 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:00.016 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:00.024  INFO 8636 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:00:00.027 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:00.028 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:00:00.033 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:00:00.035 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.036 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.038 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.039 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.039 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.041 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.041 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.041 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.043 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.043 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.044 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.048 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.048 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.049 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.050 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.051 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.051 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:00:00.053 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.053  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:00.053  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@619de743,{}>
2018-07-25 02:00:00.053  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:27
2018-07-25 02:00:05.494  INFO 8636 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:05.496 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:05.496 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:05.498 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:05.505  INFO 8636 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 2]
2018-07-25 02:00:05.509 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:05.510 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-17(Date)
2018-07-25 02:00:05.512 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 02:00:05.513 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.514 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.516 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.516 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.517 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.521 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.522 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.522 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.523 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.524 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.525 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.526 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.526 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.526 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.528 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.528  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:05.528  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6ed9319b,{}>
2018-07-25 02:00:05.528  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:20
2018-07-25 02:00:15.308  INFO 8636 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:15.310 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:15.310 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:15.314 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:15.322  INFO 8636 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 1]
2018-07-25 02:00:15.324 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:15.325 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-16(Date)
2018-07-25 02:00:15.328 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 02:00:15.329 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.330 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.331 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.332 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.332 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.333 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.334 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.334 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.335 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.336 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.336 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.337 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.338 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.338 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.340 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.340  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:15.340  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@a0d1011,{}>
2018-07-25 02:00:15.340  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:17
2018-07-25 02:00:25.350  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:25.351 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:25.352 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:25.354 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:25.361  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:00:25.362 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:25.363 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:00:25.365 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:00:25.366 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.366 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.368 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.368 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.369 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.370 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.371 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.371 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.374 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.375 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.375 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.378 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.379 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.380 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.381 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.382 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.382 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:00:25.384 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.384  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:25.384  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@244e73d1,{}>
2018-07-25 02:00:25.384  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:22
2018-07-25 02:04:28.923  INFO 9228 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9228 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 02:04:28.932  INFO 9228 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 02:04:29.002  INFO 9228 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:04:29 CST 2018]; root of context hierarchy
2018-07-25 02:04:30.046  INFO 9228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:04:30.088  INFO 9228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:04:30.675  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.928  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.952  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.958  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6272c96f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.966  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:31.001  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:31.742  INFO 9228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 02:04:31.773  INFO 9228 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 02:04:31.774  INFO 9228 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 02:04:31.778  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 02:04:31.779  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 02:04:31.779  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 02:04:32.825  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 02:04:32.934  INFO 9228 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 02:04:32.934  INFO 9228 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3932 ms
2018-07-25 02:04:33.139  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 02:04:33.140  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 02:04:33.140  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 02:04:33.140  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 02:04:33.141  INFO 9228 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 02:04:33.141  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 02:04:33.141  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 02:04:34.030  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 02:04:34.030  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 02:04:34.122  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5dbdf8, org.springframework.security.web.header.HeaderWriterFilter@70228253, org.springframework.web.filter.CorsFilter@192f4870, org.springframework.security.web.authentication.logout.LogoutFilter@6dd1c3ed, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aac8884, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80bfdc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@7a0e7ecd, org.springframework.security.web.access.ExceptionTranslationFilter@3968bc60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b84841]
2018-07-25 02:04:34.244  INFO 9228 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:04:34.545  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:04:29 CST 2018]; root of context hierarchy
2018-07-25 02:04:34.628  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 02:04:34.630  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 02:04:34.630  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 02:04:34.631  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:04:34.632  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 02:04:34.633  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:04:34.636  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:04:34.641  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 02:04:34.642  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 02:04:34.642  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 02:04:34.643  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 02:04:34.644  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 02:04:34.645  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 02:04:34.645  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 02:04:34.645  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 02:04:34.648  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 02:04:34.648  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 02:04:34.698  INFO 9228 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:04:34.698  INFO 9228 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:04:34.717  INFO 9228 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 02:04:37.163  INFO 9228 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 02:04:37.815  INFO 9228 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 02:04:37.817  INFO 9228 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 02:04:37.824  INFO 9228 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 02:04:37.862  INFO 9228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 02:04:37.867  INFO 9228 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.919 seconds (JVM running for 11.594)
2018-07-25 02:04:38.221  INFO 9228 --- [cluster-ClusterId{value='5b576a35b8e4d5240c72e530', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 02:04:51.096  INFO 9228 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 02:04:51.096  INFO 9228 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 02:04:51.116  INFO 9228 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-25 02:04:51.260  INFO 9228 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:51.260  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:51.260  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:51.278  INFO 9228 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 02:04:51.404  INFO 9228 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 02:04:51.413 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.413 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.417 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.430 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.430 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.430 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.448 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.448 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.448 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.459  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:51.459  INFO 9228 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:51.461  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:51.482  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 02:04:51.482  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:51.484 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.484 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.491 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.512 DEBUG 9228 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:04:51.512 DEBUG 9228 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:04:51.512 DEBUG 9228 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:04:51.513 DEBUG 9228 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:04:51.516 DEBUG 9228 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:04:51.521 DEBUG 9228 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:04:51.521 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.522 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.522 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.522 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.523 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.524 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.524 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.524 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.525 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.525 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.526 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.526 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.529 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.529 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.530 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.530 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.530 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.531 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.532 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.532 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.534 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.535 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.535 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.535 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.537 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.537 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.538 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.539 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.538 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.540 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.542 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.541 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.543 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.544 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.544 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.546 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.547 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.547 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.548 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.549 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.549 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.550 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.550 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.550 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.551 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.552 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.553 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.553 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.553 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.554 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.555 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.556 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.556 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.556 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.558 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.558 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.558 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.559 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.559 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.560 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.560 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.561 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.561 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.562 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.562 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.565 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.565 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.567 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.567 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.572 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.574 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.574 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.574 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.575 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.575 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.577 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.577 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.578 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.578 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.579 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.579 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.579 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.580 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.580 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.580 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.581 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.581 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.583 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.583 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.585 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.585 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.587 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.587 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.589 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.589 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.591 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.591 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.595 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.595 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.596 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.596 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.598 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.598 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.601 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.601 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.603 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.603 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.607 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.608 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.610 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.612 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.614 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.614 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.616 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.616 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.617 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.617 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.618 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.618 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.618 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.619 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.619 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.619 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.620 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.620 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.620 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.621 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.621 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.621 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.622 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.623 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.623 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.623 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.624  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:51.624  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 02:04:51.625  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:143
2018-07-25 02:04:51.625 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.625 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.626 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.627 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.627  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:51.627  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5a1e2e79,{}>
2018-07-25 02:04:51.627  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:145
2018-07-25 02:04:57.104  INFO 9228 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:57.105 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:57.106 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:57.109 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:57.112  INFO 9228 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:57.113  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:57.113  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 02:04:57.114  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:57.114  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 02:04:57.114  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:57.122 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 02:04:57.122 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 02:04:57.125 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 02:04:57.126  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:57.126  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@480b064, com.yy.hospital.domain.Doctors@67063905, com.yy.hospital.domain.Doctors@703b9d47, com.yy.hospital.domain.Doctors@3eb0c92e, com.yy.hospital.domain.Doctors@3f324d0c, com.yy.hospital.domain.Doctors@692a95fe, com.yy.hospital.domain.Doctors@4557fc39, com.yy.hospital.domain.Doctors@7d96b404, com.yy.hospital.domain.Doctors@5061cc97],{}>
2018-07-25 02:04:57.126  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:13
2018-07-25 02:04:59.357  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:59.357 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:59.358 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:59.368 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:59.375  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:59.380 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:04:59.380 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:04:59.382 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:04:59.383  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:59.383  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@27d5e656, com.yy.hospital.domain.Departs@2843c1c1, com.yy.hospital.domain.Departs@7626e91d, com.yy.hospital.domain.Departs@dd3aefb, com.yy.hospital.domain.Departs@5bc0e41, com.yy.hospital.domain.Departs@33478afe, com.yy.hospital.domain.Departs@7268f38a, com.yy.hospital.domain.Departs@62dc3f4a],{}>
2018-07-25 02:04:59.383  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 02:04:59.397  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:59.397 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:59.397 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:59.399 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:59.404  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 02:04:59.418 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:04:59.418 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 02:04:59.419 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 02:04:59.425 ERROR 9228 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 02:05:04.447  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:04.448 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:04.449 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:04.451 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:04.456  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 02:05:04.457 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:04.458 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 02:05:04.460 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:05:04.461 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:04.461 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:05:04.463 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:04.464 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:04.464 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:05:04.466 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:04.467  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:04.467  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@296cbc36,{}>
2018-07-25 02:05:04.467  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 02:05:21.428  WARN 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 02:05:21.429  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 02:05:21.572 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.573 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.574 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.696 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.696 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.698 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.884  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:21.884  INFO 9228 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:21.885 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.885 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.886 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.886 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.887 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.888 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.891  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 02:05:21.893  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:05:21.893  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.896 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.896 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.907 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.907 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.908 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.912 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.914 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.914 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.916 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.916 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.918 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.918 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.921 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.921 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.921 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.922 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.922 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.924 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.924 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.926 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.927 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.927 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.929 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.930 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.930 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.930 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.931 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.931 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.932 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.932 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.933 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.933 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.933 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.934 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.936 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.936 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.937 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.937 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.938 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.938 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.939 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.939 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.939 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.940 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.941 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.941 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.943 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.946 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.946 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.947 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.947 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.949 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.949 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.951 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.951 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.953 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.953 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.955 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.955 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.958 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.958 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.961 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.961 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.961 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.962 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.962 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.962 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.963 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.963 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.964 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.964 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.964 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.965 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.965 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.965 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.968 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.968 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.968 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.969 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.969 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.971 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.971 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.971 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.974 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.974 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.974 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.975 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.975 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.975 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.976 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.976 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.979 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.979 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.982 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.982 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.982 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.983 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.983 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.983 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.983  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:21.983  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@6fe7bc7f,{}>
2018-07-25 02:05:21.983  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:91
2018-07-25 02:05:21.987 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.987 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.988 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.989 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.989  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:21.989  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 02:05:21.990  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:98
2018-07-25 02:05:22.038  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:22.039 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:22.039 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:22.041 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:22.045  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:22.048 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:22.048 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:22.050 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:25.149  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:25.151 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:25.152 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:25.153 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:25.157  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:05:25.158 DEBUG 9228 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:05:25.158 DEBUG 9228 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:05:25.159 DEBUG 9228 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:05:25.160  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:25.160  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@56eadec1, com.yy.hospital.domain.Departs@3a531485, com.yy.hospital.domain.Departs@1d0c2a40, com.yy.hospital.domain.Departs@31554ca8, com.yy.hospital.domain.Departs@31498095, com.yy.hospital.domain.Departs@131c4d05, com.yy.hospital.domain.Departs@6f3e2b0c, com.yy.hospital.domain.Departs@74950a4f],{}>
2018-07-25 02:05:25.160  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 02:05:25.173  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:25.174 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:25.174 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:25.176 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:25.181  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 02:05:25.183 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:25.183 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 02:05:25.184 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 02:05:25.187 ERROR 9228 --- [http-nio-8086-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 02:05:29.462  INFO 9228 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:29.463 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:29.464 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:29.467 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:29.471  INFO 9228 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:29.473  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 2]
2018-07-25 02:05:29.473 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:29.473 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-17(Date)
2018-07-25 02:05:29.476 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 02:05:29.477 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:29.477 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:05:29.480 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:29.480  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:29.480  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@600a3c45,{}>
2018-07-25 02:05:29.480  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 02:05:34.839  INFO 9228 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:34.840 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:34.840 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:34.843 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:34.847  INFO 9228 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:34.848  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:05:34.849 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:34.849 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:05:34.854 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:05:34.854 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:34.855 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:05:34.858 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:34.859 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:34.859 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:05:34.860 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:34.861  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:34.861  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@433bb599,{}>
2018-07-25 02:05:34.861  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 02:07:53.529  INFO 7656 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 7656 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 02:07:53.533  INFO 7656 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 02:07:53.613  INFO 7656 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:07:53 CST 2018]; root of context hierarchy
2018-07-25 02:07:54.511  INFO 7656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:07:54.543  INFO 7656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:07:54.979  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$31425761] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.204  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c9f01f9b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.216  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.221  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2a49fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.228  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$eec4c24d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.244  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.577  INFO 7656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 02:07:55.597  INFO 7656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 02:07:55.598  INFO 7656 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 02:07:55.603  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 02:07:55.604  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 02:07:55.604  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 02:07:56.646  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 02:07:56.760  INFO 7656 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 02:07:56.760  INFO 7656 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3147 ms
2018-07-25 02:07:56.962  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 02:07:56.962  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 02:07:56.963  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 02:07:56.963  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 02:07:56.963  INFO 7656 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 02:07:56.964  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 02:07:56.964  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 02:07:57.867  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 02:07:57.867  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 02:07:57.960  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18d910b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@43045f9f, org.springframework.security.web.header.HeaderWriterFilter@262816a8, org.springframework.web.filter.CorsFilter@3370776, org.springframework.security.web.authentication.logout.LogoutFilter@7aac8884, com.yy.hospital.security.JwtAuthenticationTokenFilter@1e7ab390, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6403e24c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75ae4a1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@625d9132, org.springframework.security.web.session.SessionManagementFilter@7ff35a3f, org.springframework.security.web.access.ExceptionTranslationFilter@4fc3c165, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@654c7d2d]
2018-07-25 02:07:58.080  INFO 7656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:07:58.379  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:07:53 CST 2018]; root of context hierarchy
2018-07-25 02:07:58.446  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 02:07:58.447  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 02:07:58.448  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 02:07:58.449  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:07:58.450  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 02:07:58.452  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 02:07:58.452  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:07:58.452  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:07:58.453  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 02:07:58.453  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:07:58.455  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:07:58.455  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 02:07:58.456  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 02:07:58.456  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 02:07:58.456  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 02:07:58.458  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 02:07:58.459  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 02:07:58.460  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 02:07:58.461  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 02:07:58.462  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 02:07:58.463  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 02:07:58.463  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 02:07:58.463  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 02:07:58.466  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 02:07:58.467  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 02:07:58.518  INFO 7656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:07:58.518  INFO 7656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:07:58.536  INFO 7656 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 02:08:00.912  INFO 7656 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 02:08:01.550  INFO 7656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 02:08:01.552  INFO 7656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 02:08:01.558  INFO 7656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 02:08:01.595  INFO 7656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 02:08:01.599  INFO 7656 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.282 seconds (JVM running for 12.708)
2018-07-25 02:08:01.959  INFO 7656 --- [cluster-ClusterId{value='5b576b00b8e4d51de8a236ce', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 02:08:08.637  INFO 7656 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 02:08:08.638  INFO 7656 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 02:08:08.659  INFO 7656 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 02:08:08.792  INFO 7656 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:08.808  INFO 7656 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 02:08:08.934  INFO 7656 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 02:08:08.940 DEBUG 7656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:08.956 DEBUG 7656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:08.972 DEBUG 7656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:08.980  INFO 7656 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:08.998  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:08.999  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 02:08:08.999  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:08:09.001  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 02:08:09.001  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:08:09.014 DEBUG 7656 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:08:09.015 DEBUG 7656 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:08:09.018 DEBUG 7656 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:08:09.019  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:08:09.019  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@5194aabc, com.yy.hospital.domain.Departs@21ceedda, com.yy.hospital.domain.Departs@efd30e1, com.yy.hospital.domain.Departs@79cf4275, com.yy.hospital.domain.Departs@dfac6ba, com.yy.hospital.domain.Departs@5b0c4ae2, com.yy.hospital.domain.Departs@3c91135a, com.yy.hospital.domain.Departs@3f4e2257],{}>
2018-07-25 02:08:09.019  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:21
2018-07-25 02:08:09.103  INFO 7656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:09.104 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:09.104 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:09.106 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:09.112  INFO 7656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:09.122  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:09.122  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:08:09.122  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:08:09.123  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:08:09.123  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 02:08:09.126 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:08:09.127 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 02:08:09.128 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 02:08:09.135 ERROR 7656 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$9de959b5.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 02:08:14.562  INFO 7656 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:14.563 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:14.564 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:14.567 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:14.574  INFO 7656 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:14.576  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:14.576  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:08:14.577  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:08:14.577  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:08:14.577  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:08:14.577 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:08:14.578 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:08:14.582 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:08:14.583 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:08:14.583 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:08:14.585 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:08:14.586 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:08:14.586 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:08:14.589 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:08:14.589  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:08:14.590  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4d97c126,{}>
2018-07-25 02:08:14.590  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:14
2018-07-25 02:08:27.248  INFO 7656 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:27.249 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:27.250 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:27.253 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:27.259  INFO 7656 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:27.260  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:27.260  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:08:27.261  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:08:27.261  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:08:27.261  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 3]
2018-07-25 02:08:27.261 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:08:27.262 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-10(Date)
2018-07-25 02:08:27.264 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 02:08:27.264 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:08:27.265 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 3(Integer)
2018-07-25 02:08:27.267 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:08:27.268  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:08:27.268  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4cd3ce33,{}>
2018-07-25 02:08:27.268  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 10:18:28.262  INFO 6288 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6288 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 10:18:28.262  INFO 6288 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 10:18:28.309  INFO 6288 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 10:18:28 CST 2018]; root of context hierarchy
2018-07-25 10:18:29.323  INFO 6288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 10:18:29.354  INFO 6288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 10:18:29.853  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3bd670e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.040  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d484391c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.056  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.056  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44f3fe83' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.071  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f958dbce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.087  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.477  INFO 6288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 10:18:30.493  INFO 6288 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 10:18:30.493  INFO 6288 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 10:18:30.508  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 10:18:30.508  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 10:18:30.508  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 10:18:31.538  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 10:18:31.663  INFO 6288 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 10:18:31.663  INFO 6288 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3354 ms
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 10:18:32.911  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fdab70c, org.springframework.security.web.context.SecurityContextPersistenceFilter@255eaa6b, org.springframework.security.web.header.HeaderWriterFilter@3968bc60, org.springframework.web.filter.CorsFilter@1ecdba46, org.springframework.security.web.authentication.logout.LogoutFilter@e57e5d6, com.yy.hospital.security.JwtAuthenticationTokenFilter@25ad4f71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a0e7ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@122d6c22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49faf066, org.springframework.security.web.session.SessionManagementFilter@2849434b, org.springframework.security.web.access.ExceptionTranslationFilter@6403e24c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77bbadc]
2018-07-25 10:18:33.020  INFO 6288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 10:18:33.347  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 10:18:28 CST 2018]; root of context hierarchy
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 10:18:33.441  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 10:18:33.441  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 10:18:33.488  INFO 6288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 10:18:33.488  INFO 6288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 10:18:33.503  INFO 6288 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 10:18:35.890  INFO 6288 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 10:18:36.608  INFO 6288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 10:18:36.608  INFO 6288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 10:18:36.608  INFO 6288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 10:18:36.655  INFO 6288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 10:18:36.655  INFO 6288 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 8.847 seconds (JVM running for 11.634)
2018-07-25 10:18:36.967  INFO 6288 --- [cluster-ClusterId{value='5b57ddfb622a651890a842dd', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 10:27:29.686  INFO 6288 --- [http-nio-8086-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 10:27:29.686  INFO 6288 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 10:27:29.735  INFO 6288 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 49 ms
2018-07-25 10:27:29.782  WARN 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 10:27:29.782  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 10:27:30.042  INFO 6288 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 10:27:30.202  INFO 6288 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 10:27:30.207 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.225 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.252 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.368 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.368 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.368 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.760  INFO 6288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:30.760  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.765 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.768 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.770  INFO 6288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:30.773  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 10:27:30.798 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 10:27:30.800 DEBUG 6288 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.828 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.828 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.830 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.830 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.830 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.890 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.890 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@3b0727c,{}>
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:115
2018-07-25 10:27:30.890 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:115
2018-07-25 10:27:31.130  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:31.133 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:31.133 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:31.135 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:31.138  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:31.138 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:31.138 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:31.138 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:34.517  INFO 6288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:34.517 DEBUG 6288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:34.517 DEBUG 6288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:34.520 DEBUG 6288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 10:27:34.530 DEBUG 6288 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 10:27:34.530 DEBUG 6288 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 10:27:34.532 DEBUG 6288 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 10:27:34.532  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:34.532  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@2e2388b3, com.yy.hospital.domain.Departs@103f3c1d, com.yy.hospital.domain.Departs@487d7a3, com.yy.hospital.domain.Departs@7850092e, com.yy.hospital.domain.Departs@4a846087, com.yy.hospital.domain.Departs@2332621e, com.yy.hospital.domain.Departs@19329314, com.yy.hospital.domain.Departs@6153f065],{}>
2018-07-25 10:27:34.532  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 10:27:34.555  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:34.555 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:34.555 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:34.557 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:34.565  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 10:27:34.572 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:34.572 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 10:27:34.575 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 10:27:34.582 ERROR 6288 --- [http-nio-8086-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 10:27:38.924  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:38.929 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:38.929 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:38.934 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:38.947  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 4]
2018-07-25 10:27:38.949 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:38.952 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-24(Date)
2018-07-25 10:27:38.952 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 10:27:38.954 ERROR 6288 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 10:27:44.661  INFO 6288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:44.664 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:44.664 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:44.669 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:44.676  INFO 6288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 10:27:44.681 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:44.681 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 10:27:44.686 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 10:27:44.689 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 10:27:44.689 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 10:27:44.694 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 10:27:44.696  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:44.696  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@aec7fb6,{}>
2018-07-25 10:27:44.696  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:17
2018-07-25 10:27:53.462  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:53.469 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:53.472 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:53.477 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:53.487  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 10:27:53.489 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:53.489 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 10:27:53.497 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 10:27:53.497 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 10:27:53.497 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 10:27:53.499 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 10:27:53.502 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 10:27:53.502 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 10:27:53.504 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 10:27:53.504  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:53.504  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4c3092cd,{}>
2018-07-25 10:27:53.504  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-25 11:27:47.998  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 11:27:48.003 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 11:27:48.004 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 11:27:48.006  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 11:27:48.008 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 11:27:48.008 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 11:27:48.010 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 11:27:48.014  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 11:27:48.015  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 11:27:48.015  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 11:27:48.015  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 11:27:48.015  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 11:27:48.015  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 11:27:48.016 DEBUG 6288 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 11:27:48.016 DEBUG 6288 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 11:27:48.018 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 11:27:48.018 DEBUG 6288 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 11:27:48.019 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.019 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.022  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 11:27:48.023 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.023  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 11:27:48.023  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 11:27:48.023  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 11:27:48.023  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 11:27:48.023  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 11:27:48.023 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.023 DEBUG 6288 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 11:27:48.023 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.023 DEBUG 6288 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 11:27:48.024 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.025 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.025 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.026 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.027 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.027 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.028 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.029 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.029 DEBUG 6288 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 11:27:48.029 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.029 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.029 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.030 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.030 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.030 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.031 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.032 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.032 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.033 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.033 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.033 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.034 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.035 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.035 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.036 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.037 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.037 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.038 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.038 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.038 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.039 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.040 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.040 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.041 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.041 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.042 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.042 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.043 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.043 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.044 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.045 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.045 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.046 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.047 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.047 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.048 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.048 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.048 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.048 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.049 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.049 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.050 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.050 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.050 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.050 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.050 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.050 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.051 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.051 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.052 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.052 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.052 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.052 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.053 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.053 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.053 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.053 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.054 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.054 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 11:27:48.055 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.055 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.055 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.055 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.055 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.055 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.056 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.057 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.057 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.058 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.059 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.059 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.060 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.060 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.060 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.061 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.061 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.062 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.062 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.062 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.062 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.063 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.063 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.063 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.064 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.065 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.065 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.066 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.067 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.067 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.068 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.069 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.069 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.070 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.070 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.071 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.071 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.071 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.072 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.072 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.072 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.072 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.073 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.073 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.073 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.073 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.073 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.073 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.074 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.074 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.075 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.075 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.075 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.075 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 11:27:48.076 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.076 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.076 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.076 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.076 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.078 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.079 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.079 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.079 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.079 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.079 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.079 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.081 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.081 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.081 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.081 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.081 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.081 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.082 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.082 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.083 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.083 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.083 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.083 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.084 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.085 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.085 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.085 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.085 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.086 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 11:27:48.086 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.087 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.087 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.088 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.088 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.088 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.089 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.088 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.089 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.090 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.090 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.090  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 11:27:48.090  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@25ebf222,{}>
2018-07-25 11:27:48.090  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:75
2018-07-25 11:27:48.090 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.090 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.092 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.092 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.092 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.094 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.095 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.095 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.096 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.096 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.097 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 11:27:48.098 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.098 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.098 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.099 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.100 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.100 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.101 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.101 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.101 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.102 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.103 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.103 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.104 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.104 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.104 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 11:27:48.105 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.106 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.106 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.107 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.107 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.107 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.108 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.109 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.109 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.110 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.111 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.111 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.112 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.112 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.112 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 11:27:48.113 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.114 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.114 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.115 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.115 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.116 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.117 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.117 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.117 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.118 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.119 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.119 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.120 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.120 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.120 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 11:27:48.121 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.121 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 11:27:48.122 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.122 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 11:27:48.123 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 11:27:48.123 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.124 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 11:27:48.124 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 11:27:48.124 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.125 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 11:27:48.125 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 11:27:48.126 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.132 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 11:27:48.133 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 11:27:48.133 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 11:27:48.134 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 11:27:48.134  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 11:27:48.134  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 11:27:48.134  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:111
2018-07-25 11:27:48.193  INFO 6288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 11:27:48.193 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 11:27:48.194 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 11:27:48.195 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 11:27:48.199  INFO 6288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 11:27:48.201 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 11:27:48.201 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 11:27:48.202 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:22:45.038  INFO 6288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:22:45.041 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:22:45.042 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:22:45.047 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:22:45.050  INFO 6288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:22:45.051  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:22:45.051  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 13:22:45.051  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:22:45.051  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 13:22:45.051  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 13:22:45.051 DEBUG 6288 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 13:22:45.052 DEBUG 6288 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 13:22:45.052 DEBUG 6288 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 13:22:45.053  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:22:45.053  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@5ea4d2f7, com.yy.hospital.domain.Departs@48d86592, com.yy.hospital.domain.Departs@31e080eb, com.yy.hospital.domain.Departs@3cbfd0d2, com.yy.hospital.domain.Departs@44748ed8, com.yy.hospital.domain.Departs@4f0b9731, com.yy.hospital.domain.Departs@7ad9a1e3, com.yy.hospital.domain.Departs@3822d72a],{}>
2018-07-25 13:22:45.053  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 13:22:45.073  INFO 6288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:22:45.074 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:22:45.074 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:22:45.076 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:22:45.081  INFO 6288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:22:45.082  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:22:45.082  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 13:22:45.082  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 13:22:45.082  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 13:22:45.082  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 13:22:45.082 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 13:22:45.083 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 13:22:45.084 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 13:22:45.085 ERROR 6288 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 13:22:46.542  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:22:46.544 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:22:46.544 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:22:46.546 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:22:46.553  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:22:46.631  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:22:46.631  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 13:22:46.631  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 13:22:46.631  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 13:22:46.632  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 13:22:46.632 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 13:22:46.633 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 13:22:46.635 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 13:22:46.636 ERROR 6288 --- [http-nio-8086-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 13:22:48.834  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:22:48.837 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:22:48.838 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:22:48.842 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:22:48.851  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:22:48.852  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:22:48.852  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 13:22:48.852  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 13:22:48.852  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 13:22:48.852  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 1]
2018-07-25 13:22:48.853 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 13:22:48.853 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-17(Date)
2018-07-25 13:22:48.857 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 13:22:48.858 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 13:22:48.858 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 13:22:48.861 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 13:22:48.861  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:22:48.861  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7749de24,{}>
2018-07-25 13:22:48.861  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 13:22:59.398  INFO 6288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:22:59.398 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:22:59.399 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:22:59.401 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:22:59.405  INFO 6288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:22:59.406  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:22:59.406  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 13:22:59.406  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:22:59.406  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 13:22:59.406  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 13:22:59.415 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 13:22:59.415 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 13:22:59.419 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 13:22:59.419  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:22:59.419  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@17aba2ff, com.yy.hospital.domain.Doctors@3d77d7d7, com.yy.hospital.domain.Doctors@69538ed0, com.yy.hospital.domain.Doctors@bf089bc, com.yy.hospital.domain.Doctors@41866e67, com.yy.hospital.domain.Doctors@424cd0ef, com.yy.hospital.domain.Doctors@371ce378, com.yy.hospital.domain.Doctors@382e214e, com.yy.hospital.domain.Doctors@4a29857a],{}>
2018-07-25 13:22:59.419  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:13
2018-07-25 13:23:03.803  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:03.803  INFO 6288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:03.804 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:03.805 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:03.806 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:03.806 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:03.807 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:03.808 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:03.810  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:03.811  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:03.811  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-25 13:23:03.811  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:23:03.811  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-25 13:23:03.811  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 13:23:03.812 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-25 13:23:03.812 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-25 13:23:03.813  INFO 6288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:03.814 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-25 13:23:03.814  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:03.814  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@438ae38d, com.yy.hospital.domain.Departs@6d13266b, com.yy.hospital.domain.Departs@263a7c67, com.yy.hospital.domain.Departs@4d063e25, com.yy.hospital.domain.Departs@59043a83, com.yy.hospital.domain.Departs@2d506fb6, com.yy.hospital.domain.Departs@58fcf73f, com.yy.hospital.domain.Departs@24f71d13, com.yy.hospital.domain.Departs@5c5ffb2c, com.yy.hospital.domain.Departs@72dc12ce]
2018-07-25 13:23:03.814  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 13:23:03.817  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:03.818  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors/21
2018-07-25 13:23:03.818  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:23:03.818  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findOneDr
2018-07-25 13:23:03.818  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[21]
2018-07-25 13:23:03.818 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.m.DoctorsMapper.findOneDrAndPt     : ==>  Preparing: select d.doname doname,d.bcost bcost,d.pcreg pcreg,d.xcreg xcreg, d.title title ,de.dename dename,d.info info, d.monam monam,d.tueam tueam,d.wedam wedam,d.thuam thuam,d.friam friam,d.satam satam,d.sunam sunam, d.monpm monpm,d.tuepm tuepm,d.wedpm wedpm,d.thupm thupm,d.fripm fripm,d.satpm satpm,d.sumpm sumpm from doctors d JOIN departs de on d.deid = de.deid where d.doid = ? 
2018-07-25 13:23:03.819 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.m.DoctorsMapper.findOneDrAndPt     : ==> Parameters: 21(Integer)
2018-07-25 13:23:03.822 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.m.DoctorsMapper.findOneDrAndPt     : <==      Total: 1
2018-07-25 13:23:03.822  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:03.822  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DrAndAdmins@73b9790f,{}>
2018-07-25 13:23:03.822  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 13:23:10.924  INFO 6288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:10.925 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:10.925 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:10.930 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:10.938  INFO 6288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:10.950  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:10.951  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 13:23:10.952  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:PUT
2018-07-25 13:23:10.952  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.updateDrById
2018-07-25 13:23:10.952  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[com.yy.hospital.domain.Doctors@1b78a7c8]
2018-07-25 13:23:10.953 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.updateDrById  : ==>  Preparing: update doctors set doname=?,title=?,info=?,pcreg=?,xcreg=?,bcost=?,monam=?,monpm=?,tueam=?,tuepm=?,wedam=?,wedpm=?,thuam=?,thupm=?,friam=?,fripm=?,satam=?,satpm=?,sunam=?,sumpm=? where doid = ? 
2018-07-25 13:23:10.954 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.updateDrById  : ==> Parameters: 杨哥(String), 主任医师(String), 医术享誉全球(String), 12(Integer), 16(Integer), 10.0(Double), 1(Integer), null, 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 1(Integer), 21(Integer)
2018-07-25 13:23:10.971 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.updateDrById  : <==    Updates: 1
2018-07-25 13:23:10.971  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:10.971  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 13:23:10.971  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:20
2018-07-25 13:23:13.586  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:13.587 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:13.587 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:13.589 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:13.592  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:13.592  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:13.592  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 13:23:13.592  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:23:13.592  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 13:23:13.592  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 13:23:13.593 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 13:23:13.593 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 13:23:13.596 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 13:23:13.596  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:13.596  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@4f813121, com.yy.hospital.domain.Doctors@10b4be10, com.yy.hospital.domain.Doctors@408456c4, com.yy.hospital.domain.Doctors@7e1554be, com.yy.hospital.domain.Doctors@38db7a64, com.yy.hospital.domain.Doctors@d2a0751, com.yy.hospital.domain.Doctors@6f7a5246, com.yy.hospital.domain.Doctors@3b9e5bb3, com.yy.hospital.domain.Doctors@58751efe],{}>
2018-07-25 13:23:13.597  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 13:23:15.960  INFO 6288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:15.960 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:15.961 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:15.962 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:15.966  INFO 6288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:15.966  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:15.966  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 13:23:15.967  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:23:15.967  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 13:23:15.967  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 13:23:15.967 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 13:23:15.967 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 13:23:15.969 DEBUG 6288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 13:23:15.969  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:15.969  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@45d223de, com.yy.hospital.domain.Doctors@70cd79db, com.yy.hospital.domain.Doctors@5dd6f01a, com.yy.hospital.domain.Doctors@5fd0480, com.yy.hospital.domain.Doctors@51651b32, com.yy.hospital.domain.Doctors@4a7db364, com.yy.hospital.domain.Doctors@2041cc11, com.yy.hospital.domain.Doctors@4d75159d, com.yy.hospital.domain.Doctors@34b03b8a],{}>
2018-07-25 13:23:15.969  INFO 6288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 13:23:19.429  INFO 6288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:19.430 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:19.430 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:19.432 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:19.437  INFO 6288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:19.438  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:19.438  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 13:23:19.438  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 13:23:19.438  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 13:23:19.438  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 13:23:19.438 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 13:23:19.439 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 13:23:19.440 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 13:23:19.440  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:19.440  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@7725456, com.yy.hospital.domain.Departs@4d1b0a33, com.yy.hospital.domain.Departs@33dcf972, com.yy.hospital.domain.Departs@45e91673, com.yy.hospital.domain.Departs@50ac2a7c, com.yy.hospital.domain.Departs@4573e8c8, com.yy.hospital.domain.Departs@11b09e7d, com.yy.hospital.domain.Departs@1ce758b6],{}>
2018-07-25 13:23:19.440  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 13:23:19.458  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:19.458 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:19.458 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:19.461 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:19.463  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:19.464  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:19.464  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 13:23:19.464  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 13:23:19.464  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 13:23:19.465  INFO 6288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 13:23:19.465 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 13:23:19.465 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 13:23:19.467 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 13:23:19.469 ERROR 6288 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 13:23:22.024  INFO 6288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:22.025 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:22.025 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:22.026 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:22.031  INFO 6288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:22.031  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:22.032  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 13:23:22.032  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 13:23:22.032  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 13:23:22.032  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 1]
2018-07-25 13:23:22.032 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 13:23:22.032 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-17(Date)
2018-07-25 13:23:22.034 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 13:23:22.034 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 13:23:22.034 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 13:23:22.036 DEBUG 6288 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 13:23:22.036  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:22.036  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5017b08,{}>
2018-07-25 13:23:22.036  INFO 6288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 13:23:25.948  INFO 6288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 13:23:25.950 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 13:23:25.950 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 13:23:25.952 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 13:23:25.957  INFO 6288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 13:23:25.959  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 13:23:25.959  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 13:23:25.959  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 13:23:25.959  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 13:23:25.959  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 13:23:25.959 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 13:23:25.960 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 13:23:25.962 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 13:23:25.962 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 13:23:25.962 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 13:23:25.963 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 13:23:25.964 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 13:23:25.964 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 13:23:25.965 DEBUG 6288 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 13:23:25.965  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 13:23:25.965  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@52328ab9,{}>
2018-07-25 13:23:25.965  INFO 6288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 14:01:58.297  INFO 8288 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8288 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 14:01:58.302  INFO 8288 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 14:01:58.694  INFO 8288 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 14:01:58 CST 2018]; root of context hierarchy
2018-07-25 14:02:00.165  INFO 8288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 14:02:00.246  INFO 8288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 14:02:00.986  INFO 8288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$77abb6ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:02:01.246  INFO 8288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$10597ee8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:02:01.260  INFO 8288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:02:01.266  INFO 8288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7906578e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:02:01.272  INFO 8288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$352e219a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:02:01.291  INFO 8288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:02:01.708  INFO 8288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 14:02:01.735  INFO 8288 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 14:02:01.735  INFO 8288 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 14:02:01.740  INFO 8288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 14:02:01.741  INFO 8288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 14:02:01.741  INFO 8288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 14:02:02.793  INFO 8288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 14:02:02.956  INFO 8288 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 14:02:02.956  INFO 8288 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4262 ms
2018-07-25 14:02:03.188  INFO 8288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 14:02:03.188  INFO 8288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 14:02:03.189  INFO 8288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 14:02:03.189  INFO 8288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 14:02:03.190  INFO 8288 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 14:02:03.190  INFO 8288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 14:02:03.190  INFO 8288 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 14:02:04.240  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 14:02:04.240  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 14:02:04.240  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 14:02:04.240  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 14:02:04.240  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 14:02:04.241  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 14:02:04.241  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 14:02:04.356  INFO 8288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a4f272, org.springframework.security.web.context.SecurityContextPersistenceFilter@255eaa6b, org.springframework.security.web.header.HeaderWriterFilter@3968bc60, org.springframework.web.filter.CorsFilter@5921449b, org.springframework.security.web.authentication.logout.LogoutFilter@117525fe, com.yy.hospital.security.JwtAuthenticationTokenFilter@3ee0b4f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a0e7ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@122d6c22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79b84841, org.springframework.security.web.session.SessionManagementFilter@2849434b, org.springframework.security.web.access.ExceptionTranslationFilter@6403e24c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed7821]
2018-07-25 14:02:04.500  INFO 8288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 14:02:04.864  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 14:01:58 CST 2018]; root of context hierarchy
2018-07-25 14:02:04.933  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 14:02:04.935  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 14:02:04.935  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 14:02:04.936  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 14:02:04.937  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 14:02:04.939  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 14:02:04.939  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 14:02:04.939  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 14:02:04.940  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 14:02:04.940  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 14:02:04.942  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 14:02:04.942  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 14:02:04.943  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 14:02:04.943  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 14:02:04.943  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 14:02:04.946  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 14:02:04.947  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 14:02:04.947  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 14:02:04.948  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 14:02:04.949  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 14:02:04.949  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 14:02:04.950  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 14:02:04.950  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 14:02:04.953  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 14:02:04.954  INFO 8288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 14:02:05.007  INFO 8288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 14:02:05.007  INFO 8288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 14:02:05.027  INFO 8288 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 14:02:07.813  INFO 8288 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 14:02:08.499  INFO 8288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 14:02:08.501  INFO 8288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 14:02:08.507  INFO 8288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 14:02:08.548  INFO 8288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 14:02:08.556  INFO 8288 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 12.836 seconds (JVM running for 16.228)
2018-07-25 14:02:08.857  INFO 8288 --- [cluster-ClusterId{value='5b58125f622a652060a1d5d8', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 14:02:26.084  INFO 8288 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 14:02:26.084  INFO 8288 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 14:02:26.107  INFO 8288 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 14:02:26.143  WARN 8288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 14:02:26.143  INFO 8288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 14:02:26.377  INFO 8288 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 14:02:26.524  INFO 8288 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 14:02:26.530 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:26.546 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:26.564 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:26.695 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:26.696 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:26.698 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:27.320  INFO 8288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:27.320  INFO 8288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:27.320  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:27.322 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:27.322 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:27.322 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:27.322 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:27.322 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:27.324 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:27.327 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:27.331  INFO 8288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:27.332  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:27.322 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:27.338  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:27.338 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:27.338 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:27.338  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 14:02:27.338  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:02:27.338 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:27.341  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 14:02:27.341  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:02:27.341 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:27.345  INFO 8288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:27.347  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:27.347  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 14:02:27.347  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:02:27.347  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 14:02:27.347  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:02:27.362 DEBUG 8288 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 14:02:27.363 DEBUG 8288 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 14:02:27.363 DEBUG 8288 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 14:02:27.363 DEBUG 8288 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 14:02:27.367 DEBUG 8288 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 14:02:27.373 DEBUG 8288 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 14:02:27.375 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.375 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.375 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.375 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.377 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.379 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.379 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.380 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.381 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.381 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.382 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.383 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.383 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.383 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.384 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.384 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.385 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.386 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.387 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.387 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.388 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.389 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.389 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.389 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.390 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.390 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.392 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.392 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.393 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 14:02:27.393 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.393 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.394 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.395 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.395 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.396 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.396 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.396 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.397 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.397 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.398 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.398 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.398 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.398 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.400 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.400 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.400 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.400 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.401 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.402 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.403 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.403 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.403 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.404 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.404 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.404 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.405 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.405 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.406 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.406 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.406 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 14:02:27.406 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.407 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.407 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.408 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.408 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.409 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.409 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.410 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.410 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.411 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.411 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.411 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.411 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.412 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.412 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.413 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.413 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.413 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.414 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.415 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.415 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.415 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.415 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.415 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.415 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.416 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.416 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.417 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.417 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.417 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 14:02:27.417 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.419 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.419 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.419 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.419 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.420 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.420 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.421 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.421 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.421 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.421 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.421 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.421 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.422 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.422 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.423 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.423 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.423 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.424 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.425 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.425 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.426 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.426 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.426 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.426 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.427 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.427 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.428 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.428 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.428 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.428 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 14:02:27.429 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.429 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.430 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.430 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.430 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.430 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.431 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.431 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.431 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.431 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.432 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.432 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.433 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.433 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.433 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.433 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.434 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.434 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.436 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.436 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.436 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.437 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.438 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.438 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.439 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.439 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.439 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.440 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.440 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.441 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.441 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.441 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 14:02:27.441 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.442 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.442 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.443 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.443 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.443 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.443 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.444 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.444 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.445 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.445 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.445 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.445 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.446 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.446 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.446 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.446 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.447 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.447 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.448 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.448 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.449 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.449 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.449 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.449 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.450 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.450 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.451 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.451 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.451 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.451 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 14:02:27.452 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.452 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.453 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.453 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.453 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.453 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.454 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.455 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.454 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.456 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.456 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.456 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.457 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.457 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.458 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.458 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.458 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.458 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.459 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.459 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.460 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.460 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.460 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.460 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.461 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.462 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.462 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.462 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.462 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.463 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 14:02:27.463 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.464 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.464 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.464 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.464 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.465 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.465 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.466 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.466 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.466 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.466 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 14:02:27.466 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.467 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.467 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 14:02:27.468 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 14:02:27.468 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 14:02:27.468 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.469 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.470 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 14:02:27.470 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 14:02:27.471 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 14:02:27.471 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.471  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:27.471  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 14:02:27.472  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:125
2018-07-25 14:02:27.472 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 14:02:27.472 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 14:02:27.472 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 14:02:27.474 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 14:02:27.474  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:27.474  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5a51e6a,{}>
2018-07-25 14:02:27.474  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:136
2018-07-25 14:02:30.965  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:30.966 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:30.967 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:30.970 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:30.975  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:30.976  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:30.977  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departs
2018-07-25 14:02:30.977  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:02:30.977  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.displayAllDeparts
2018-07-25 14:02:30.977  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:02:30.980 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : ==>  Preparing: select deid,dename,intro,deexist from departs 
2018-07-25 14:02:30.980 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : ==> Parameters: 
2018-07-25 14:02:30.984 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DepartsMapper.findAll       : <==      Total: 10
2018-07-25 14:02:30.984  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:30.985  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:[com.yy.hospital.domain.Departs@5c4d45dd, com.yy.hospital.domain.Departs@64278b23, com.yy.hospital.domain.Departs@4392439d, com.yy.hospital.domain.Departs@4aa1363b, com.yy.hospital.domain.Departs@7cf4e11f, com.yy.hospital.domain.Departs@24d21331, com.yy.hospital.domain.Departs@758d229d, com.yy.hospital.domain.Departs@365ed2f9, com.yy.hospital.domain.Departs@6df92134, com.yy.hospital.domain.Departs@5986ec21]
2018-07-25 14:02:30.985  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 14:02:34.478  INFO 8288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:34.478 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:34.479 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:34.482 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:34.486  INFO 8288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:34.487  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:34.487  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 14:02:34.487  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:02:34.487  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 14:02:34.487  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:02:34.492 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 14:02:34.493 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 14:02:34.496 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 14:02:34.496  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:34.496  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@744997de, com.yy.hospital.domain.Doctors@f812bfa, com.yy.hospital.domain.Doctors@23d0bb3, com.yy.hospital.domain.Doctors@317ecb70, com.yy.hospital.domain.Doctors@9b14de6, com.yy.hospital.domain.Doctors@f6979d1, com.yy.hospital.domain.Doctors@65639b1c, com.yy.hospital.domain.Doctors@2201e98b, com.yy.hospital.domain.Doctors@21dc5e50],{}>
2018-07-25 14:02:34.496  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 14:02:37.904  INFO 8288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:37.906 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:37.906 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:37.908 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:37.914  INFO 8288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:37.915  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:37.915  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 14:02:37.915  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:02:37.915  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 14:02:37.915  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:02:37.915 DEBUG 8288 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 14:02:37.916 DEBUG 8288 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 14:02:37.917 DEBUG 8288 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 14:02:37.917  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:37.918  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@2f70fc3, com.yy.hospital.domain.Departs@1602732a, com.yy.hospital.domain.Departs@53212240, com.yy.hospital.domain.Departs@322b2c89, com.yy.hospital.domain.Departs@818a418, com.yy.hospital.domain.Departs@d061d12, com.yy.hospital.domain.Departs@576f1dd0, com.yy.hospital.domain.Departs@3ccb2cd0],{}>
2018-07-25 14:02:37.918  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 14:02:37.935  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:37.937 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:37.937 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:37.939 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:37.942  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:37.947  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:37.947  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:02:37.947  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:02:37.947  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:02:37.947  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 14:02:37.950 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:02:37.951 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 14:02:37.953 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:02:37.959 ERROR 8288 --- [http-nio-8086-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:02:43.139  INFO 8288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:43.140 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:43.140 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:43.142 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:43.146  INFO 8288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:43.147  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:43.147  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:02:43.148  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:02:43.148  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:02:43.148  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 14:02:43.148 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:02:43.148 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 14:02:43.150 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 14:02:43.151 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 14:02:43.151 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 14:02:43.152 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 14:02:43.153 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 14:02:43.153 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 14:02:43.155 DEBUG 8288 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 14:02:43.156  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:43.156  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7a955ba1,{}>
2018-07-25 14:02:43.156  INFO 8288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 14:02:49.725  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:02:49.726 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:02:49.726 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:02:49.728 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:02:49.732  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:02:49.733  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:02:49.733  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:02:49.734  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:02:49.734  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:02:49.734  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 14:02:49.734 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:02:49.735 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 14:02:49.737 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 14:02:49.738 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 14:02:49.738 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 14:02:49.740 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 14:02:49.740  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:02:49.740  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@679ad9c6,{}>
2018-07-25 14:02:49.740  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 14:28:58.810  INFO 8288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:28:58.814 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:28:58.814 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:28:58.816 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:28:58.821  INFO 8288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:28:58.822  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:28:58.822  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 14:28:58.822  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:28:58.822  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 14:28:58.822  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:28:58.822 DEBUG 8288 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 14:28:58.822 DEBUG 8288 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 14:28:58.824 DEBUG 8288 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 14:28:58.824  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:28:58.824  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@40e4a62, com.yy.hospital.domain.Departs@2013010c, com.yy.hospital.domain.Departs@5b51db34, com.yy.hospital.domain.Departs@51683cd, com.yy.hospital.domain.Departs@73bd9457, com.yy.hospital.domain.Departs@4b9ee04d, com.yy.hospital.domain.Departs@1ec31a71, com.yy.hospital.domain.Departs@2ffaea8f],{}>
2018-07-25 14:28:58.824  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 14:28:58.838  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:28:58.839 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:28:58.840 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:28:58.841 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:28:58.844  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:28:58.845  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:28:58.845  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:28:58.845  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:28:58.845  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:28:58.845  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 14:28:58.845 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:28:58.846 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 14:28:58.848 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:28:58.851 ERROR 8288 --- [http-nio-8086-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:02.172  INFO 8288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:02.173 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:02.173 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:02.176 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:02.179  INFO 8288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:02.180  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:02.180  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:02.180  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:02.180  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:02.180  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 1]
2018-07-25 14:29:02.181 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:02.181 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-17(Date)
2018-07-25 14:29:02.184 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 14:29:02.185 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 14:29:02.185 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 14:29:02.186 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 14:29:02.187  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:29:02.187  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@140faefa,{}>
2018-07-25 14:29:02.187  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 14:29:04.572  INFO 8288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:04.573 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:04.574 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:04.577 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:04.580  INFO 8288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:04.581  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:04.581  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:04.581  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:04.581  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:04.582  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-15, null]
2018-07-25 14:29:04.582 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:04.582 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: null, 2018-07-15(Date)
2018-07-25 14:29:04.584 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:04.586 ERROR 8288 --- [http-nio-8086-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:07.867  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:07.867 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:07.867 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:07.869 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:07.874  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:07.876  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:07.876  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:07.876  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:07.876  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:07.876  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-15, 3]
2018-07-25 14:29:07.876 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:07.876 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-15(Date)
2018-07-25 14:29:07.878 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 14:29:07.878 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 14:29:07.878 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 3(Integer)
2018-07-25 14:29:07.879 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 14:29:07.879  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:29:07.880  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1c4b1ce2,{}>
2018-07-25 14:29:07.880  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 14:29:12.940  INFO 8288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:12.941 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:12.941 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:12.943 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:12.949  INFO 8288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:12.951  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:12.951  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:12.951  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:12.951  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:12.951  INFO 8288 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 2]
2018-07-25 14:29:12.951 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:12.951 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-03(Date)
2018-07-25 14:29:12.952 DEBUG 8288 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:12.954 ERROR 8288 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:14.452  INFO 8288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:14.453 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:14.453 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:14.455 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:14.466  INFO 8288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:14.467  INFO 8288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:14.467  INFO 8288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:14.468  INFO 8288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:14.468  INFO 8288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:14.468  INFO 8288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 2]
2018-07-25 14:29:14.468 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:14.468 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-03(Date)
2018-07-25 14:29:14.469 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:14.471 ERROR 8288 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:14.630  INFO 8288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:14.630 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:14.630 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:14.631 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:14.634  INFO 8288 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:14.635  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:14.635  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:14.635  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:14.635  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:14.635  INFO 8288 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 2]
2018-07-25 14:29:14.635 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:14.635 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-03(Date)
2018-07-25 14:29:14.636 DEBUG 8288 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:14.637 ERROR 8288 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:14.839  INFO 8288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:14.839 DEBUG 8288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:14.840 DEBUG 8288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:14.842 DEBUG 8288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:14.846  INFO 8288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:14.847  INFO 8288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:14.847  INFO 8288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:14.847  INFO 8288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:14.847  INFO 8288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:14.848  INFO 8288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 2]
2018-07-25 14:29:14.848 DEBUG 8288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:14.849 DEBUG 8288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-03(Date)
2018-07-25 14:29:14.851 DEBUG 8288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:14.854 ERROR 8288 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:15.014  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:15.014 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:15.015 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:15.016 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:15.020  INFO 8288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:15.021  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:15.022  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:15.022  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:15.022  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:15.022  INFO 8288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 2]
2018-07-25 14:29:15.022 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:15.022 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-03(Date)
2018-07-25 14:29:15.024 DEBUG 8288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:15.025 ERROR 8288 --- [http-nio-8086-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:17.568  INFO 8288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:17.568 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:17.569 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:17.570 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:17.572  INFO 8288 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:17.574  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:17.574  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:17.574  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:17.574  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:17.574  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 2]
2018-07-25 14:29:17.574 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:17.575 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-17(Date)
2018-07-25 14:29:17.576 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 14:29:17.577 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 14:29:17.577 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 14:29:17.581 DEBUG 8288 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 14:29:17.581  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:29:17.581  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7df1dee3,{}>
2018-07-25 14:29:17.581  INFO 8288 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 14:29:23.352  INFO 8288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:23.353 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:23.354 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:23.356 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:23.360  INFO 8288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:23.362  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:23.362  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:23.362  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:23.362  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:23.362  INFO 8288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-02, 2]
2018-07-25 14:29:23.362 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:23.362 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-02(Date)
2018-07-25 14:29:23.363 DEBUG 8288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:23.365 ERROR 8288 --- [http-nio-8086-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:23.835  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:23.836 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:23.836 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:23.838 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:23.842  INFO 8288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:23.843  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:23.843  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:23.843  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:23.843  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:23.843  INFO 8288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-02, 2]
2018-07-25 14:29:23.844 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:23.844 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-02(Date)
2018-07-25 14:29:23.845 DEBUG 8288 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:23.847 ERROR 8288 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:24.303  INFO 8288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:24.303 DEBUG 8288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:24.304 DEBUG 8288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:24.305 DEBUG 8288 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:24.308  INFO 8288 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:29:24.310  INFO 8288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:29:24.310  INFO 8288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:29:24.310  INFO 8288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:29:24.310  INFO 8288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:29:24.310  INFO 8288 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-02, 2]
2018-07-25 14:29:24.310 DEBUG 8288 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:29:24.311 DEBUG 8288 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-02(Date)
2018-07-25 14:29:24.312 DEBUG 8288 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:29:24.314 ERROR 8288 --- [http-nio-8086-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:29:25.323  INFO 8288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:29:25.323 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:29:25.324 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:29:25.326 DEBUG 8288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:29:25.329  INFO 8288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:57:42.092  INFO 6668 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6668 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 14:57:42.096  INFO 6668 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 14:57:42.255  INFO 6668 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 14:57:42 CST 2018]; root of context hierarchy
2018-07-25 14:57:43.203  INFO 6668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 14:57:43.244  INFO 6668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 14:57:44.004  INFO 6668 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:57:44.277  INFO 6668 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:57:44.293  INFO 6668 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:57:44.300  INFO 6668 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:57:44.311  INFO 6668 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:57:44.332  INFO 6668 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 14:57:44.875  INFO 6668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 14:57:44.905  INFO 6668 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 14:57:44.906  INFO 6668 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 14:57:44.925  INFO 6668 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 14:57:44.926  INFO 6668 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 14:57:44.926  INFO 6668 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 14:57:45.979  INFO 6668 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 14:57:46.154  INFO 6668 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 14:57:46.155  INFO 6668 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3900 ms
2018-07-25 14:57:46.406  INFO 6668 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 14:57:46.407  INFO 6668 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 14:57:46.408  INFO 6668 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 14:57:46.408  INFO 6668 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 14:57:46.409  INFO 6668 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 14:57:46.410  INFO 6668 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 14:57:46.410  INFO 6668 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 14:57:47.940  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 14:57:47.940  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 14:57:47.941  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 14:57:47.941  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 14:57:47.941  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 14:57:47.941  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 14:57:47.941  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 14:57:48.120  INFO 6668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@3639f9af, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 14:57:48.353  INFO 6668 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 14:57:48.744  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 14:57:42 CST 2018]; root of context hierarchy
2018-07-25 14:57:48.817  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 14:57:48.819  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 14:57:48.820  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 14:57:48.821  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 14:57:48.821  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 14:57:48.822  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 14:57:48.824  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 14:57:48.824  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 14:57:48.824  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 14:57:48.825  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 14:57:48.825  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 14:57:48.830  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 14:57:48.830  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 14:57:48.830  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 14:57:48.831  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 14:57:48.831  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 14:57:48.832  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 14:57:48.833  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 14:57:48.833  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 14:57:48.834  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 14:57:48.835  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 14:57:48.836  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 14:57:48.836  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 14:57:48.837  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 14:57:48.839  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 14:57:48.840  INFO 6668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 14:57:48.915  INFO 6668 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 14:57:48.915  INFO 6668 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 14:57:48.944  INFO 6668 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 14:57:51.424  INFO 6668 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 14:57:52.066  INFO 6668 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 14:57:52.068  INFO 6668 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 14:57:52.075  INFO 6668 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 14:57:52.112  INFO 6668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 14:57:52.117  INFO 6668 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.641 seconds (JVM running for 13.22)
2018-07-25 14:57:52.459  INFO 6668 --- [cluster-ClusterId{value='5b581f6f622a651a0c899a01', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 14:58:26.432  INFO 6668 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 14:58:26.432  INFO 6668 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 14:58:26.454  INFO 6668 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 14:58:26.606  INFO 6668 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:58:26.625  INFO 6668 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 14:58:26.761  INFO 6668 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 14:58:26.767 DEBUG 6668 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:58:26.784 DEBUG 6668 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:58:26.808 DEBUG 6668 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:58:26.819  INFO 6668 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:58:26.840  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:58:26.840  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 14:58:26.840  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 14:58:26.843  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 14:58:26.843  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 14:58:26.856 DEBUG 6668 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 14:58:26.856 DEBUG 6668 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 14:58:26.861 DEBUG 6668 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 14:58:26.861  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:58:26.862  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@47fa669c, com.yy.hospital.domain.Departs@689aa56d, com.yy.hospital.domain.Departs@7b4ea33a, com.yy.hospital.domain.Departs@22bf06ee, com.yy.hospital.domain.Departs@36e54aa3, com.yy.hospital.domain.Departs@b6920df, com.yy.hospital.domain.Departs@53015fb, com.yy.hospital.domain.Departs@5f62fbc5],{}>
2018-07-25 14:58:26.862  INFO 6668 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:22
2018-07-25 14:58:26.956  INFO 6668 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:58:26.956 DEBUG 6668 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:58:26.957 DEBUG 6668 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:58:26.960 DEBUG 6668 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:58:26.965  INFO 6668 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:58:26.978  INFO 6668 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:58:26.978  INFO 6668 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 14:58:26.978  INFO 6668 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:58:26.978  INFO 6668 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 14:58:26.978  INFO 6668 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 14:58:26.982 DEBUG 6668 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 14:58:26.983 DEBUG 6668 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 14:58:26.986 DEBUG 6668 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 14:58:26.995 ERROR 6668 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 14:58:30.856  INFO 6668 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:58:30.857 DEBUG 6668 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:58:30.858 DEBUG 6668 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:58:30.860 DEBUG 6668 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:58:30.865  INFO 6668 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 1]
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:58:30.867  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,1,{}>
2018-07-25 14:58:30.868  INFO 6668 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:1
2018-07-25 14:58:33.909  INFO 6668 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:58:33.910 DEBUG 6668 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:58:33.910 DEBUG 6668 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:58:33.913 DEBUG 6668 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:58:33.920  INFO 6668 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:58:34.953  INFO 6668 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:58:34.955 DEBUG 6668 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:58:34.955 DEBUG 6668 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:58:34.958 DEBUG 6668 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:58:34.964  INFO 6668 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 14:58:34.968  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 14:58:34.968  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 14:58:34.968  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 14:58:34.968  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 14:58:34.970  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 1]
2018-07-25 14:58:34.971  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 14:58:34.971  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,1,{}>
2018-07-25 14:58:34.971  INFO 6668 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 14:58:37.996  INFO 6668 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 14:58:37.999 DEBUG 6668 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 14:58:38.000 DEBUG 6668 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 14:58:38.005 DEBUG 6668 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 14:58:38.016  INFO 6668 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:00:28.346  INFO 8692 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8692 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:00:28.351  INFO 8692 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 15:00:28.732  INFO 8692 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 15:00:28 CST 2018]; root of context hierarchy
2018-07-25 15:00:30.512  INFO 8692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:00:30.554  INFO 8692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:00:31.249  INFO 8692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$918df21e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:00:31.470  INFO 8692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2a3bba58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:00:31.484  INFO 8692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:00:31.490  INFO 8692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3df978b9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:00:31.495  INFO 8692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4f105d0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:00:31.514  INFO 8692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:00:31.969  INFO 8692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 15:00:31.999  INFO 8692 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 15:00:31.999  INFO 8692 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 15:00:32.021  INFO 8692 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 15:00:32.022  INFO 8692 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 15:00:32.023  INFO 8692 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 15:00:33.081  INFO 8692 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 15:00:33.199  INFO 8692 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 15:00:33.200  INFO 8692 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4467 ms
2018-07-25 15:00:33.402  INFO 8692 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 15:00:33.402  INFO 8692 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 15:00:33.402  INFO 8692 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 15:00:33.402  INFO 8692 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 15:00:33.403  INFO 8692 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 15:00:33.403  INFO 8692 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 15:00:33.403  INFO 8692 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 15:00:34.361  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:00:34.362  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:00:34.362  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:00:34.362  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:00:34.362  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:00:34.362  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:00:34.362  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:00:34.447  INFO 8692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@69f0bfd8, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 15:00:34.571  INFO 8692 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:00:34.854  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 15:00:28 CST 2018]; root of context hierarchy
2018-07-25 15:00:34.921  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:00:34.923  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:00:34.923  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:00:34.924  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:00:34.925  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:00:34.925  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:00:34.927  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:00:34.927  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:00:34.927  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:00:34.928  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:00:34.928  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:00:34.931  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:00:34.932  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:00:34.932  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:00:34.932  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:00:34.932  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:00:34.933  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:00:34.934  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:00:34.934  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:00:34.935  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:00:34.936  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:00:34.936  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:00:34.937  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:00:34.938  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:00:34.940  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:00:34.941  INFO 8692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:00:35.004  INFO 8692 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:00:35.004  INFO 8692 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:00:35.023  INFO 8692 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:00:37.395  INFO 8692 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:00:38.044  INFO 8692 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 15:00:38.046  INFO 8692 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 15:00:38.053  INFO 8692 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 15:00:38.090  INFO 8692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 15:00:38.094  INFO 8692 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.448 seconds (JVM running for 12.126)
2018-07-25 15:00:38.428  INFO 8692 --- [cluster-ClusterId{value='5b582015622a6521f4acecfa', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:01:02.613  INFO 8692 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 15:01:02.614  INFO 8692 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 15:01:02.641  INFO 8692 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 27 ms
2018-07-25 15:01:02.809  INFO 8692 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:02.809  INFO 8692 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:02.809  INFO 8692 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:02.829  INFO 8692 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:01:02.972  INFO 8692 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:01:02.981 DEBUG 8692 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:02.981 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:02.985 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:03.001 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:03.001 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:03.001 DEBUG 8692 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:03.018 DEBUG 8692 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:03.018 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:03.018 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:03.027  INFO 8692 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:03.028  INFO 8692 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:03.031  INFO 8692 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:03.052  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:03.052  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:03.052  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 15:01:03.052  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 15:01:03.052  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:01:03.052  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:01:03.055  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 15:01:03.055 DEBUG 8692 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:03.055  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 15:01:03.055  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:01:03.055  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:01:03.055 DEBUG 8692 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:03.059 DEBUG 8692 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:03.075 DEBUG 8692 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:01:03.075 DEBUG 8692 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:01:03.076 DEBUG 8692 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:01:03.076 DEBUG 8692 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:01:03.079 DEBUG 8692 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:01:03.082 DEBUG 8692 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:01:03.084 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.085 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.085 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.086 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.086 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.087 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.088 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.089 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.089 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.090 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.090 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.090 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.090 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.092 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.093 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.093 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.093 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.093 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.094 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.095 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.097 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.097 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.095 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.099 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.099 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.100 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.100 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.100 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 15:01:03.101 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.102 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.102 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.102 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.105 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.105 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.105 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.105 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.106 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.107 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.108 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.108 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.108 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.109 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.110 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.111 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.111 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.111 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.112 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.113 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.113 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.113 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.114 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.114 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.115 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.115 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.116 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.116 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.116 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.116 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 15:01:03.118 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.118 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.118 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.118 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.119 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.119 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.120 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.120 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.121 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.121 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.121 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.121 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.122 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.122 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.123 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.123 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.124 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.124 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.125 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.125 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.127 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.127 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.128 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.128 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.129 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.129 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.129 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.130 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.130 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.130 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 15:01:03.131 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.131 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.132 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.132 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.132 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.132 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.135 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.136 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.136 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.136 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.137 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.137 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.137 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.138 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.138 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.138 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.139 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.139 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.139 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.140 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.140 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.140 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.141 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.141 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.141 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.142 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.142 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.142 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.143 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.143 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 15:01:03.144 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.144 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.144 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.145 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.145 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.145 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.146 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.146 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.147 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.147 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.147 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.147 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.148 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.148 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.149 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.149 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.149 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.149 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.150 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.150 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.151 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.151 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.151 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.151 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.152 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.152 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.153 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.153 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.153 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.153 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 15:01:03.155 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.155 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.155 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.155 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.156 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.156 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.157 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.157 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.157 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.157 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.158 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.158 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.159 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.159 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.159 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.159 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.160 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.160 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.161 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.161 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.162 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.162 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.162 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.163 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.164 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.164 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.164 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.164 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.164 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.164 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 15:01:03.165 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.165 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.166 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.166 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.166 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.166 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.167 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.168 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.168 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.169 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.169 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.170 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.170 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.170 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.170 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.171 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.171 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.172 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.172 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.172 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.172 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.173 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.174 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.174 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.174 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.174 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.174 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.175 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.175 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.176 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.176 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.176 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.177 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 15:01:03.178 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.178 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.178 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.178 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.178 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.179 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.180 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.180 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.181 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.181 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.181 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.181 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.182 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.182 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.183 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:01:03.183 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:01:03.183 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.183 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.185 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:01:03.185 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:01:03.185 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:01:03.185 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:01:03.185 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.185 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.187 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:01:03.187 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:01:03.187 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:01:03.188 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 15:01:03.188  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:03.188  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 15:01:03.189  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:137
2018-07-25 15:01:03.189 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:01:03.189  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:03.190  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@34ab1e38,{}>
2018-07-25 15:01:03.190  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:138
2018-07-25 15:01:04.299  INFO 8692 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:04.302 DEBUG 8692 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:04.303 DEBUG 8692 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:04.305 DEBUG 8692 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:04.308  INFO 8692 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:04.309  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:04.310  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 15:01:04.310  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:01:04.310  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 15:01:04.310  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:01:04.312 DEBUG 8692 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:01:04.313 DEBUG 8692 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:01:04.315 DEBUG 8692 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:01:04.316  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:04.316  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4aa0a27d, com.yy.hospital.domain.Departs@6923f53c, com.yy.hospital.domain.Departs@1bbec082, com.yy.hospital.domain.Departs@4ba7247a, com.yy.hospital.domain.Departs@4dbc439, com.yy.hospital.domain.Departs@72275b8b, com.yy.hospital.domain.Departs@1ff03f9d, com.yy.hospital.domain.Departs@6d864ced],{}>
2018-07-25 15:01:04.316  INFO 8692 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 15:01:04.337  INFO 8692 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:04.338 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:04.338 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:04.340 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:04.343  INFO 8692 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:04.356  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:04.356  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:01:04.356  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:04.356  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:01:04.356  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 15:01:04.360 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:01:04.361 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 15:01:04.362 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:01:04.373 ERROR 8692 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:01:08.325  INFO 8692 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:08.327 DEBUG 8692 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:08.328 DEBUG 8692 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:08.331 DEBUG 8692 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:08.339  INFO 8692 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:08.341  INFO 8692 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:08.341  INFO 8692 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:01:08.341  INFO 8692 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:08.341  INFO 8692 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:01:08.341  INFO 8692 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 4]
2018-07-25 15:01:08.341 DEBUG 8692 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:01:08.342 DEBUG 8692 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-25(Date)
2018-07-25 15:01:08.347 DEBUG 8692 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:01:08.350 ERROR 8692 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:01:11.154  INFO 8692 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:11.155 DEBUG 8692 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:11.155 DEBUG 8692 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:11.162 DEBUG 8692 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:11.169  INFO 8692 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:11.171  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 4]
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 15:01:11.172  INFO 8692 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:0
2018-07-25 15:01:14.210  INFO 8692 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:14.212 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:14.213 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:14.216 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:14.223  INFO 8692 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:14.224  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:14.224  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:01:14.224  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:14.224  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:01:14.224  INFO 8692 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 4]
2018-07-25 15:01:14.225 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:01:14.225 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-25(Date)
2018-07-25 15:01:14.227 DEBUG 8692 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:01:14.229 ERROR 8692 --- [http-nio-8086-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:01:18.281  INFO 8692 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:18.283 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:18.284 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:18.288 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:18.293  INFO 8692 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:18.295  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:18.295  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:01:18.295  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:18.295  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:01:18.295  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-11, 4]
2018-07-25 15:01:18.295 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:01:18.296 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-11(Date)
2018-07-25 15:01:18.307 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 15:01:18.307 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:01:18.308 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 15:01:18.310 DEBUG 8692 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:01:18.310  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:18.310  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@2e713375,{}>
2018-07-25 15:01:18.310  INFO 8692 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-25 15:01:20.557  INFO 8692 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:20.558 DEBUG 8692 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:20.558 DEBUG 8692 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:20.560 DEBUG 8692 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:20.564  INFO 8692 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:20.567  WARN 8692 --- [http-nio-8086-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 15:01:27.016  INFO 8692 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:27.018 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:27.018 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:27.021 DEBUG 8692 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:27.028  INFO 8692 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:27.030  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:27.030  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:01:27.030  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:27.031  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:01:27.031  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 15:01:27.031  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:27.031  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 15:01:27.031  INFO 8692 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:1
2018-07-25 15:01:30.071  INFO 8692 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:01:30.073 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:01:30.073 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:01:30.076 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:01:30.082  INFO 8692 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:01:30.083  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:01:30.083  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:01:30.083  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:01:30.083  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:01:30.083  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 15:01:30.083 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:01:30.084 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 15:01:30.087 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 15:01:30.087 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:01:30.088 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 15:01:30.090 DEBUG 8692 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:01:30.091  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:01:30.091  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@72f62fa5,{}>
2018-07-25 15:01:30.091  INFO 8692 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 15:03:10.053  INFO 9356 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9356 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:03:10.057  INFO 9356 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 15:03:10.163  INFO 9356 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 15:03:10 CST 2018]; root of context hierarchy
2018-07-25 15:03:11.177  INFO 9356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:03:11.218  INFO 9356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:03:11.814  INFO 9356 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5fdcdc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:03:12.037  INFO 9356 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8eab9600] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:03:12.053  INFO 9356 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:03:12.059  INFO 9356 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:03:12.069  INFO 9356 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b38038b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:03:12.089  INFO 9356 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:03:12.542  INFO 9356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 15:03:12.576  INFO 9356 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 15:03:12.576  INFO 9356 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 15:03:12.581  INFO 9356 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 15:03:12.581  INFO 9356 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 15:03:12.582  INFO 9356 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 15:03:13.630  INFO 9356 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 15:03:13.739  INFO 9356 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 15:03:13.740  INFO 9356 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3577 ms
2018-07-25 15:03:13.935  INFO 9356 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 15:03:13.936  INFO 9356 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 15:03:13.936  INFO 9356 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 15:03:13.936  INFO 9356 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 15:03:13.937  INFO 9356 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 15:03:13.937  INFO 9356 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 15:03:13.937  INFO 9356 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 15:03:14.901  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:03:14.901  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:03:14.901  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:03:14.902  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:03:14.902  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:03:14.902  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:03:14.902  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:03:14.997  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bbf841e, org.springframework.security.web.context.SecurityContextPersistenceFilter@60bbacfc, org.springframework.security.web.header.HeaderWriterFilter@767a014e, org.springframework.web.filter.CorsFilter@28b15470, org.springframework.security.web.authentication.logout.LogoutFilter@646c0a67, com.yy.hospital.security.JwtAuthenticationTokenFilter@4f0f7849, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@255eaa6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b852b49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56a4f272, org.springframework.security.web.session.SessionManagementFilter@26c47874, org.springframework.security.web.access.ExceptionTranslationFilter@43045f9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12fcc71f]
2018-07-25 15:03:15.120  INFO 9356 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:03:15.439  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 15:03:10 CST 2018]; root of context hierarchy
2018-07-25 15:03:15.505  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:03:15.507  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:03:15.507  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:03:15.508  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:03:15.509  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:03:15.509  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:03:15.511  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:03:15.511  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:03:15.511  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:03:15.512  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:03:15.512  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:03:15.515  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:03:15.516  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:03:15.516  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:03:15.516  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:03:15.517  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:03:15.517  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:03:15.518  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:03:15.518  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:03:15.520  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:03:15.520  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:03:15.521  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:03:15.522  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:03:15.522  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:03:15.525  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:03:15.525  INFO 9356 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:03:15.576  INFO 9356 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:03:15.577  INFO 9356 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:03:15.595  INFO 9356 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:03:17.973  INFO 9356 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:03:18.620  INFO 9356 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 15:03:18.621  INFO 9356 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 15:03:18.628  INFO 9356 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 15:03:18.664  INFO 9356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 15:03:18.668  INFO 9356 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.386 seconds (JVM running for 10.961)
2018-07-25 15:03:19.010  INFO 9356 --- [cluster-ClusterId{value='5b5820b5622a65248c7ecc75', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:03:25.210  INFO 9356 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 15:03:25.210  INFO 9356 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 15:03:25.232  INFO 9356 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 15:03:25.378  INFO 9356 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:25.378  INFO 9356 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:25.378  INFO 9356 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:25.396  INFO 9356 --- [http-nio-8086-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:03:25.545  INFO 9356 --- [http-nio-8086-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:03:25.554 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:25.554 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:25.556 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:25.577 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:25.577 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:25.577 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:25.598 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:25.598 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:25.598 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:25.608  INFO 9356 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:25.608  INFO 9356 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:25.608  INFO 9356 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:25.629  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:25.629  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:25.629  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 15:03:25.629  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 15:03:25.629  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:03:25.629  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:03:25.632  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 15:03:25.632  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 15:03:25.632  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:03:25.632  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:03:25.632 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:25.632 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:25.635 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:25.652 DEBUG 9356 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:03:25.652 DEBUG 9356 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:03:25.653 DEBUG 9356 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:03:25.653 DEBUG 9356 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:03:25.657 DEBUG 9356 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:03:25.658 DEBUG 9356 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:03:25.663 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.663 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.664 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.664 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.668 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.669 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.669 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.670 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.671 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.672 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.672 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.673 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.673 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.673 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.674 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.674 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.675 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.676 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.677 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.677 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.677 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.677 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.678 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.679 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.680 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.680 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.681 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.681 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.681 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.682 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.682 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.683 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.684 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.684 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.685 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 15:03:25.686 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.687 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.687 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.688 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.688 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.689 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.689 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.690 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.690 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.691 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.691 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.692 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.692 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.692 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.693 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.693 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.694 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.694 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.694 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.694 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.696 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.696 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.697 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.697 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.697 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.697 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.699 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.699 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.700 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.700 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.700 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.701 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 15:03:25.701 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.702 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.702 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.703 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.704 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.704 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.705 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.705 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.705 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.706 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.707 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.707 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.707 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.707 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.707 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.709 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.709 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.709 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.709 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.709 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.709 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.711 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.711 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.711 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.711 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.712 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.712 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.713 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.713 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.713 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.713 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.714 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 15:03:25.714 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.715 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.715 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.716 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.716 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.716 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.716 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.717 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.717 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.718 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.718 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.718 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.718 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.719 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.719 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.720 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.720 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.720 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.720 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.721 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.721 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.722 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.722 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.722 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.722 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.724 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.724 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.724 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.724 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.725 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.725 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 15:03:25.726 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.726 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.726 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.726 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.727 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.727 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.728 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.728 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.728 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.728 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.729 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.729 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.730 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.730 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.731 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.731 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.731 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.732 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.732 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.733 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.733 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.733 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.734 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.734 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.735 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.735 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.736 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.736 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.736 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.736 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 15:03:25.737 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.737 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.738 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.738 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.738 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.738 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.739 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.739 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.739 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.740 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.740 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.740 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.741 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.741 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.741 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.742 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.742 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.742 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.743 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.744 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.744 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.745 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.745 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.745 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.746 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.746 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.746 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.747 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.747 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.748 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.748 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.748 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 15:03:25.748 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.749 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.749 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.750 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.750 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.750 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.750 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.751 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.751 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.752 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.752 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.752 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.753 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.753 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.753 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.754 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.754 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.754 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.754 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.756 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.756 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.756 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.756 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.756 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.756 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.758 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.758 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.758 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.758 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.759 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.759 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 15:03:25.760 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.760 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.760 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:03:25.761 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.761  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:25.761  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 15:03:25.761  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:132
2018-07-25 15:03:25.762 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:03:25.763 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:03:25.763 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.764 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:03:25.765 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:03:25.765 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.767 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:03:25.768 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:03:25.768 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.770 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:03:25.771 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:03:25.771 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 15:03:25.772 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:03:25.773  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:25.773  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@6982576d,{}>
2018-07-25 15:03:25.773  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:144
2018-07-25 15:03:26.726  INFO 9356 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:26.728 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:26.728 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:26.733 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:26.738  INFO 9356 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:26.740  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:26.740  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 15:03:26.740  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:03:26.740  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 15:03:26.740  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:03:26.743 DEBUG 9356 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:03:26.743 DEBUG 9356 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:03:26.745 DEBUG 9356 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:03:26.746  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:26.746  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@ff73630, com.yy.hospital.domain.Departs@34365445, com.yy.hospital.domain.Departs@6c0888e8, com.yy.hospital.domain.Departs@238a2baf, com.yy.hospital.domain.Departs@15facf58, com.yy.hospital.domain.Departs@136835de, com.yy.hospital.domain.Departs@3b0fa093, com.yy.hospital.domain.Departs@492a330e],{}>
2018-07-25 15:03:26.746  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 15:03:26.764  INFO 9356 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:26.765 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:26.765 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:26.766 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:26.770  INFO 9356 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:26.781  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:26.781  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:03:26.781  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:03:26.781  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:03:26.781  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 15:03:26.785 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:03:26.785 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 15:03:26.786 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:03:26.792 ERROR 9356 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$88a8009b.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:03:34.902  INFO 9356 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:34.903 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:34.903 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:34.905 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:34.910  INFO 9356 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:34.912  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:34.912  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:03:34.912  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:03:34.912  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:03:34.912  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-11, 4]
2018-07-25 15:03:34.912 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:03:34.913 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-11(Date)
2018-07-25 15:03:34.915 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 15:03:34.915  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:34.916  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 15:03:34.916  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 15:03:37.946  INFO 9356 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:37.949 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:37.950 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:37.953 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:37.959  INFO 9356 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:37.960  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:37.960  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:03:37.960  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:03:37.960  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:03:37.960  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-11, 4]
2018-07-25 15:03:37.960 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:03:37.961 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-11(Date)
2018-07-25 15:03:37.962 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 15:03:37.963 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:03:37.963 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 15:03:37.965 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:03:37.965  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:37.965  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7763cfb3,{}>
2018-07-25 15:03:37.965  INFO 9356 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 15:03:47.273  INFO 9356 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:47.275 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:47.275 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:47.281 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:47.289  INFO 9356 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:47.290  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:47.290  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:03:47.290  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:03:47.290  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:03:47.290  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 15:03:47.291 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:03:47.291 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 15:03:47.293 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 15:03:47.293 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:03:47.293 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 15:03:47.295 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:03:47.295 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:03:47.296 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 15:03:47.297 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:03:47.297  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:47.297  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1adc1ae,{}>
2018-07-25 15:03:47.297  INFO 9356 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 15:03:52.608  INFO 9356 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:52.609 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:52.610 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:52.611 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:52.615  INFO 9356 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:52.616  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:52.616  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:03:52.616  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:03:52.616  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:03:52.616  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 15:03:52.616 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:03:52.616 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 15:03:52.618 DEBUG 9356 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 15:03:52.618  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:52.618  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 15:03:52.618  INFO 9356 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 15:03:55.661  INFO 9356 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:03:55.662 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:03:55.663 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:03:55.665 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:03:55.670  INFO 9356 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:03:55.672  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:03:55.672  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:03:55.672  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:03:55.672  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:03:55.672  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 15:03:55.672 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:03:55.673 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 15:03:55.678 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 15:03:55.679 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:03:55.679 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 15:03:55.683 DEBUG 9356 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:03:55.684  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:03:55.684  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1b3a931,{}>
2018-07-25 15:03:55.684  INFO 9356 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 15:04:03.867  INFO 9356 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:04:03.869 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:04:03.869 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:04:03.873 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:04:03.879  INFO 9356 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:04:03.880  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:04:03.880  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:04:03.880  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:04:03.880  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:04:03.880  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 5]
2018-07-25 15:04:03.880 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:04:03.880 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-03(Date)
2018-07-25 15:04:03.883 DEBUG 9356 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:04:03.883  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:04:03.883  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 15:04:03.883  INFO 9356 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 15:04:06.917  INFO 9356 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:04:06.918 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:04:06.919 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:04:06.921 DEBUG 9356 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:04:06.926  INFO 9356 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:04:07.820  INFO 9356 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:04:07.821 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:04:07.822 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:04:07.824 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:04:07.829  INFO 9356 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:04:07.831  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:04:07.831  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:04:07.832  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:04:07.832  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:04:07.832  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 5]
2018-07-25 15:04:07.832 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:04:07.833 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-03(Date)
2018-07-25 15:04:07.835 DEBUG 9356 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:04:07.835  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:04:07.835  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 15:04:07.835  INFO 9356 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 15:04:10.862  INFO 9356 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:04:10.865 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:04:10.866 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:04:10.871 DEBUG 9356 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:04:10.878  INFO 9356 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:28:38.975  INFO 4980 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 4980 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:28:38.979  INFO 4980 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 15:28:39.047  INFO 4980 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 15:28:39 CST 2018]; root of context hierarchy
2018-07-25 15:28:39.952  INFO 4980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:28:39.994  INFO 4980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:28:40.614  INFO 4980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6cd5e6c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:28:40.892  INFO 4980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$583aefc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:28:40.906  INFO 4980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:28:40.923  INFO 4980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44c5a16f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:28:40.940  INFO 4980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2a5851ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:28:40.994  INFO 4980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:28:41.424  INFO 4980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 15:28:41.446  INFO 4980 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 15:28:41.447  INFO 4980 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 15:28:41.451  INFO 4980 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 15:28:41.452  INFO 4980 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 15:28:41.452  INFO 4980 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 15:28:42.496  INFO 4980 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 15:28:42.612  INFO 4980 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 15:28:42.613  INFO 4980 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3566 ms
2018-07-25 15:28:42.821  INFO 4980 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 15:28:42.821  INFO 4980 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 15:28:42.821  INFO 4980 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 15:28:42.821  INFO 4980 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 15:28:42.822  INFO 4980 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 15:28:42.822  INFO 4980 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 15:28:42.822  INFO 4980 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 15:28:43.735  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:28:43.735  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:28:43.735  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:28:43.735  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:28:43.735  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:28:43.735  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:28:43.736  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:28:43.826  INFO 4980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68d7a2df, org.springframework.security.web.context.SecurityContextPersistenceFilter@63c12e52, org.springframework.security.web.header.HeaderWriterFilter@43045f9f, org.springframework.web.filter.CorsFilter@6ed7369f, org.springframework.security.web.authentication.logout.LogoutFilter@6981f8f3, com.yy.hospital.security.JwtAuthenticationTokenFilter@59dc36d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26c47874, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43e9089, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12fcc71f, org.springframework.security.web.session.SessionManagementFilter@9596ce8, org.springframework.security.web.access.ExceptionTranslationFilter@6d1dcdff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c27a3a2]
2018-07-25 15:28:43.963  INFO 4980 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:28:44.243  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 15:28:39 CST 2018]; root of context hierarchy
2018-07-25 15:28:44.310  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:28:44.312  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:28:44.313  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:28:44.313  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:28:44.314  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:28:44.315  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:28:44.315  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:28:44.317  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:28:44.317  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:28:44.318  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:28:44.318  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:28:44.319  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:28:44.324  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:28:44.324  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:28:44.325  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:28:44.325  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:28:44.325  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:28:44.326  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:28:44.326  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:28:44.327  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:28:44.328  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:28:44.328  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:28:44.329  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:28:44.329  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:28:44.330  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:28:44.332  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:28:44.333  INFO 4980 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:28:44.389  INFO 4980 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:28:44.390  INFO 4980 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:28:44.409  INFO 4980 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:28:46.731  INFO 4980 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:28:47.348  INFO 4980 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 15:28:47.350  INFO 4980 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 15:28:47.356  INFO 4980 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 15:28:47.392  INFO 4980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 15:28:47.397  INFO 4980 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 8.933 seconds (JVM running for 10.46)
2018-07-25 15:28:47.779  INFO 4980 --- [cluster-ClusterId{value='5b5826ae622a651374dec4c9', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:29:05.926  INFO 4980 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 15:29:05.926  INFO 4980 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 15:29:05.950  INFO 4980 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 15:29:06.099  INFO 4980 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:06.099  INFO 4980 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:06.099  INFO 4980 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:06.117  INFO 4980 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:29:06.293  INFO 4980 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:29:06.304 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:06.304 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:06.311 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:06.324 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:06.324 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:06.324 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:06.344 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:06.344 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:06.345 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:06.354  INFO 4980 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:06.354  INFO 4980 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:06.355  INFO 4980 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:06.425  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:06.426  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 15:29:06.426  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:06.426  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:29:06.426  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 15:29:06.426  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:29:06.429  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 15:29:06.429  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:29:06.430 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:06.430 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:06.430  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 15:29:06.432  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:29:06.434 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:06.449 DEBUG 4980 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:29:06.449 DEBUG 4980 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:29:06.449 DEBUG 4980 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:29:06.449 DEBUG 4980 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:29:06.452 DEBUG 4980 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:29:06.453 DEBUG 4980 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:29:06.456 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.456 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.457 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.457 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.458 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.459 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.460 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.461 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.461 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.462 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.462 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.463 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.463 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.464 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.464 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.465 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.465 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.465 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.465 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.467 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.467 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.468 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.468 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.468 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.468 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.469 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.470 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.470 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.470 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.471 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.471 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 15:29:06.473 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.473 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.475 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.475 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.475 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.475 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.477 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.477 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.477 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.477 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.478 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.478 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.480 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.480 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.480 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.481 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.481 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.481 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.482 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.483 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.483 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.483 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.483 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.484 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.485 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.485 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.485 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.485 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.485 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 15:29:06.485 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.486 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.486 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.487 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.487 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.488 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.488 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.489 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.489 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.490 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.490 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.490 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.490 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.491 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.491 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.492 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.492 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.492 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.492 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.494 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.494 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.494 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.494 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.495 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.495 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.496 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.496 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.497 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.497 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.497 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.497 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 15:29:06.498 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.498 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.499 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.499 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.499 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.499 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.501 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.501 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.501 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.501 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.501 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.501 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.503 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.503 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.504 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.504 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.504 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.504 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.505 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.505 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.506 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.506 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.507 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.507 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.508 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.508 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.508 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.509 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.509 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.510 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 15:29:06.510 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.510 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.510 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.511 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.511 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.512 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.512 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.512 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.512 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.513 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.513 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.514 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.514 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.514 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.514 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.515 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.515 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.516 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.516 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.516 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.516 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.517 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.517 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.518 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.518 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.519 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.520 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.520 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.522 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.522 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 15:29:06.523 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.523 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.523 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.524 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.524 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.525 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.526 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.526 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.527 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.528 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.528 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.530 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.530 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.530 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.532 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.532 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.533 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.533 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.534 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.534 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.534 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.535 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.535 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.536 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.536 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.536 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.537 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.537 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.537 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.538 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.538 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.538 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.539 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 15:29:06.540 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.540 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.541 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.541 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.542 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.543 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.543 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.543 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.543 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.544 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.544 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.545 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.545 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.545 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.546 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.547 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.547 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.548 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.548 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.548 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.548 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.549 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.549 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.549 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.549 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.550 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 15:29:06.550 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.551 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.551 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.552 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.552 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.552 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.552 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.554 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.554 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.554 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.554 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.554 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.554 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.556 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.556 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.556 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 15:29:06.556 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 15:29:06.556 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.556 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.557 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 15:29:06.557 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 15:29:06.558 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 15:29:06.558 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 15:29:06.558 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.558 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.559 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 15:29:06.559 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 15:29:06.559 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 15:29:06.560 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 15:29:06.560  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:06.560  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@1733855,{}>
2018-07-25 15:29:06.560  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:134
2018-07-25 15:29:06.561 DEBUG 4980 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 15:29:06.561  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:06.562  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 15:29:06.562  INFO 4980 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:136
2018-07-25 15:29:08.372  INFO 4980 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:08.374 DEBUG 4980 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:08.374 DEBUG 4980 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:08.375 DEBUG 4980 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:08.381  INFO 4980 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:08.382  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:08.383  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 15:29:08.383  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:29:08.383  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 15:29:08.383  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:29:08.389 DEBUG 4980 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 15:29:08.390 DEBUG 4980 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 15:29:08.394 DEBUG 4980 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 15:29:08.395  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:08.395  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@7c10fee6, com.yy.hospital.domain.Doctors@77b8d982, com.yy.hospital.domain.Doctors@1330198f, com.yy.hospital.domain.Doctors@3fbc60eb, com.yy.hospital.domain.Doctors@44205e34, com.yy.hospital.domain.Doctors@75e5fbfb, com.yy.hospital.domain.Doctors@660a68a9, com.yy.hospital.domain.Doctors@3aede7bb, com.yy.hospital.domain.Doctors@7cfacf2c],{}>
2018-07-25 15:29:08.395  INFO 4980 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 15:29:09.552  INFO 4980 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:09.553 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:09.553 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:09.555 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:09.560  INFO 4980 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:09.561  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:09.561  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 15:29:09.561  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 15:29:09.561  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 15:29:09.562  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 15:29:09.567 DEBUG 4980 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 15:29:09.567 DEBUG 4980 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 15:29:09.569 DEBUG 4980 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 15:29:09.569  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:09.569  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@79ae7c9c, com.yy.hospital.domain.Departs@77285057, com.yy.hospital.domain.Departs@667979e9, com.yy.hospital.domain.Departs@4f12fc3c, com.yy.hospital.domain.Departs@45d223de, com.yy.hospital.domain.Departs@70cd79db, com.yy.hospital.domain.Departs@5dd6f01a, com.yy.hospital.domain.Departs@5fd0480],{}>
2018-07-25 15:29:09.569  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 15:29:09.585  INFO 4980 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:09.585 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:09.585 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:09.587 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:09.590  INFO 4980 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:09.600  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:09.600  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:29:09.600  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:29:09.600  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:29:09.600  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 15:29:09.603 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:29:09.603 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 15:29:09.604 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:29:09.613 ERROR 4980 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:29:11.897  INFO 4980 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:11.899 DEBUG 4980 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:11.900 DEBUG 4980 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:11.906 DEBUG 4980 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:11.917  INFO 4980 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:11.919  INFO 4980 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:11.919  INFO 4980 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:29:11.919  INFO 4980 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:29:11.919  INFO 4980 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:29:11.919  INFO 4980 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 15:29:11.919 DEBUG 4980 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:29:11.920 DEBUG 4980 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 15:29:11.921 DEBUG 4980 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:29:11.923 ERROR 4980 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:29:14.623  INFO 4980 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:14.624 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:14.625 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:14.626 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:14.631  INFO 4980 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:14.632  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:14.632  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:29:14.632  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:29:14.632  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:29:14.632  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 1]
2018-07-25 15:29:14.632 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:29:14.632 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-17(Date)
2018-07-25 15:29:14.635 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 15:29:14.636 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 15:29:14.636 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 15:29:14.637 DEBUG 4980 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 15:29:14.638  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:14.638  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@55c9f683,{}>
2018-07-25 15:29:14.638  INFO 4980 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 15:29:23.919  INFO 4980 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:23.920 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:23.921 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:23.924 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:23.928  INFO 4980 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:23.930  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:23.930  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 15:29:23.930  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:29:23.930  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 15:29:23.930  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 15:29:23.930 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:29:23.931 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 15:29:23.932 DEBUG 4980 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:29:23.932  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:23.932  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 15:29:23.932  INFO 4980 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 15:29:26.981  INFO 4980 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:26.982 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:26.983 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:26.985 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:26.989  INFO 4980 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:26.991  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:26.991  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 15:29:26.991  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:29:26.991  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 15:29:26.992  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 15:29:26.992 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:29:26.993 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 15:29:26.995 DEBUG 4980 --- [http-nio-8086-exec-2] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 6
2018-07-25 15:29:26.996  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 15:29:26.996  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,1,{}>
2018-07-25 15:29:26.996  INFO 4980 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 15:29:27.011  INFO 4980 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 15:29:27.012 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 15:29:27.012 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 15:29:27.013 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 15:29:27.017  INFO 4980 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 15:29:27.018  INFO 4980 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 15:29:27.018  INFO 4980 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 15:29:27.018  INFO 4980 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 15:29:27.018  INFO 4980 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 15:29:27.018  INFO 4980 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 15:29:27.018 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 15:29:27.018 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 15:29:27.019 DEBUG 4980 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 15:29:27.020 ERROR 4980 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 15:41:34.443  INFO 10044 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 10044 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:41:34.445  INFO 10044 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 15:41:34.517  INFO 10044 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:41:34 CST 2018]; root of context hierarchy
2018-07-25 15:41:35.687  INFO 10044 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:41:35.744  INFO 10044 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:41:36.611  INFO 10044 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$67c8fd61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:41:36.999  INFO 10044 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$76c59b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:41:37.018  INFO 10044 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:41:37.024  INFO 10044 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6778aea6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:41:37.036  INFO 10044 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$254b684d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:41:37.064  INFO 10044 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:41:38.726  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:41:38.726  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:41:38.726  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:41:38.727  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:41:38.727  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:41:38.727  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:41:38.727  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:41:39.548  INFO 10044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@717d7587, org.springframework.security.web.context.SecurityContextPersistenceFilter@30839e44, org.springframework.security.web.header.HeaderWriterFilter@67531e3a, org.springframework.web.filter.CorsFilter@3e906375, org.springframework.security.web.authentication.logout.LogoutFilter@608b1fd2, com.yy.hospital.security.JwtAuthenticationTokenFilter@40230eb9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1945113f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d6d1d42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b7aa898, org.springframework.security.web.session.SessionManagementFilter@3c8a7e38, org.springframework.security.web.access.ExceptionTranslationFilter@5dc0ff7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47311277]
2018-07-25 15:41:40.006  INFO 10044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:41:40.501  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:41:34 CST 2018]; root of context hierarchy
2018-07-25 15:41:40.649  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:41:40.651  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:41:40.652  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:41:40.653  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:41:40.655  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:41:40.655  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:41:40.656  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:41:40.658  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:41:40.659  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:41:40.659  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:41:40.659  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:41:40.660  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:41:40.665  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:41:40.665  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:41:40.666  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:41:40.666  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:41:40.666  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:41:40.667  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:41:40.669  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:41:40.669  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:41:40.671  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:41:40.671  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:41:40.672  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:41:40.675  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:41:40.676  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:41:40.679  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:41:40.680  INFO 10044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:41:40.762  INFO 10044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:41:40.763  INFO 10044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:41:40.792  INFO 10044 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:41:43.793  INFO 10044 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:41:44.825  INFO 10044 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 12.204 seconds (JVM running for 14.113)
2018-07-25 15:41:44.878  INFO 10044 --- [cluster-ClusterId{value='5b5829b7622a65273c43e65f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:41:45.067  INFO 10044 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:41:45.334  INFO 10044 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:41:45.346 DEBUG 10044 --- [main] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,user,bnum,xcum) values (?,?,?,?,?,?) 
2018-07-25 15:41:45.636 DEBUG 10044 --- [main] c.y.h.m.B.insertNewBookable              : ==> Parameters: 55(Integer), null, 5(Integer), 5(Integer), 5(Integer), 5(Integer)
2018-07-25 15:41:45.674  INFO 10044 --- [main] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 15:41:45.739  INFO 10044 --- [main] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 15:41:45.770  INFO 10044 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:41:34 CST 2018]; root of context hierarchy
2018-07-25 15:41:45.812  INFO 10044 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 15:41:45.819  INFO 10044 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 15:42:44.598  INFO 8252 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 8252 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:42:44.603  INFO 8252 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 15:42:44.707  INFO 8252 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:42:44 CST 2018]; root of context hierarchy
2018-07-25 15:42:45.963  INFO 8252 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:42:46.018  INFO 8252 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:42:46.799  INFO 8252 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc1be8da] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:42:47.161  INFO 8252 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$64c9b114] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:42:47.178  INFO 8252 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:42:47.184  INFO 8252 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@524a2ffb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:42:47.190  INFO 8252 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$899e53c6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:42:47.214  INFO 8252 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:42:48.649  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:42:48.650  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:42:48.650  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:42:48.650  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:42:48.650  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:42:48.650  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:42:48.650  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:42:49.470  INFO 8252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@254449bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d6d1d42, org.springframework.security.web.header.HeaderWriterFilter@138aa3cc, org.springframework.web.filter.CorsFilter@4e642ee1, org.springframework.security.web.authentication.logout.LogoutFilter@57c00115, com.yy.hospital.security.JwtAuthenticationTokenFilter@29ebbdf4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7978e022, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41184371, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fd954f, org.springframework.security.web.session.SessionManagementFilter@3d90eeb3, org.springframework.security.web.access.ExceptionTranslationFilter@2e766822, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2489e84a]
2018-07-25 15:42:49.975  INFO 8252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:42:50.433  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:42:44 CST 2018]; root of context hierarchy
2018-07-25 15:42:50.542  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:42:50.544  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:42:50.544  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:42:50.545  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:42:50.547  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:42:50.547  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:42:50.547  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:42:50.549  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:42:50.549  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:42:50.550  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:42:50.550  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:42:50.550  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:42:50.556  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:42:50.557  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:42:50.557  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:42:50.557  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:42:50.558  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:42:50.559  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:42:50.560  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:42:50.560  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:42:50.562  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:42:50.562  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:42:50.563  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:42:50.565  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:42:50.566  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:42:50.569  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:42:50.570  INFO 8252 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:42:50.632  INFO 8252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:42:50.633  INFO 8252 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:42:50.662  INFO 8252 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:42:53.501  INFO 8252 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:42:54.452  INFO 8252 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 11.458 seconds (JVM running for 13.598)
2018-07-25 15:42:54.606  INFO 8252 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:42:54.701  INFO 8252 --- [cluster-ClusterId{value='5b5829fd622a65203c2d32a7', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:42:54.867  INFO 8252 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:42:54.878 DEBUG 8252 --- [main] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,?,?,?,?,?) 
2018-07-25 15:42:54.908 DEBUG 8252 --- [main] c.y.h.m.B.insertNewBookable              : ==> Parameters: 55(Integer), null, 5(Integer), 5(Integer), 5(Integer), 5(Integer)
2018-07-25 15:42:55.173  INFO 8252 --- [main] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 15:42:55.243  INFO 8252 --- [main] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 15:42:55.267  INFO 8252 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:42:44 CST 2018]; root of context hierarchy
2018-07-25 15:42:55.308  INFO 8252 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 15:42:55.315  INFO 8252 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 15:43:40.725  INFO 8936 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 8936 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:43:40.730  INFO 8936 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 15:43:40.815  INFO 8936 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:43:40 CST 2018]; root of context hierarchy
2018-07-25 15:43:41.851  INFO 8936 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:43:41.901  INFO 8936 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:43:42.845  INFO 8936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c744a566] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:43:43.217  INFO 8936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5ff26da0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:43:43.240  INFO 8936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:43:43.248  INFO 8936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@161f6623' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:43:43.260  INFO 8936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$84c71052] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:43:43.286  INFO 8936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:43:44.821  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:43:44.822  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:43:44.822  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:43:44.822  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:43:44.822  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:43:44.823  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:43:44.823  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:43:45.645  INFO 8936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2489e84a, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d90eeb3, org.springframework.security.web.header.HeaderWriterFilter@28757abd, org.springframework.web.filter.CorsFilter@2a39aa2b, org.springframework.security.web.authentication.logout.LogoutFilter@77bc2e16, com.yy.hospital.security.JwtAuthenticationTokenFilter@62b93086, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fb53256, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57545c3f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@254449bb, org.springframework.security.web.session.SessionManagementFilter@45aca496, org.springframework.security.web.access.ExceptionTranslationFilter@2b38b1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b7aa898]
2018-07-25 15:43:46.076  INFO 8936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:43:46.577  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:43:40 CST 2018]; root of context hierarchy
2018-07-25 15:43:46.687  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:43:46.689  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:43:46.690  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:43:46.691  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:43:46.692  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:43:46.693  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:43:46.693  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:43:46.695  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:43:46.696  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:43:46.696  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:43:46.697  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:43:46.697  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:43:46.703  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:43:46.703  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:43:46.703  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:43:46.704  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:43:46.704  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:43:46.708  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:43:46.710  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:43:46.710  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:43:46.712  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:43:46.712  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:43:46.714  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:43:46.714  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:43:46.715  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:43:46.717  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:43:46.718  INFO 8936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:43:46.790  INFO 8936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:43:46.790  INFO 8936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:43:46.820  INFO 8936 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:43:49.690  INFO 8936 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:43:50.664  INFO 8936 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 11.697 seconds (JVM running for 13.401)
2018-07-25 15:43:50.762  INFO 8936 --- [cluster-ClusterId{value='5b582a35622a6522e8805fc0', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:43:50.869  INFO 8936 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:43:51.184  INFO 8936 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:43:51.195 DEBUG 8936 --- [main] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,?,?,?,?,?) 
2018-07-25 15:43:51.227 DEBUG 8936 --- [main] c.y.h.m.B.insertNewBookable              : ==> Parameters: 55(Integer), 2018-07-25(Date), 5(Integer), 5(Integer), 5(Integer), 5(Integer)
2018-07-25 15:43:51.544  INFO 8936 --- [main] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 15:43:51.605  INFO 8936 --- [main] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 15:43:51.630  INFO 8936 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@416c58f5: startup date [Wed Jul 25 15:43:40 CST 2018]; root of context hierarchy
2018-07-25 15:43:51.674  INFO 8936 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 15:43:51.698  INFO 8936 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 15:46:46.700  INFO 10220 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 10220 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:46:46.703  INFO 10220 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 15:46:46.803  INFO 10220 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7a362b6b: startup date [Wed Jul 25 15:46:46 CST 2018]; root of context hierarchy
2018-07-25 15:46:48.949  INFO 10220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:46:49.014  INFO 10220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:46:49.892  INFO 10220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9f60bbd4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:46:50.256  INFO 10220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$380e840e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:46:50.275  INFO 10220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:46:50.282  INFO 10220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1416cf9f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:46:50.295  INFO 10220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$5ce326c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:46:50.320  INFO 10220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:46:51.825  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:46:51.825  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:46:51.825  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:46:51.826  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:46:51.826  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:46:51.826  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:46:51.826  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:46:52.765  INFO 10220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1eff3cfb, org.springframework.security.web.context.SecurityContextPersistenceFilter@57545c3f, org.springframework.security.web.header.HeaderWriterFilter@697173d9, org.springframework.web.filter.CorsFilter@70c69586, org.springframework.security.web.authentication.logout.LogoutFilter@71b639d0, com.yy.hospital.security.JwtAuthenticationTokenFilter@6dc1dc69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36baa049, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56382bc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e9f2c32, org.springframework.security.web.session.SessionManagementFilter@2f894ad9, org.springframework.security.web.access.ExceptionTranslationFilter@10a98392, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fd954f]
2018-07-25 15:46:53.208  INFO 10220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:46:53.623  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7a362b6b: startup date [Wed Jul 25 15:46:46 CST 2018]; root of context hierarchy
2018-07-25 15:46:53.733  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:46:53.735  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:46:53.736  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:46:53.737  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:46:53.738  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:46:53.739  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:46:53.739  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:46:53.741  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:46:53.742  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:46:53.742  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:46:53.743  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:46:53.743  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:46:53.749  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:46:53.749  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:46:53.750  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:46:53.750  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:46:53.751  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:46:53.752  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:46:53.753  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:46:53.753  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:46:53.755  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:46:53.755  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:46:53.756  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:46:53.757  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:46:53.757  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:46:53.760  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:46:53.762  INFO 10220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:46:53.837  INFO 10220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:46:53.838  INFO 10220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:46:53.868  INFO 10220 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:46:56.997  INFO 10220 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:46:57.952  INFO 10220 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 12.231 seconds (JVM running for 13.985)
2018-07-25 15:46:58.131  INFO 10220 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:46:58.170  INFO 10220 --- [cluster-ClusterId{value='5b582af0622a6527ec169884', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:46:58.395  INFO 10220 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:46:58.408 DEBUG 10220 --- [main] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,?,?,?,?,?) 
2018-07-25 15:46:58.746 DEBUG 10220 --- [main] c.y.h.m.B.insertNewBookable              : ==> Parameters: 55(Integer), 2018-07-25(Date), 5(Integer), 5(Integer), 5(Integer), 5(Integer)
2018-07-25 15:46:58.758 DEBUG 10220 --- [main] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 15:46:58.772  INFO 10220 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7a362b6b: startup date [Wed Jul 25 15:46:46 CST 2018]; root of context hierarchy
2018-07-25 15:46:58.819  INFO 10220 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 15:46:58.836  INFO 10220 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 15:55:52.036  INFO 9648 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 9648 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:55:52.038  INFO 9648 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 15:55:52.194  INFO 9648 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7a362b6b: startup date [Wed Jul 25 15:55:52 CST 2018]; root of context hierarchy
2018-07-25 15:55:54.224  INFO 9648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:55:54.276  INFO 9648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:55:55.082  INFO 9648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$86d7425a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:55:55.473  INFO 9648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1f850a94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:55:55.490  INFO 9648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:55:55.496  INFO 9648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@55d9b8f0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:55:55.504  INFO 9648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4459ad46] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:55:55.527  INFO 9648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:55:57.088  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:55:57.089  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:55:57.089  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:55:57.089  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:55:57.089  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:55:57.089  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:55:57.089  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:55:57.916  INFO 9648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70c69586, org.springframework.security.web.context.SecurityContextPersistenceFilter@326e0b8e, org.springframework.security.web.header.HeaderWriterFilter@ceddaf8, org.springframework.web.filter.CorsFilter@6dc1dc69, org.springframework.security.web.authentication.logout.LogoutFilter@18a25bbd, com.yy.hospital.security.JwtAuthenticationTokenFilter@7e9f2c32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41184371, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@591a4f8e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19e0dffe, org.springframework.security.web.session.SessionManagementFilter@5afbd567, org.springframework.security.web.access.ExceptionTranslationFilter@30839e44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5731d3a]
2018-07-25 15:55:58.354  INFO 9648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:55:58.798  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7a362b6b: startup date [Wed Jul 25 15:55:52 CST 2018]; root of context hierarchy
2018-07-25 15:55:58.905  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:55:58.907  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:55:58.907  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:55:58.908  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:55:58.910  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:55:58.910  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:55:58.910  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:55:58.912  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:55:58.913  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:55:58.913  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:55:58.913  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:55:58.914  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:55:58.920  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:55:58.920  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:55:58.921  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:55:58.921  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:55:58.922  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:55:58.923  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:55:58.924  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:55:58.924  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:55:58.926  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:55:58.927  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:55:58.928  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:55:58.929  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:55:58.929  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:55:58.932  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:55:58.933  INFO 9648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:55:59.033  INFO 9648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:55:59.034  INFO 9648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:55:59.063  INFO 9648 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:56:01.884  INFO 9648 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:56:03.044  INFO 9648 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 11.919 seconds (JVM running for 13.656)
2018-07-25 15:56:03.193  INFO 9648 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:56:03.226  INFO 9648 --- [cluster-ClusterId{value='5b582d11622a6525b02ccb94', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:56:03.455  INFO 9648 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:56:03.465 DEBUG 9648 --- [main] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 15:56:03.496 DEBUG 9648 --- [main] c.y.h.m.B.insertNewBookable              : ==> Parameters: 55(Integer), 2018-07-25(Date), 5(Integer), 5(Integer), 5(Integer), 5(Integer)
2018-07-25 15:56:03.503 DEBUG 9648 --- [main] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 15:56:03.767  INFO 9648 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7a362b6b: startup date [Wed Jul 25 15:55:52 CST 2018]; root of context hierarchy
2018-07-25 15:56:03.804  INFO 9648 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 15:56:03.812  INFO 9648 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 15:56:29.789  INFO 8644 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 8644 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 15:56:29.791  INFO 8644 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 15:56:29.838  INFO 8644 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@21337f7b: startup date [Wed Jul 25 15:56:29 CST 2018]; root of context hierarchy
2018-07-25 15:56:31.729  INFO 8644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:56:31.924  INFO 8644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 15:56:32.817  INFO 8644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$aef51d94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:56:33.176  INFO 8644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$47a2e5ce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:56:33.191  INFO 8644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:56:33.197  INFO 8644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@790a251b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:56:33.208  INFO 8644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6c778880] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:56:33.233  INFO 8644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 15:56:34.733  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 15:56:34.734  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 15:56:34.734  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 15:56:34.734  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 15:56:34.734  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 15:56:34.734  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 15:56:34.735  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 15:56:35.693  INFO 8644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c0777b5, org.springframework.security.web.context.SecurityContextPersistenceFilter@ceddaf8, org.springframework.security.web.header.HeaderWriterFilter@3003e580, org.springframework.web.filter.CorsFilter@2489e84a, org.springframework.security.web.authentication.logout.LogoutFilter@7c51782d, com.yy.hospital.security.JwtAuthenticationTokenFilter@2a39aa2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1db87583, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6993c8df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62b93086, org.springframework.security.web.session.SessionManagementFilter@1945113f, org.springframework.security.web.access.ExceptionTranslationFilter@67531e3a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40230eb9]
2018-07-25 15:56:36.154  INFO 8644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:56:36.582  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@21337f7b: startup date [Wed Jul 25 15:56:29 CST 2018]; root of context hierarchy
2018-07-25 15:56:36.702  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 15:56:36.705  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 15:56:36.705  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 15:56:36.706  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:56:36.707  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 15:56:36.708  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 15:56:36.708  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 15:56:36.709  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:56:36.710  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 15:56:36.710  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 15:56:36.711  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 15:56:36.711  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:56:36.716  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 15:56:36.717  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 15:56:36.717  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 15:56:36.717  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 15:56:36.718  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 15:56:36.718  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 15:56:36.719  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 15:56:36.720  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 15:56:36.721  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 15:56:36.721  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 15:56:36.723  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 15:56:36.723  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 15:56:36.724  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 15:56:36.726  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 15:56:36.727  INFO 8644 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 15:56:36.794  INFO 8644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:56:36.794  INFO 8644 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 15:56:36.825  INFO 8644 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 15:56:39.847  INFO 8644 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 15:56:40.831  INFO 8644 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 11.96 seconds (JVM running for 13.755)
2018-07-25 15:56:40.917  INFO 8644 --- [cluster-ClusterId{value='5b582d37622a6521c429bf0f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 15:56:41.012  INFO 8644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 15:56:41.326  INFO 8644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 15:56:41.339 DEBUG 8644 --- [main] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 15:56:41.654 DEBUG 8644 --- [main] c.y.h.m.B.insertNewBookable              : ==> Parameters: 55(Integer), 2018-07-25(Date), 5(Integer), 5(Integer), 5(Integer), 5(Integer)
2018-07-25 15:56:41.671 DEBUG 8644 --- [main] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 15:56:41.688  INFO 8644 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@21337f7b: startup date [Wed Jul 25 15:56:29 CST 2018]; root of context hierarchy
2018-07-25 15:56:41.730  INFO 8644 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 15:56:41.744  INFO 8644 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 16:01:16.244  INFO 7752 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 7752 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:01:16.248  INFO 7752 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 16:01:16.319  INFO 7752 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 16:01:16 CST 2018]; root of context hierarchy
2018-07-25 16:01:17.321  INFO 7752 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:01:17.363  INFO 7752 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:01:17.953  INFO 7752 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f0708f3e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:01:18.332  INFO 7752 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$891e5778] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:01:18.351  INFO 7752 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:01:18.358  INFO 7752 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bee18dc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:01:18.371  INFO 7752 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$adf2fa2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:01:18.392  INFO 7752 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:01:18.920  INFO 7752 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 16:01:18.941  INFO 7752 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 16:01:18.941  INFO 7752 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 16:01:18.945  INFO 7752 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 16:01:18.946  INFO 7752 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 16:01:18.947  INFO 7752 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 16:01:19.986  INFO 7752 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 16:01:20.092  INFO 7752 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 16:01:20.092  INFO 7752 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3773 ms
2018-07-25 16:01:20.292  INFO 7752 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 16:01:20.292  INFO 7752 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 16:01:20.292  INFO 7752 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 16:01:20.292  INFO 7752 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 16:01:20.293  INFO 7752 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 16:01:20.293  INFO 7752 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 16:01:20.293  INFO 7752 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 16:01:21.229  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:01:21.229  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:01:21.229  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:01:21.229  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:01:21.230  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:01:21.231  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:01:21.232  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:01:21.338  INFO 7752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b200971, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ae4a1f, org.springframework.security.web.header.HeaderWriterFilter@26dc9bd5, org.springframework.web.filter.CorsFilter@621fe9b8, org.springframework.security.web.authentication.logout.LogoutFilter@4c6007fb, com.yy.hospital.security.JwtAuthenticationTokenFilter@1a2bcd56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63c12e52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0e7ecd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68d7a2df, org.springframework.security.web.session.SessionManagementFilter@26f46fa6, org.springframework.security.web.access.ExceptionTranslationFilter@558756be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5460b754]
2018-07-25 16:01:21.449  INFO 7752 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:01:21.725  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 16:01:16 CST 2018]; root of context hierarchy
2018-07-25 16:01:21.787  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:01:21.788  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:01:21.789  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:01:21.790  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:01:21.791  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:01:21.791  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:01:21.791  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:01:21.793  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:01:21.793  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:01:21.794  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:01:21.794  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:01:21.794  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:01:21.797  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:01:21.798  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:01:21.798  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:01:21.798  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:01:21.799  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:01:21.799  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:01:21.800  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:01:21.800  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:01:21.801  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:01:21.802  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:01:21.802  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:01:21.803  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:01:21.803  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:01:21.805  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:01:21.806  INFO 7752 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:01:21.854  INFO 7752 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:01:21.854  INFO 7752 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:01:21.873  INFO 7752 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:01:24.698  INFO 7752 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:01:25.509  INFO 7752 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 16:01:25.511  INFO 7752 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 16:01:25.517  INFO 7752 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 16:01:25.555  INFO 7752 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 16:01:25.561  INFO 7752 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.757 seconds (JVM running for 11.251)
2018-07-25 16:01:25.759  INFO 7752 --- [cluster-ClusterId{value='5b582e54622a651e484a6d01', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:02:03.340  INFO 7752 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 16:02:03.341  INFO 7752 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 16:02:03.361  INFO 7752 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-25 16:02:03.396  WARN 7752 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 16:02:03.396  INFO 7752 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 16:02:03.605  INFO 7752 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:02:03.734  INFO 7752 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:02:03.740 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:03.756 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:03.772 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:03.891 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:03.891 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:03.894 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:04.280  INFO 7752 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:04.281 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:04.282 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:04.284 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:04.291  INFO 7752 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:04.294  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:04.295  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 16:02:04.295  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:02:04.296  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 16:02:04.296  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:02:04.312 DEBUG 7752 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:02:04.312 DEBUG 7752 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:02:04.316 DEBUG 7752 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:02:04.320 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.320 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.321 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.322 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.322 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.324 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.325 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.325 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.327 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.328 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.328 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.329 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.330 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.330 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.331 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.332 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.333 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.334 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.335 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.335 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.336 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.337 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.337 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.339 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.340 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.340 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.341 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.342 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.342 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.344 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.345 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.345 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.346 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.347 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.347 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.349 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.351 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.351 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.353 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.353 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.353 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.354 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.355 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.355 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.357 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.357 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.358 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.359 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.359 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.359 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.360 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.361 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.361 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.362 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.363 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.363 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.364 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.365 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.365 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.366 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.367 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.367 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.369 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.369 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.369 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.370 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.371 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.371 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.372 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.373 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.373 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.374 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.375 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.375 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.377 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.378 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.378 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.379 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.380 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.380 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.381 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.381 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.381 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.383 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.383 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.384 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.385 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.386 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.386 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.387 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.388 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.388 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.389 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.390 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.390 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.391 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.391 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.392 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.393 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.393 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.393 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.394 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.395 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.395 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.396 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.396 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.396 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.397 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.398 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.398 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.399 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.399 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.399 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.400 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.401 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.401 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.402 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.402 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.403 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.403 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.404  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:02:04.404  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@1beae03b,{}>
2018-07-25 16:02:04.404  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:110
2018-07-25 16:02:04.487  INFO 7752 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:04.487 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:04.488 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:04.490 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:04.508  INFO 7752 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:04.513 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:04.514 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:04.516 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:04.541  INFO 7752 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:04.541 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:04.541 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:04.543 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:04.549  INFO 7752 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:04.550  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:04.550  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 16:02:04.550  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:02:04.550  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 16:02:04.550  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:02:04.551 DEBUG 7752 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:02:04.551 DEBUG 7752 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:02:04.554 DEBUG 7752 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:02:04.554 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.554 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.556 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.557 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.557 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.558 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.559 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.559 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.560 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.560 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.561 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.562 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.562 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.564 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:02:04.566 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.566 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.566 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.567 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.568 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.568 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.569 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.569 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.570 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.571 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.572 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.572 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.573 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.574 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.574 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:02:04.575 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.575 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.575 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.577 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.578 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.578 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.579 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.579 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.580 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.581 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.581 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.581 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.582 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.583 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.583 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:02:04.584 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.584 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.584 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.585 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.586 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.586 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.589 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.590 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.590 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.591 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.591 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.592 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.593 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.593 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.593 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:02:04.594 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.595 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.595 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.597 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.597 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.597 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.599 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.599 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.599 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.601 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.601 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.601 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.603 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.610 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.610 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:02:04.612 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.612 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.612 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.613 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.614 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.614 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.615 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.616 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.616 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.617 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.617 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.617 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.618 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.619 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.619 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:02:04.620 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.621 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.621 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.622 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.622 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.622 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.623 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.624 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.624 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.626 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.626 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.626 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.627 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.628 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.628 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:02:04.629 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.629 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:02:04.630 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.631 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:02:04.631 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:02:04.631 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.633 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:02:04.633 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:02:04.634 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.636 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:02:04.637 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:02:04.637 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.639 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:02:04.639 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:02:04.640 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:02:04.641 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:02:04.642  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:02:04.642  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 16:02:04.642  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:92
2018-07-25 16:02:06.569  INFO 7752 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:06.573 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:06.573 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:06.579 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:06.585  INFO 7752 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:06.586  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:06.586  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:02:06.589  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:02:06.589  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:02:06.589  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:02:06.593 DEBUG 7752 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:02:06.593 DEBUG 7752 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:02:06.594 DEBUG 7752 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:02:06.595  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:02:06.595  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4c25bcb9, com.yy.hospital.domain.Departs@1063cc49, com.yy.hospital.domain.Departs@69a3e574, com.yy.hospital.domain.Departs@29ca25c1, com.yy.hospital.domain.Departs@486b8435, com.yy.hospital.domain.Departs@466418f5, com.yy.hospital.domain.Departs@309acd08, com.yy.hospital.domain.Departs@488612f7],{}>
2018-07-25 16:02:06.595  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 16:02:06.617  INFO 7752 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:06.617 DEBUG 7752 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:06.618 DEBUG 7752 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:06.621 DEBUG 7752 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:06.625  INFO 7752 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:06.629  INFO 7752 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:06.630  INFO 7752 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:02:06.630  INFO 7752 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:02:06.630  INFO 7752 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:02:06.630  INFO 7752 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:02:06.632 DEBUG 7752 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:02:06.633 DEBUG 7752 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:02:06.634 DEBUG 7752 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:02:06.644 ERROR 7752 --- [http-nio-8086-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$7caeae0a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:02:12.391  INFO 7752 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:12.392 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:12.392 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:12.395 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:12.400  INFO 7752 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:12.401  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:12.402  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:02:12.402  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:02:12.402  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:02:12.402  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 1]
2018-07-25 16:02:12.402 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:02:12.402 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-17(Date)
2018-07-25 16:02:12.405 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:02:12.405 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:02:12.406 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:02:12.407 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:02:12.408  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:02:12.408  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@2d842427,{}>
2018-07-25 16:02:12.408  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 16:02:24.299  INFO 7752 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:24.301 DEBUG 7752 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:24.302 DEBUG 7752 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:24.305 DEBUG 7752 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:24.311  INFO 7752 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:24.313  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:24.313  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:02:24.313  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:02:24.313  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:02:24.313  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 1]
2018-07-25 16:02:24.313 DEBUG 7752 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:02:24.313 DEBUG 7752 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-24(Date)
2018-07-25 16:02:24.315 DEBUG 7752 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:02:24.315  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:02:24.315  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:02:24.315  INFO 7752 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:02:27.354  INFO 7752 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:27.361 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:27.362 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:27.365 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:27.371  INFO 7752 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:27.373  INFO 7752 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:27.373  INFO 7752 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:02:27.373  INFO 7752 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:02:27.373  INFO 7752 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:02:27.373  INFO 7752 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 1]
2018-07-25 16:02:27.373 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:02:27.374 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-24(Date)
2018-07-25 16:02:27.376 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:02:27.376 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:02:27.377 DEBUG 7752 --- [http-nio-8086-exec-1] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-16(Date), 0(Integer), null, null, null
2018-07-25 16:02:27.392  INFO 7752 --- [http-nio-8086-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 16:02:27.427  INFO 7752 --- [http-nio-8086-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 16:02:27.433 ERROR 7752 --- [http-nio-8086-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null
### The error may involve com.yy.hospital.mapper.BookableMapper.insertNewBookable-Inline
### The error occurred while setting parameters
### SQL: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null
; ]; Column 'used' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null] with root cause

java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:533) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:513) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:115) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1983) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1826) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.execute(PreparedStatement.java:1153) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at sun.reflect.GeneratedMethodAccessor81.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy127.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.6.jar:3.4.6]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at com.sun.proxy.$Proxy94.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:58) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy103.insertNewBookable(Unknown Source) ~[na:na]
	at com.yy.hospital.Service.BookableServiceImpl.insertNewBookable(BookableServiceImpl.java:29) ~[classes/:na]
	at com.yy.hospital.controller.BookableController.autoBK02(BookableController.java:166) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$7caeae0a.autoBK02(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:02:31.777  INFO 7752 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:31.778 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:31.779 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:31.781 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:31.793  INFO 7752 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:31.793  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:31.794  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:02:31.794  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:02:31.794  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:02:31.794  INFO 7752 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 1]
2018-07-25 16:02:31.794 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:02:31.794 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-24(Date)
2018-07-25 16:02:31.795 DEBUG 7752 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:02:31.797 ERROR 7752 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$7caeae0a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:02:34.408  INFO 7752 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:02:34.411 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:02:34.412 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:02:34.421 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:02:34.426  INFO 7752 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:02:34.428  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:02:34.428  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:02:34.428  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:02:34.428  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:02:34.429  INFO 7752 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 3]
2018-07-25 16:02:34.429 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:02:34.430 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-24(Date)
2018-07-25 16:02:34.433 DEBUG 7752 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:02:34.435 ERROR 7752 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$7caeae0a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:03:50.537  INFO 7752 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:03:50.539 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:03:50.539 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:03:50.541 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:03:50.544  INFO 7752 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:03:50.544  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:03:50.544  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:03:50.544  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:03:50.544  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:03:50.544  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 2]
2018-07-25 16:03:50.545 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:03:50.545 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-17(Date)
2018-07-25 16:03:50.547 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:03:50.547 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:03:50.547 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 16:03:50.548 DEBUG 7752 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:03:50.549  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:03:50.549  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@13b9902e,{}>
2018-07-25 16:03:50.549  INFO 7752 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:03:54.520  INFO 7752 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:03:54.521 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:03:54.522 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:03:54.525 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:03:54.533  INFO 7752 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:03:54.535  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:03:54.535  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:03:54.535  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:03:54.535  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:03:54.535  INFO 7752 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 1]
2018-07-25 16:03:54.535 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:03:54.536 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-24(Date)
2018-07-25 16:03:54.537 DEBUG 7752 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:03:54.539 ERROR 7752 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$7caeae0a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:07:17.735  INFO 9768 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9768 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:07:17.740  INFO 9768 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 16:07:17.817  INFO 9768 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 16:07:17 CST 2018]; root of context hierarchy
2018-07-25 16:07:19.044  INFO 9768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:07:19.088  INFO 9768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:07:19.675  INFO 9768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2ea81963] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:07:19.914  INFO 9768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c755e19d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:07:19.932  INFO 9768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:07:19.938  INFO 9768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@48c4245d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:07:19.953  INFO 9768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$ec2a844f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:07:19.989  INFO 9768 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:07:20.488  INFO 9768 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 16:07:20.515  INFO 9768 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 16:07:20.516  INFO 9768 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 16:07:20.520  INFO 9768 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 16:07:20.521  INFO 9768 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 16:07:20.521  INFO 9768 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 16:07:21.565  INFO 9768 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 16:07:21.691  INFO 9768 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 16:07:21.692  INFO 9768 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3875 ms
2018-07-25 16:07:21.895  INFO 9768 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 16:07:21.896  INFO 9768 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 16:07:21.896  INFO 9768 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 16:07:21.896  INFO 9768 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 16:07:21.897  INFO 9768 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 16:07:21.897  INFO 9768 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 16:07:21.898  INFO 9768 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 16:07:22.830  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:07:22.830  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:07:22.830  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:07:22.830  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:07:22.830  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:07:22.831  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:07:22.831  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:07:22.928  INFO 9768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49faf066, org.springframework.security.web.context.SecurityContextPersistenceFilter@cdb2d95, org.springframework.security.web.header.HeaderWriterFilter@2849434b, org.springframework.web.filter.CorsFilter@653747fc, org.springframework.security.web.authentication.logout.LogoutFilter@78054f54, com.yy.hospital.security.JwtAuthenticationTokenFilter@6f94a5a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f5ac102, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@623dcf2a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455c1d8c, org.springframework.security.web.session.SessionManagementFilter@7aac8884, org.springframework.security.web.access.ExceptionTranslationFilter@70228253, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ceb4478]
2018-07-25 16:07:23.091  INFO 9768 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:07:23.397  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 16:07:17 CST 2018]; root of context hierarchy
2018-07-25 16:07:23.463  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:07:23.465  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:07:23.465  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:07:23.466  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:07:23.467  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:07:23.467  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:07:23.468  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:07:23.469  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:07:23.470  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:07:23.470  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:07:23.470  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:07:23.471  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:07:23.474  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:07:23.475  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:07:23.475  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:07:23.475  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:07:23.475  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:07:23.476  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:07:23.477  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:07:23.477  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:07:23.478  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:07:23.479  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:07:23.479  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:07:23.480  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:07:23.480  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:07:23.483  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:07:23.483  INFO 9768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:07:23.532  INFO 9768 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:07:23.533  INFO 9768 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:07:23.553  INFO 9768 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:07:26.007  INFO 9768 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:07:26.754  INFO 9768 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 16:07:26.755  INFO 9768 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 16:07:26.762  INFO 9768 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 16:07:26.803  INFO 9768 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 16:07:26.807  INFO 9768 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.034 seconds (JVM running for 11.713)
2018-07-25 16:07:27.041  INFO 9768 --- [cluster-ClusterId{value='5b582fbe622a6526280c86be', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:07:32.608  INFO 9768 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 16:07:32.608  INFO 9768 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 16:07:32.629  INFO 9768 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 16:07:32.767  INFO 9768 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:07:32.785  INFO 9768 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:07:32.935  INFO 9768 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:07:32.943 DEBUG 9768 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:07:32.960 DEBUG 9768 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:07:32.979 DEBUG 9768 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:07:32.988  INFO 9768 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:07:33.010  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:07:33.010  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:07:33.010  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:07:33.012  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:07:33.012  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:07:33.025 DEBUG 9768 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:07:33.025 DEBUG 9768 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:07:33.029 DEBUG 9768 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:07:33.030  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:07:33.030  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@2fccc6c0, com.yy.hospital.domain.Departs@10cc327a, com.yy.hospital.domain.Departs@26e04b21, com.yy.hospital.domain.Departs@3ed2bbc1, com.yy.hospital.domain.Departs@77e1901d, com.yy.hospital.domain.Departs@64f2379, com.yy.hospital.domain.Departs@22d2c9d2, com.yy.hospital.domain.Departs@9f562fa],{}>
2018-07-25 16:07:33.030  INFO 9768 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:20
2018-07-25 16:07:33.127  INFO 9768 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:07:33.128 DEBUG 9768 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:07:33.128 DEBUG 9768 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:07:33.130 DEBUG 9768 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:07:33.135  INFO 9768 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:07:33.148  INFO 9768 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:07:33.148  INFO 9768 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:07:33.149  INFO 9768 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:07:33.149  INFO 9768 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:07:33.149  INFO 9768 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:07:33.153 DEBUG 9768 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:07:33.153 DEBUG 9768 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:07:33.156 DEBUG 9768 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:07:33.165 ERROR 9768 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$761046c6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:07:36.621  INFO 9768 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:07:36.624 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:07:36.625 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:07:36.627 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:07:36.634  INFO 9768 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:07:36.638  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:07:36.638  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:07:36.638  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:07:36.638  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:07:36.638  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 1]
2018-07-25 16:07:36.639 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:07:36.640 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-18(Date)
2018-07-25 16:07:36.642 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:07:36.643 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:07:36.643 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:07:36.645 DEBUG 9768 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:07:36.647  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:07:36.647  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4631a0ce,{}>
2018-07-25 16:07:36.647  INFO 9768 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 16:07:51.583  INFO 9768 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:07:51.584 DEBUG 9768 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:07:51.585 DEBUG 9768 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:07:51.587 DEBUG 9768 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:07:51.594  INFO 9768 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:07:51.596  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:07:51.596  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:07:51.596  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:07:51.596  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:07:51.596  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:07:51.597 DEBUG 9768 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:07:51.597 DEBUG 9768 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:07:51.598 DEBUG 9768 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:07:51.599  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:07:51.599  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:07:51.599  INFO 9768 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:07:54.638  INFO 9768 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:07:54.640 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:07:54.640 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:07:54.642 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:07:54.646  INFO 9768 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:07:54.647  INFO 9768 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:07:54.648  INFO 9768 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:07:54.648  INFO 9768 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:07:54.648  INFO 9768 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:07:54.648  INFO 9768 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:07:54.648 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:07:54.649 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:07:54.651 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:07:54.652 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:07:54.653 DEBUG 9768 --- [http-nio-8086-exec-9] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-16(Date), 0(Integer), null, null, null
2018-07-25 16:07:54.669  INFO 9768 --- [http-nio-8086-exec-9] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 16:07:54.704  INFO 9768 --- [http-nio-8086-exec-9] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 16:07:54.709 ERROR 9768 --- [http-nio-8086-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null
### The error may involve com.yy.hospital.mapper.BookableMapper.insertNewBookable-Inline
### The error occurred while setting parameters
### SQL: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null
; ]; Column 'used' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null] with root cause

java.sql.SQLIntegrityConstraintViolationException: Column 'used' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:533) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:513) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:115) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1983) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1826) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.execute(PreparedStatement.java:1153) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy127.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.6.jar:3.4.6]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at com.sun.proxy.$Proxy94.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:58) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy103.insertNewBookable(Unknown Source) ~[na:na]
	at com.yy.hospital.Service.BookableServiceImpl.insertNewBookable(BookableServiceImpl.java:29) ~[classes/:na]
	at com.yy.hospital.controller.BookableController.autoBK02(BookableController.java:166) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$761046c6.autoBK02(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:10:00.099  INFO 9768 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:00.100 DEBUG 9768 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:00.101 DEBUG 9768 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:00.103 DEBUG 9768 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:00.107  INFO 9768 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:00.108  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:10:00.108  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:10:00.108  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:10:00.108  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:10:00.108  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 1]
2018-07-25 16:10:00.108 DEBUG 9768 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:10:00.109 DEBUG 9768 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-18(Date)
2018-07-25 16:10:00.112 DEBUG 9768 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:10:00.113  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:10:00.113  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 16:10:00.113  INFO 9768 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:10:03.133  INFO 9768 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:03.135 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:03.135 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:03.138 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:03.143  INFO 9768 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:03.144  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:10:03.145  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:10:03.145  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:10:03.145  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:10:03.145  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 1]
2018-07-25 16:10:03.145 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:10:03.146 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-18(Date)
2018-07-25 16:10:03.150 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:10:03.151 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:10:03.152 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:10:03.155 DEBUG 9768 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:10:03.156  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:10:03.157  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4d9546f8,{}>
2018-07-25 16:10:03.157  INFO 9768 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 16:10:39.937  INFO 8876 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8876 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:10:40.158  INFO 8876 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 16:10:40.227  INFO 8876 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 16:10:40 CST 2018]; root of context hierarchy
2018-07-25 16:10:41.241  INFO 8876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:10:41.289  INFO 8876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:10:41.857  INFO 8876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:10:42.123  INFO 8876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:10:42.137  INFO 8876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:10:42.142  INFO 8876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6272c96f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:10:42.148  INFO 8876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:10:42.168  INFO 8876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:10:42.581  INFO 8876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 16:10:42.607  INFO 8876 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 16:10:42.608  INFO 8876 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 16:10:42.613  INFO 8876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 16:10:42.614  INFO 8876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 16:10:42.614  INFO 8876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 16:10:43.663  INFO 8876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 16:10:43.768  INFO 8876 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 16:10:43.768  INFO 8876 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3541 ms
2018-07-25 16:10:43.975  INFO 8876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 16:10:43.975  INFO 8876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 16:10:43.976  INFO 8876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 16:10:43.976  INFO 8876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 16:10:43.976  INFO 8876 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 16:10:43.976  INFO 8876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 16:10:43.977  INFO 8876 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 16:10:44.910  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:10:44.911  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:10:44.911  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:10:44.911  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:10:44.911  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:10:44.911  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:10:44.911  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:10:45.009  INFO 8876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5dbdf8, org.springframework.security.web.header.HeaderWriterFilter@70228253, org.springframework.web.filter.CorsFilter@653747fc, org.springframework.security.web.authentication.logout.LogoutFilter@6dd1c3ed, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aac8884, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80bfdc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@7a0e7ecd, org.springframework.security.web.access.ExceptionTranslationFilter@3968bc60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b84841]
2018-07-25 16:10:45.157  INFO 8876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:10:45.491  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 16:10:40 CST 2018]; root of context hierarchy
2018-07-25 16:10:45.558  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:10:45.560  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:10:45.561  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:10:45.562  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:10:45.563  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:10:45.563  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:10:45.564  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:10:45.565  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:10:45.566  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:10:45.567  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:10:45.567  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:10:45.567  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:10:45.571  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:10:45.572  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:10:45.572  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:10:45.573  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:10:45.573  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:10:45.574  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:10:45.575  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:10:45.575  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:10:45.576  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:10:45.576  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:10:45.577  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:10:45.577  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:10:45.578  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:10:45.581  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:10:45.582  INFO 8876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:10:45.640  INFO 8876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:10:45.641  INFO 8876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:10:45.663  INFO 8876 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:10:48.170  INFO 8876 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:10:48.856  INFO 8876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 16:10:48.858  INFO 8876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 16:10:48.864  INFO 8876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 16:10:48.902  INFO 8876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 16:10:48.907  INFO 8876 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.394 seconds (JVM running for 12.489)
2018-07-25 16:10:49.212  INFO 8876 --- [cluster-ClusterId{value='5b583088622a6522ac68ddd6', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:10:53.204  INFO 8876 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 16:10:53.205  INFO 8876 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 16:10:53.225  INFO 8876 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-25 16:10:53.377  INFO 8876 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:53.377  INFO 8876 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:53.377  INFO 8876 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:53.395  INFO 8876 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:10:53.536  INFO 8876 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:10:53.545 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:53.551 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:53.558 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:53.565 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:53.565 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:53.565 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:53.582 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:53.582 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:53.582 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:53.591  INFO 8876 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:53.591  INFO 8876 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:53.591  INFO 8876 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:53.612  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:10:53.612  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:10:53.613  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 16:10:53.613  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 16:10:53.613  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:10:53.613  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:10:53.615  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 16:10:53.615  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 16:10:53.615  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:10:53.615  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:10:53.615 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:53.615 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:53.618 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:53.632 DEBUG 8876 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:10:53.632 DEBUG 8876 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:10:53.633 DEBUG 8876 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:10:53.633 DEBUG 8876 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:10:53.636 DEBUG 8876 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:10:53.636 DEBUG 8876 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:10:53.641 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.641 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.642 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.643 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.644 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.645 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.646 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.646 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.647 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.647 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.647 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.648 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.648 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.649 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.649 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.650 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.650 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.651 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.651 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.651 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.652 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.652 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.653 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.654 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.655 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.655 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.655 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.655 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:10:53.657 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.658 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.658 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.658 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.659 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.659 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.660 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.661 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.661 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.661 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.662 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.663 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.663 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.664 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.664 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.666 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.666 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.666 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.666 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.667 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.667 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.668 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.668 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.669 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.669 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.669 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.669 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.670 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.671 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.671 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.671 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.672 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.672 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:10:53.673 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.674 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.674 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.674 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.674 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.675 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.676 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.677 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.677 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.678 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.679 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.679 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.680 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.681 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.682 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.682 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.682 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.683 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.684 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.685 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.685 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.686 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.686 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.687 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.687 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.687 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.688 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.688 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.689 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.689 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:10:53.689 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.690 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.690 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.690 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.691 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.691 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.691 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.692 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.692 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.692 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.693 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.693 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.694 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.694 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.694 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.695 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.695 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.695 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.696 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.696 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.696 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.696 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.697 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.697 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.698 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.698 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.698 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.699 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:10:53.699 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.699 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.700 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.700 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.701 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.701 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.701 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.701 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.702 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.703 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.703 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.703 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.703 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.703 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.705 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.705 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.705 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.705 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.705 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.705 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.706 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.706 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.707 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.707 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.707 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.707 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.709 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.709 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.709 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.709 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.710 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.710 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:10:53.711 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.711 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.711 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.711 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.712 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.712 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.713 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.713 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.714 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.714 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.714 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.714 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.716 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.716 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.716 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.716 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.717 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.717 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.718 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.718 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.718 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.718 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.719 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.719 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.720 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.720 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.721 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.721 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.721 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:10:53.721 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.722 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.722 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.723 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.723 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.723 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.723 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.724 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.724 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.725 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.725 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.725 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.725 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.726 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.726 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.727 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.727 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.727 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.727 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.728 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.728 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.728 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.728 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.729 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.729 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.730 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.731 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.730 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.731 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.732 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.732 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:10:53.733 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.733 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.733 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.734 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.734 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.734 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.735 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.735 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.736 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.736 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.737 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.737 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.738 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.738 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.739 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:10:53.739 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:10:53.740 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.740 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.741 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:10:53.741 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:10:53.742 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:10:53.742 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:10:53.742 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.742 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.743 DEBUG 8876 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:10:53.743 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:10:53.744 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:10:53.744 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:10:53.745  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:10:53.745  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@48f31f07,{}>
2018-07-25 16:10:53.745  INFO 8876 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:132
2018-07-25 16:10:53.746 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:10:53.746  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:10:53.746  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 16:10:53.746  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:133
2018-07-25 16:10:55.133  INFO 8876 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:55.134 DEBUG 8876 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:55.134 DEBUG 8876 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:55.137 DEBUG 8876 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:55.143  INFO 8876 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:55.144  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:10:55.144  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:10:55.145  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:10:55.145  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:10:55.145  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:10:55.148 DEBUG 8876 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:10:55.148 DEBUG 8876 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:10:55.150 DEBUG 8876 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:10:55.151  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:10:55.151  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@10e6385c, com.yy.hospital.domain.Departs@621c91a6, com.yy.hospital.domain.Departs@3ab02e09, com.yy.hospital.domain.Departs@165ce1c7, com.yy.hospital.domain.Departs@37591f88, com.yy.hospital.domain.Departs@31ce2964, com.yy.hospital.domain.Departs@ab58932, com.yy.hospital.domain.Departs@7b16137a],{}>
2018-07-25 16:10:55.151  INFO 8876 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 16:10:55.176  INFO 8876 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:10:55.177 DEBUG 8876 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:10:55.177 DEBUG 8876 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:10:55.178 DEBUG 8876 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:10:55.182  INFO 8876 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:10:55.193  INFO 8876 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:10:55.193  INFO 8876 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:10:55.194  INFO 8876 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:10:55.194  INFO 8876 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:10:55.194  INFO 8876 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:10:55.197 DEBUG 8876 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:10:55.198 DEBUG 8876 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:10:55.199 DEBUG 8876 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:10:55.208 ERROR 8876 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$3d1be2e0.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:11:01.679  INFO 8876 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:11:01.681 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:11:01.681 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:11:01.684 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:11:01.691  INFO 8876 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:11:01.692  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:11:01.692  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:11:01.692  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:11:01.692  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:11:01.692  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 1]
2018-07-25 16:11:01.692 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:11:01.692 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-18(Date)
2018-07-25 16:11:01.695 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:11:01.695 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:11:01.696 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:11:01.698 DEBUG 8876 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:11:01.699  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:11:01.699  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@32d7be1e,{}>
2018-07-25 16:11:01.699  INFO 8876 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 16:11:12.670  INFO 8876 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:11:12.673 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:11:12.673 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:11:12.681 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:11:12.685  INFO 8876 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:11:12.687  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:11:12.687  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:11:12.687  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:11:12.687  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:11:12.687  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:11:12.688 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:11:12.688 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:11:12.690 DEBUG 8876 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:11:12.691  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:11:12.691  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:11:12.691  INFO 8876 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 16:11:15.741  INFO 8876 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:11:15.747 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:11:15.747 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:11:15.752 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:11:15.760  INFO 8876 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:11:15.761  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:11:15.761  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:11:15.761  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:11:15.762  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:11:15.762  INFO 8876 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:11:15.762 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:11:15.763 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:11:15.765 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:11:15.766 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:11:15.766 DEBUG 8876 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-16(Date), 0(Integer), 0(Integer), null, null
2018-07-25 16:11:15.780  INFO 8876 --- [http-nio-8086-exec-6] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 16:11:15.814  INFO 8876 --- [http-nio-8086-exec-6] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 16:11:15.819 ERROR 8876 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null
### The error may involve com.yy.hospital.mapper.BookableMapper.insertNewBookable-Inline
### The error occurred while setting parameters
### SQL: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null
; ]; Column 'bnum' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null] with root cause

java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:533) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:513) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:115) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1983) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1826) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.execute(PreparedStatement.java:1153) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at sun.reflect.GeneratedMethodAccessor86.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy127.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.6.jar:3.4.6]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at com.sun.proxy.$Proxy94.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:58) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy103.insertNewBookable(Unknown Source) ~[na:na]
	at com.yy.hospital.Service.BookableServiceImpl.insertNewBookable(BookableServiceImpl.java:29) ~[classes/:na]
	at com.yy.hospital.controller.BookableController.autoBK02(BookableController.java:167) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$3d1be2e0.autoBK02(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:13:20.190  INFO 3964 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 3964 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:13:20.192  INFO 3964 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 16:13:20.255  INFO 3964 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2bb3058: startup date [Wed Jul 25 16:13:20 CST 2018]; root of context hierarchy
2018-07-25 16:13:21.593  INFO 3964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:13:21.645  INFO 3964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:13:22.436  INFO 3964 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b24052f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:13:22.859  INFO 3964 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$4aee1b2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:13:22.876  INFO 3964 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:13:22.882  INFO 3964 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@ef1695a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:13:22.894  INFO 3964 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6fc2bddc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:13:22.921  INFO 3964 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:13:24.492  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:13:24.493  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:13:24.493  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:13:24.493  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:13:24.493  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:13:24.494  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:13:24.494  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:13:25.352  INFO 3964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e5aafc6, org.springframework.security.web.context.SecurityContextPersistenceFilter@67531e3a, org.springframework.security.web.header.HeaderWriterFilter@40f35e52, org.springframework.web.filter.CorsFilter@542f6803, org.springframework.security.web.authentication.logout.LogoutFilter@2f894ad9, com.yy.hospital.security.JwtAuthenticationTokenFilter@5583098b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d50a7ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@138aa3cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5807efad, org.springframework.security.web.session.SessionManagementFilter@59a79443, org.springframework.security.web.access.ExceptionTranslationFilter@15c487a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18a25bbd]
2018-07-25 16:13:25.849  INFO 3964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:13:26.338  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2bb3058: startup date [Wed Jul 25 16:13:20 CST 2018]; root of context hierarchy
2018-07-25 16:13:26.455  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:13:26.457  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:13:26.458  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:13:26.459  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:13:26.460  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:13:26.461  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:13:26.461  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:13:26.463  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:13:26.463  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:13:26.464  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:13:26.464  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:13:26.464  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:13:26.470  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:13:26.471  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:13:26.472  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:13:26.473  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:13:26.474  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:13:26.475  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:13:26.476  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:13:26.477  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:13:26.479  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:13:26.479  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:13:26.480  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:13:26.481  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:13:26.482  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:13:26.484  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:13:26.485  INFO 3964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:13:26.572  INFO 3964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:13:26.572  INFO 3964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:13:26.601  INFO 3964 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:13:30.132  INFO 3964 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:13:31.215  INFO 3964 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 12.453 seconds (JVM running for 14.423)
2018-07-25 16:13:31.262  INFO 3964 --- [cluster-ClusterId{value='5b58312a622a650f7ce71a15', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:13:31.470  INFO 3964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:13:31.804  INFO 3964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:13:31.816 DEBUG 3964 --- [main] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:13:32.091 DEBUG 3964 --- [main] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:13:32.119 DEBUG 3964 --- [main] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:13:32.133  INFO 3964 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2bb3058: startup date [Wed Jul 25 16:13:20 CST 2018]; root of context hierarchy
2018-07-25 16:13:32.180  INFO 3964 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 16:13:32.203  INFO 3964 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 16:14:14.783  INFO 9348 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 9348 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:14:14.787  INFO 9348 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 16:14:14.848  INFO 9348 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2bb3058: startup date [Wed Jul 25 16:14:14 CST 2018]; root of context hierarchy
2018-07-25 16:14:16.208  INFO 9348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:14:16.263  INFO 9348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:14:17.081  INFO 9348 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fef736d7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:17.466  INFO 9348 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$97a4ff11] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:17.484  INFO 9348 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:17.491  INFO 9348 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21f459fc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:17.504  INFO 9348 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bc79a1c3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:17.533  INFO 9348 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:19.176  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:14:19.177  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:14:19.177  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:14:19.177  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:14:19.177  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:14:19.178  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:14:19.178  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:14:20.088  INFO 9348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5731d3a, org.springframework.security.web.context.SecurityContextPersistenceFilter@5afbd567, org.springframework.security.web.header.HeaderWriterFilter@1945113f, org.springframework.web.filter.CorsFilter@6a0f2853, org.springframework.security.web.authentication.logout.LogoutFilter@4e83a98, com.yy.hospital.security.JwtAuthenticationTokenFilter@1eff3cfb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57545c3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@167381c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70c69586, org.springframework.security.web.session.SessionManagementFilter@27329d2a, org.springframework.security.web.access.ExceptionTranslationFilter@3c8a7e38, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e642ee1]
2018-07-25 16:14:20.565  INFO 9348 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:14:20.998  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2bb3058: startup date [Wed Jul 25 16:14:14 CST 2018]; root of context hierarchy
2018-07-25 16:14:21.118  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:14:21.120  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:14:21.121  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:14:21.122  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:14:21.123  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:14:21.124  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:14:21.124  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:14:21.126  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:14:21.126  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:14:21.127  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:14:21.127  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:14:21.127  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:14:21.134  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:14:21.134  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:14:21.135  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:14:21.135  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:14:21.135  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:14:21.136  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:14:21.138  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:14:21.138  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:14:21.140  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:14:21.140  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:14:21.141  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:14:21.141  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:14:21.142  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:14:21.145  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:14:21.146  INFO 9348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:14:21.240  INFO 9348 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:14:21.241  INFO 9348 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:14:21.273  INFO 9348 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:14:24.224  INFO 9348 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:14:25.233  INFO 9348 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 12.025 seconds (JVM running for 13.88)
2018-07-25 16:14:25.376  INFO 9348 --- [cluster-ClusterId{value='5b583160622a6524843a2791', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:14:25.418  INFO 9348 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:14:25.683  INFO 9348 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:14:25.695 DEBUG 9348 --- [main] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:14:25.955 DEBUG 9348 --- [main] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:14:25.984 DEBUG 9348 --- [main] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:14:26.002  INFO 9348 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2bb3058: startup date [Wed Jul 25 16:14:14 CST 2018]; root of context hierarchy
2018-07-25 16:14:26.047  INFO 9348 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 16:14:26.060  INFO 9348 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 16:14:51.554  INFO 6692 --- [main] com.yy.hospital.CacheTest                : Starting CacheTest on 2016-20161105NU with PID 6692 (started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:14:51.557  INFO 6692 --- [main] com.yy.hospital.CacheTest                : No active profile set, falling back to default profiles: default
2018-07-25 16:14:51.618  INFO 6692 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@21337f7b: startup date [Wed Jul 25 16:14:51 CST 2018]; root of context hierarchy
2018-07-25 16:14:53.334  INFO 6692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:14:53.390  INFO 6692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:14:54.420  INFO 6692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ef38184a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:55.024  INFO 6692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$87e5e084] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:55.057  INFO 6692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:55.063  INFO 6692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@84487f4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:55.077  INFO 6692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$acba8336] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:55.110  INFO 6692 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:14:57.401  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:14:57.402  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:14:57.402  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:14:57.402  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:14:57.402  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:14:57.409  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:14:57.409  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:14:58.234  INFO 6692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a0f2853, org.springframework.security.web.context.SecurityContextPersistenceFilter@6993c8df, org.springframework.security.web.header.HeaderWriterFilter@45aca496, org.springframework.web.filter.CorsFilter@1eff3cfb, org.springframework.security.web.authentication.logout.LogoutFilter@17aa8a11, com.yy.hospital.security.JwtAuthenticationTokenFilter@70c69586, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@326e0b8e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@608b1fd2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dc1dc69, org.springframework.security.web.session.SessionManagementFilter@7978e022, org.springframework.security.web.access.ExceptionTranslationFilter@138aa3cc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29ebbdf4]
2018-07-25 16:14:58.730  INFO 6692 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:14:59.186  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@21337f7b: startup date [Wed Jul 25 16:14:51 CST 2018]; root of context hierarchy
2018-07-25 16:14:59.365  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:14:59.369  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:14:59.370  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:14:59.371  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:14:59.372  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:14:59.372  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:14:59.373  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:14:59.375  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:14:59.375  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:14:59.376  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:14:59.376  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:14:59.376  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:14:59.383  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:14:59.383  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:14:59.383  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:14:59.384  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:14:59.384  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:14:59.385  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:14:59.386  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:14:59.387  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:14:59.388  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:14:59.389  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:14:59.390  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:14:59.390  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:14:59.393  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:14:59.400  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:14:59.403  INFO 6692 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:14:59.482  INFO 6692 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:14:59.482  INFO 6692 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:14:59.511  INFO 6692 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:15:02.334  INFO 6692 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:15:03.348  INFO 6692 --- [main] com.yy.hospital.CacheTest                : Started CacheTest in 12.794 seconds (JVM running for 14.604)
2018-07-25 16:15:03.541  INFO 6692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:15:03.544  INFO 6692 --- [cluster-ClusterId{value='5b583186622a651a24cce639', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:15:03.843  INFO 6692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:15:03.853 DEBUG 6692 --- [main] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:15:04.175 DEBUG 6692 --- [main] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:15:04.220 DEBUG 6692 --- [main] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:15:04.235  INFO 6692 --- [Thread-2] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@21337f7b: startup date [Wed Jul 25 16:14:51 CST 2018]; root of context hierarchy
2018-07-25 16:15:04.282  INFO 6692 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2018-07-25 16:15:04.291  INFO 6692 --- [Thread-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2018-07-25 16:16:17.972  INFO 9864 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9864 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:16:17.976  INFO 9864 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 16:16:18.036  INFO 9864 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 16:16:18 CST 2018]; root of context hierarchy
2018-07-25 16:16:19.023  INFO 9864 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:16:19.076  INFO 9864 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:16:20.045  INFO 9864 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$42cc1837] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:16:20.243  INFO 9864 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$db79e071] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:16:20.255  INFO 9864 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:16:20.260  INFO 9864 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@24a298a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:16:20.268  INFO 9864 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4e8323] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:16:20.282  INFO 9864 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:16:20.600  INFO 9864 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 16:16:20.621  INFO 9864 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 16:16:20.621  INFO 9864 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 16:16:20.626  INFO 9864 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 16:16:20.626  INFO 9864 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 16:16:20.627  INFO 9864 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 16:16:21.681  INFO 9864 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 16:16:21.794  INFO 9864 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 16:16:21.794  INFO 9864 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3758 ms
2018-07-25 16:16:22.043  INFO 9864 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 16:16:22.043  INFO 9864 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 16:16:22.043  INFO 9864 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 16:16:22.043  INFO 9864 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 16:16:22.044  INFO 9864 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 16:16:22.044  INFO 9864 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 16:16:22.044  INFO 9864 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 16:16:22.999  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:16:22.999  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:16:22.999  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:16:23.000  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:16:23.000  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:16:23.000  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:16:23.000  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:16:23.095  INFO 9864 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a4f272, org.springframework.security.web.context.SecurityContextPersistenceFilter@255eaa6b, org.springframework.security.web.header.HeaderWriterFilter@3968bc60, org.springframework.web.filter.CorsFilter@5c68f1a0, org.springframework.security.web.authentication.logout.LogoutFilter@117525fe, com.yy.hospital.security.JwtAuthenticationTokenFilter@3ee0b4f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a0e7ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@122d6c22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79b84841, org.springframework.security.web.session.SessionManagementFilter@2849434b, org.springframework.security.web.access.ExceptionTranslationFilter@6403e24c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed7821]
2018-07-25 16:16:23.216  INFO 9864 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:16:23.536  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 16:16:18 CST 2018]; root of context hierarchy
2018-07-25 16:16:23.601  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:16:23.603  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:16:23.604  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:16:23.604  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:16:23.605  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:16:23.606  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:16:23.606  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:16:23.607  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:16:23.608  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:16:23.608  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:16:23.608  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:16:23.609  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:16:23.612  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:16:23.613  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:16:23.613  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:16:23.613  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:16:23.614  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:16:23.614  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:16:23.615  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:16:23.616  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:16:23.618  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:16:23.619  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:16:23.620  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:16:23.620  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:16:23.621  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:16:23.624  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:16:23.624  INFO 9864 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:16:23.682  INFO 9864 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:16:23.682  INFO 9864 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:16:23.704  INFO 9864 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:16:26.341  INFO 9864 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:16:26.968  INFO 9864 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 16:16:26.970  INFO 9864 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 16:16:26.976  INFO 9864 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 16:16:27.018  INFO 9864 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 16:16:27.022  INFO 9864 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.588 seconds (JVM running for 11.234)
2018-07-25 16:16:27.388  INFO 9864 --- [cluster-ClusterId{value='5b5831da622a652688523602', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:16:31.706  INFO 9864 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 16:16:31.707  INFO 9864 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 16:16:31.730  INFO 9864 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 16:16:31.886  INFO 9864 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:31.886  INFO 9864 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:31.886  INFO 9864 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:31.904  INFO 9864 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:16:32.043  INFO 9864 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:16:32.053 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:32.053 DEBUG 9864 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:32.056 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:32.072 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:32.072 DEBUG 9864 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:32.072 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:32.089 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:32.089 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:32.091 DEBUG 9864 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:32.098  INFO 9864 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:32.099  INFO 9864 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:32.104  INFO 9864 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:32.120  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:32.120  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:32.120  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 16:16:32.120  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 16:16:32.120  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:16:32.120  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:16:32.123  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 16:16:32.123  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:16:32.123  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 16:16:32.123  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:16:32.123 DEBUG 9864 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:32.123 DEBUG 9864 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:32.127 DEBUG 9864 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:32.148 DEBUG 9864 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:16:32.148 DEBUG 9864 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:16:32.152 DEBUG 9864 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:16:32.152 DEBUG 9864 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:16:32.152 DEBUG 9864 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:16:32.157 DEBUG 9864 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:16:32.158 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.158 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.158 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.158 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.161 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.161 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.162 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.162 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.162 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.162 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.164 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.164 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.164 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.165 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.165 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.166 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.168 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.167 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.168 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.168 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.169 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.169 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.173 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.174 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.174 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.173 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.175 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.176 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.176 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:16:32.177 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.179 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.179 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.182 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.182 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.182 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.183 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.183 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.185 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.185 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.186 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.186 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.186 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.186 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.188 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.188 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.189 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.189 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.190 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.190 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.191 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.191 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.192 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.192 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.192 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.192 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.194 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.194 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.194 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.195 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.195 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.195 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:16:32.196 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.196 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.197 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.197 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.197 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.197 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.199 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.199 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.200 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.200 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.200 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.200 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.201 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.201 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.202 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.203 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.203 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.203 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.205 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.205 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.206 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.206 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.208 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.209 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.209 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.209 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.210 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.212 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.212 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.212 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.212 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.213 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.213 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:16:32.214 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.214 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.215 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.215 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.215 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.215 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.216 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.216 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.217 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.217 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.217 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.217 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.219 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.219 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.219 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.219 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.219 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.219 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.221 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.221 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.221 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.221 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.221 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.222 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.223 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.223 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.223 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.223 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.224 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.224 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:16:32.225 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.225 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.226 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.227 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.227 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.227 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.227 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.227 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.228 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.229 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.229 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.229 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.229 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.230 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.230 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.231 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.231 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.232 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.232 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.232 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.232 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.233 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.233 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.234 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.234 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.234 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.235 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.235 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.236 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.236 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.236 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.236 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.236 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:16:32.237 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.237 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.238 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.238 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.238 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.238 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.239 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.239 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.240 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.240 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.240 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.240 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.242 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.242 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.242 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.242 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.296 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.300 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.301 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.301 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.302 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.303 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.303 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:16:32.307 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.309 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.309 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.311 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.311 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.312 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.313 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.299 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.314 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.318 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.319 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.320 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.320 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.321 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.322 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.322 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.324 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.324 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.317 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.325 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.325 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.325 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.326 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.326 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.327 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.327 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.327 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.327 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.328 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.328 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.329 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.329 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.329 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.329 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.330 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.331 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.331 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.331 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.331 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.331 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:16:32.332 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.332 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.333 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.333 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.333 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:16:32.333 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.334 DEBUG 9864 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.335 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:16:32.335 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:16:32.335 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.336  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:16:32.336  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 16:16:32.336  INFO 9864 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:216
2018-07-25 16:16:32.337 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:16:32.338 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:16:32.338 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.339 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:16:32.340 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:16:32.340 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.341 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:16:32.342 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:16:32.342 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:16:32.343 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:16:32.344  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:16:32.344  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@7a7434e,{}>
2018-07-25 16:16:32.344  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:224
2018-07-25 16:16:32.755  INFO 9864 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:32.755 DEBUG 9864 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:32.755 DEBUG 9864 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:32.757 DEBUG 9864 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:32.764  INFO 9864 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:32.765  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:32.765  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:16:32.766  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:16:32.766  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:16:32.766  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:16:32.768 DEBUG 9864 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:16:32.769 DEBUG 9864 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:16:32.770 DEBUG 9864 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:16:32.770  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:16:32.771  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@35d6f68d, com.yy.hospital.domain.Departs@2043039a, com.yy.hospital.domain.Departs@64b7ea56, com.yy.hospital.domain.Departs@140ba22, com.yy.hospital.domain.Departs@3204619, com.yy.hospital.domain.Departs@3b47ca34, com.yy.hospital.domain.Departs@60f97250, com.yy.hospital.domain.Departs@646c45c7],{}>
2018-07-25 16:16:32.771  INFO 9864 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 16:16:32.789  INFO 9864 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:32.789 DEBUG 9864 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:32.789 DEBUG 9864 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:32.790 DEBUG 9864 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:32.795  INFO 9864 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:32.803  INFO 9864 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:32.803  INFO 9864 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:16:32.803  INFO 9864 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:16:32.803  INFO 9864 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:16:32.803  INFO 9864 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:16:32.807 DEBUG 9864 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:16:32.807 DEBUG 9864 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:16:32.808 DEBUG 9864 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:16:32.815 ERROR 9864 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:16:36.578  INFO 9864 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:36.581 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:36.582 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:36.586 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:36.601  INFO 9864 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:36.602  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:36.602  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:16:36.602  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:16:36.602  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:16:36.602  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 1]
2018-07-25 16:16:36.603 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:16:36.603 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-18(Date)
2018-07-25 16:16:36.607 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:16:36.608 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:16:36.608 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:16:36.610 DEBUG 9864 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:16:36.611  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:16:36.611  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@229d8714,{}>
2018-07-25 16:16:36.611  INFO 9864 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 16:16:46.933  INFO 9864 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:46.934 DEBUG 9864 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:46.935 DEBUG 9864 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:46.937 DEBUG 9864 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:46.942  INFO 9864 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:46.943  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:46.943  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:16:46.943  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:16:46.944  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:16:46.944  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:16:46.944 DEBUG 9864 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:16:46.944 DEBUG 9864 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:16:46.945 DEBUG 9864 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:16:46.946  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:16:46.946  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:16:46.946  INFO 9864 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:16:49.968  INFO 9864 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:16:49.969 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:16:49.969 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:16:49.971 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:16:49.974  INFO 9864 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:16:49.975  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:16:49.975  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:16:49.975  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:16:49.975  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:16:49.975  INFO 9864 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:16:49.975 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:16:49.976 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:16:49.977 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:16:49.979 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:16:49.980 DEBUG 9864 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-16(Date), 0(Integer), 0(Integer), null, null
2018-07-25 16:16:49.991  INFO 9864 --- [http-nio-8086-exec-6] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2018-07-25 16:16:50.026  INFO 9864 --- [http-nio-8086-exec-6] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
2018-07-25 16:16:50.031 ERROR 9864 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null
### The error may involve com.yy.hospital.mapper.BookableMapper.insertNewBookable-Inline
### The error occurred while setting parameters
### SQL: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null
; ]; Column 'bnum' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null] with root cause

java.sql.SQLIntegrityConstraintViolationException: Column 'bnum' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:533) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:513) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:115) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1983) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1826) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.mysql.cj.jdbc.PreparedStatement.execute(PreparedStatement.java:1153) ~[mysql-connector-java-6.0.6.jar:6.0.6]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-2.7.9.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-2.7.9.jar:na]
	at sun.reflect.GeneratedMethodAccessor89.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy127.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:46) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:198) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:185) ~[mybatis-3.4.6.jar:3.4.6]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at com.sun.proxy.$Proxy94.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278) ~[mybatis-spring-1.3.2.jar:1.3.2]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:58) ~[mybatis-3.4.6.jar:3.4.6]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59) ~[mybatis-3.4.6.jar:3.4.6]
	at com.sun.proxy.$Proxy103.insertNewBookable(Unknown Source) ~[na:na]
	at com.yy.hospital.Service.BookableServiceImpl.insertNewBookable(BookableServiceImpl.java:29) ~[classes/:na]
	at com.yy.hospital.controller.BookableController.autoBK02(BookableController.java:168) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.autoBK02(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:19:32.128  INFO 2080 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 2080 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:19:32.132  INFO 2080 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 16:19:32.229  INFO 2080 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 16:19:32 CST 2018]; root of context hierarchy
2018-07-25 16:19:33.151  INFO 2080 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:19:33.190  INFO 2080 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:19:33.734  INFO 2080 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:19:33.987  INFO 2080 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:19:34.002  INFO 2080 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:19:34.007  INFO 2080 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6272c96f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:19:34.014  INFO 2080 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:19:34.040  INFO 2080 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:19:34.599  INFO 2080 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 16:19:34.637  INFO 2080 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 16:19:34.638  INFO 2080 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 16:19:34.647  INFO 2080 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 16:19:34.648  INFO 2080 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 16:19:34.648  INFO 2080 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 16:19:35.710  INFO 2080 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 16:19:35.860  INFO 2080 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 16:19:35.860  INFO 2080 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3631 ms
2018-07-25 16:19:36.150  INFO 2080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 16:19:36.150  INFO 2080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 16:19:36.150  INFO 2080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 16:19:36.150  INFO 2080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 16:19:36.151  INFO 2080 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 16:19:36.151  INFO 2080 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 16:19:36.152  INFO 2080 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 16:19:37.477  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:19:37.478  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:19:37.478  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:19:37.478  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:19:37.478  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:19:37.478  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:19:37.478  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:19:37.638  INFO 2080 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5dbdf8, org.springframework.security.web.header.HeaderWriterFilter@70228253, org.springframework.web.filter.CorsFilter@6ed7369f, org.springframework.security.web.authentication.logout.LogoutFilter@6dd1c3ed, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aac8884, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80bfdc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@7a0e7ecd, org.springframework.security.web.access.ExceptionTranslationFilter@3968bc60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b84841]
2018-07-25 16:19:37.838  INFO 2080 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:19:38.181  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 16:19:32 CST 2018]; root of context hierarchy
2018-07-25 16:19:38.248  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:19:38.249  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:19:38.250  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:19:38.250  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:19:38.251  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:19:38.252  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:19:38.252  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:19:38.254  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:19:38.254  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:19:38.255  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:19:38.255  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:19:38.255  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:19:38.259  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:19:38.260  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:19:38.260  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:19:38.261  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:19:38.261  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:19:38.262  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:19:38.263  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:19:38.263  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:19:38.264  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:19:38.265  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:19:38.265  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:19:38.265  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:19:38.266  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:19:38.268  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:19:38.269  INFO 2080 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:19:38.317  INFO 2080 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:19:38.318  INFO 2080 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:19:38.336  INFO 2080 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:19:40.716  INFO 2080 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:19:41.371  INFO 2080 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 16:19:41.372  INFO 2080 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 16:19:41.378  INFO 2080 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 16:19:41.416  INFO 2080 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 16:19:41.421  INFO 2080 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.318 seconds (JVM running for 12.151)
2018-07-25 16:19:41.826  INFO 2080 --- [cluster-ClusterId{value='5b58329c622a65082033485b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:19:45.777  INFO 2080 --- [http-nio-8086-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 16:19:45.777  INFO 2080 --- [http-nio-8086-exec-3] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 16:19:45.810  INFO 2080 --- [http-nio-8086-exec-3] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 32 ms
2018-07-25 16:19:45.971  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:45.971  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:45.971  INFO 2080 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:45.991  INFO 2080 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:19:46.123  INFO 2080 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:19:46.131 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:46.143 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:46.145 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:46.151 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:46.151 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:46.151 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:46.168 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:46.168 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:46.168 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:46.178  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:46.178  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:46.181  INFO 2080 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:46.201  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:46.201  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 16:19:46.202  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:19:46.203  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:46.203  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 16:19:46.204  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:19:46.204  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 16:19:46.204  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 16:19:46.204  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:19:46.205  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:19:46.208 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:46.208 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:46.211 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:46.225 DEBUG 2080 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:19:46.225 DEBUG 2080 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:19:46.226 DEBUG 2080 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:19:46.226 DEBUG 2080 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:19:46.230 DEBUG 2080 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:19:46.235 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.236 DEBUG 2080 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:19:46.236 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.237 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.238 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.238 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.239 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.239 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.239 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.240 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.241 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.242 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.243 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.243 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.243 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.243 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.243 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.245 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.245 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.246 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.246 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.247 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.247 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.250 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.250 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.251 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.252 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.252 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.253 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:19:46.254 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.255 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.255 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.257 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.257 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.258 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.258 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.258 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.258 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.260 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.261 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.262 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.262 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.263 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.263 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.265 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.265 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.266 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.266 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.266 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.267 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.268 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.269 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.269 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.269 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.270 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.270 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.271 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.272 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.272 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.272 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:19:46.272 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.273 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.274 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.275 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.275 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.275 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.275 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.276 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.277 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.277 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.278 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.278 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.278 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.279 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.280 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.281 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.281 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.281 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.284 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.284 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.284 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.285 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.285 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.287 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.287 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.288 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.288 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.288 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.288 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:19:46.290 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.290 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.291 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.291 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.291 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.291 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.293 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.293 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.293 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.294 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.294 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.294 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.295 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.295 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.296 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.296 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.296 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.296 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.297 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.298 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.298 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.298 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.298 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.299 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.300 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.301 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.301 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.301 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.301 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.301 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:19:46.303 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.303 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.303 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.303 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.304 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.304 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.306 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.306 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.307 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.307 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.307 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.307 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.309 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.309 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.309 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.309 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.309 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.309 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.311 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.311 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.311 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.312 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.312 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.313 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.313 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.313 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.313 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.315 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.315 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.316 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:19:46.316 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.317 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.317 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.318 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.318 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.319 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.319 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.319 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.319 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.320 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.320 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.321 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.321 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.321 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.321 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.322 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.322 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.323 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.323 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.323 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.323 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.324 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.324 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.325 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.325 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.325 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.325 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.326 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.326 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.327 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.327 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.327 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:19:46.327 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.328 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.328 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.329 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.329 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.329 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.329 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.330 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.331 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.331 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.332 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.332 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.333 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.333 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.333 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.333 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.335 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.335 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.335 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.337 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.336 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.338 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.338 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.338 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.338 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.339 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.340 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.340 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.340 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.340 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.340 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:19:46.342 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.342 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.342 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.343 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.343 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.343 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.344 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.345 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.345 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.345 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.346 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.346 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.348 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.348 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.348 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:19:46.348 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.348 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:19:46.349 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.351 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:19:46.351 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:19:46.351 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:19:46.351 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.352 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:19:46.352 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.353 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:19:46.353 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:19:46.353 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:19:46.354 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:19:46.354  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:19:46.354  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 16:19:46.354  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:153
2018-07-25 16:19:46.355 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:19:46.356  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:19:46.356  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@71ff2483,{}>
2018-07-25 16:19:46.356  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:153
2018-07-25 16:19:47.746  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:47.748 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:47.748 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:47.751 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:47.755  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:47.757  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:47.757  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 16:19:47.757  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:19:47.757  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 16:19:47.757  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:19:47.763 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 16:19:47.763 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 16:19:47.767 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 16:19:47.767  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:19:47.767  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@4b1a758a, com.yy.hospital.domain.Doctors@1d8a621, com.yy.hospital.domain.Doctors@128723b3, com.yy.hospital.domain.Doctors@5b0cebe2, com.yy.hospital.domain.Doctors@43a2632c, com.yy.hospital.domain.Doctors@78f3cd7, com.yy.hospital.domain.Doctors@2cbe1d2e, com.yy.hospital.domain.Doctors@1051a0a0, com.yy.hospital.domain.Doctors@403a1a85],{}>
2018-07-25 16:19:47.768  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-25 16:19:48.695  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:48.696 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:48.696 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:48.699 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:48.704  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:48.705  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:48.705  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:19:48.705  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:19:48.705  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:19:48.705  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:19:48.708 DEBUG 2080 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:19:48.708 DEBUG 2080 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:19:48.709 DEBUG 2080 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:19:48.710  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:19:48.710  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@7fd2334e, com.yy.hospital.domain.Departs@563521b5, com.yy.hospital.domain.Departs@2ef92313, com.yy.hospital.domain.Departs@5cd01da0, com.yy.hospital.domain.Departs@32f60d37, com.yy.hospital.domain.Departs@4d31aa55, com.yy.hospital.domain.Departs@2ab7f95b, com.yy.hospital.domain.Departs@76d6dcb0],{}>
2018-07-25 16:19:48.710  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:19:48.730  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:48.730 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:48.730 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:48.735 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:48.741  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:48.753  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:48.753  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:19:48.753  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:19:48.753  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:19:48.753  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:19:48.756 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:19:48.756 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:19:48.758 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:19:48.768 ERROR 2080 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:19:55.909  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:55.911 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:55.912 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:55.915 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:55.922  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:55.924  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:55.924  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:19:55.925  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:19:55.925  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:19:55.925  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:19:55.925 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:19:55.926 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:19:55.928 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:19:55.928  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:19:55.929  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:19:55.929  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:19:58.960  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:19:58.961 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:19:58.961 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:19:58.964 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:19:58.967  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:19:58.969  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:19:58.969  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:19:58.969  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:19:58.969  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:19:58.969  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:19:58.970 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:19:58.971 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:19:58.975 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:19:58.976 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:19:58.977 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-16(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:19:58.982 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:19:58.983 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:19:58.983 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-17(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:19:58.990 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:19:58.991 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:19:58.991 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-18(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:19:58.995 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:19:58.996 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:19:58.996 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-19(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:19:59.000 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:19:59.001 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:19:59.001 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : ==> Parameters: 1(Integer), 2018-07-20(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:19:59.006 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:19:59.006  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:19:59.006  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:19:59.006  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:37
2018-07-25 16:20:03.854  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:03.855 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:03.855 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:03.857 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:03.862  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:03.863  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:03.863  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:20:03.863  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:03.863  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:20:03.863  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:20:03.863 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:03.863 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:20:03.865 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:20:03.865 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:20:03.866 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:20:03.867 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:20:03.868  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:20:03.868  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@2c4254d7,{}>
2018-07-25 16:20:03.868  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:20:12.426  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:12.429 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:12.430 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:12.432 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:12.438  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:12.440  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:12.440  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:20:12.440  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:12.440  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:20:12.440  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:20:12.440 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:12.441 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:20:12.443 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:20:12.444  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:20:12.444  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 16:20:12.444  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 16:20:15.462  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:15.463 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:15.464 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:15.465 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:15.470  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:15.471  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:15.471  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:20:15.471  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:15.471  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:20:15.471  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:20:15.472 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:15.472 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:20:15.474 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:20:15.474 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:20:15.475 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:20:15.477 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:20:15.478  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:20:15.479  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@77c70567,{}>
2018-07-25 16:20:15.479  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 16:20:34.822  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:34.824 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:34.824 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:34.828 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:34.834  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:34.835  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:34.836  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:20:34.836  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:34.836  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:20:34.836  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:20:34.836 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:34.837 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:20:34.839 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:20:34.841 ERROR 2080 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:20:35.206  INFO 2080 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:35.207 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:35.208 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:35.211 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:35.216  INFO 2080 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:35.217  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:35.217  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:20:35.217  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:35.217  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:20:35.217  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:20:35.217 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:35.218 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:20:35.220 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:20:35.222 ERROR 2080 --- [http-nio-8086-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:20:45.014  INFO 2080 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:45.015 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:45.015 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:45.017 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:45.022  INFO 2080 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:45.024  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:45.024  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:20:45.024  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:45.024  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:20:45.024  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:20:45.024 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:45.024 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:20:45.026 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:20:45.026  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:20:45.026  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:20:45.026  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:20:48.042  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:48.042 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:48.043 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:48.045 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:48.047  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:48.048  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:48.048  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:20:48.048  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:48.048  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:20:48.048  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:20:48.049 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:48.049 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:20:48.051 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:20:48.052 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:20:48.052 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==> Parameters: 2(Integer), 2018-07-16(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:20:48.063 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:20:48.063 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:20:48.065 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==> Parameters: 2(Integer), 2018-07-17(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:20:48.068 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:20:48.068 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:20:48.069 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==> Parameters: 2(Integer), 2018-07-18(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:20:48.072 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:20:48.073 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:20:48.073 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==> Parameters: 2(Integer), 2018-07-19(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:20:48.076 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:20:48.076 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:20:48.077 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : ==> Parameters: 2(Integer), 2018-07-20(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:20:48.081 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:20:48.081  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:20:48.081  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:20:48.081  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:33
2018-07-25 16:20:55.178  INFO 2080 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:20:55.179 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:20:55.179 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:20:55.182 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:20:55.185  INFO 2080 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:20:55.186  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:20:55.186  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:20:55.186  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:20:55.186  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:20:55.186  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:20:55.187 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:20:55.187 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:20:55.189 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:20:55.189 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:20:55.189 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 16:20:55.191 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:20:55.192  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:20:55.192  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7346fcd1,{}>
2018-07-25 16:20:55.192  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 16:21:04.256  INFO 2080 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:04.258 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:04.258 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:04.262 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:04.269  INFO 2080 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:04.272  WARN 2080 --- [http-nio-8086-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 16:21:07.156  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:07.157 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:07.158 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:07.160 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:07.164  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:07.165  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:21:07.166  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:21:07.166  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:21:07.166  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:21:07.166  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:21:07.166 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:21:07.166 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:21:07.169 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:21:07.169 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:21:07.169 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 16:21:07.171 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:21:07.172  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:21:07.172  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@450f94bb,{}>
2018-07-25 16:21:07.172  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 16:21:15.852  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:15.853 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:15.854 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:15.855 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:15.858  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:15.858  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:21:15.858  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:21:15.858  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:21:15.858  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:21:15.859  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 2]
2018-07-25 16:21:15.859 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:21:15.860 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-25(Date)
2018-07-25 16:21:15.861 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:21:15.862 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:21:15.862 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 16:21:15.863 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:21:15.864  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:21:15.864  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@757cc8b3,{}>
2018-07-25 16:21:15.864  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 16:21:29.613  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:29.615 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:29.615 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:29.618 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:29.623  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:29.624  WARN 2080 --- [http-nio-8086-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 16:21:43.783  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:43.784 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:43.785 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:43.786 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:43.790  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:43.792  WARN 2080 --- [http-nio-8086-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 16:21:56.564  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:56.566 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:56.566 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:56.568 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:56.573  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:56.576  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:21:56.576  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:21:56.576  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:21:56.576  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:21:56.576  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 3]
2018-07-25 16:21:56.577 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:21:56.577 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-25(Date)
2018-07-25 16:21:56.578 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:21:56.579  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:21:56.579  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:21:56.579  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:21:59.625  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:21:59.627 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:21:59.628 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:21:59.631 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:21:59.635  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:21:59.636  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:21:59.636  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:21:59.636  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:21:59.636  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:21:59.636  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 3]
2018-07-25 16:21:59.637 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:21:59.637 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 3(Integer), 2018-07-25(Date)
2018-07-25 16:21:59.641 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:21:59.642 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:21:59.643 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 3(Integer), 2018-07-16(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:21:59.653 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:21:59.653 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:21:59.654 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 3(Integer), 2018-07-17(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:21:59.657 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:21:59.657 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:21:59.658 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 3(Integer), 2018-07-18(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:21:59.661 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:21:59.661 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:21:59.662 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 3(Integer), 2018-07-19(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:21:59.665 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:21:59.665 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:21:59.666 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 3(Integer), 2018-07-20(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:21:59.669 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:21:59.670  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:21:59.670  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:21:59.670  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:34
2018-07-25 16:22:04.813  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:04.814 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:04.814 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:04.817 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:04.822  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:04.824  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:04.824  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:22:04.824  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:04.824  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:22:04.824  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 4]
2018-07-25 16:22:04.824 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:04.824 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-25(Date)
2018-07-25 16:22:04.826 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:22:04.826  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:04.827  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:22:04.827  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:22:07.855  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:07.859 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:07.860 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:07.863 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:07.869  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:07.870  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:07.870  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:22:07.870  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:07.870  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:22:07.871  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 4]
2018-07-25 16:22:07.871 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:07.871 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 4(Integer), 2018-07-25(Date)
2018-07-25 16:22:07.874 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:22:07.875 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:07.876 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 4(Integer), 2018-07-16(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:07.886 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:07.886 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:07.887 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 4(Integer), 2018-07-17(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:07.891 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:07.891 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:07.892 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 4(Integer), 2018-07-18(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:07.896 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:07.896 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:07.897 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 4(Integer), 2018-07-19(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:07.901 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:07.901 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:07.902 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 4(Integer), 2018-07-20(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:07.906 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:07.906  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:07.906  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:22:07.906  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:36
2018-07-25 16:22:13.965  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:13.966 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:13.967 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:13.969 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:13.974  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:13.975  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:13.975  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:22:13.975  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:13.975  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:22:13.975  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 4]
2018-07-25 16:22:13.975 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:13.976 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-25(Date)
2018-07-25 16:22:13.979 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:22:13.980 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:22:13.980 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 16:22:13.984 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:22:13.984  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:13.984  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@460f0664,{}>
2018-07-25 16:22:13.985  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 16:22:33.559  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:33.560 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:33.561 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:33.563 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:33.567  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:33.568  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:33.569  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:22:33.569  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:33.569  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:22:33.569  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 6]
2018-07-25 16:22:33.569 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:33.570 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 6(Integer), 2018-07-25(Date)
2018-07-25 16:22:33.571 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:22:33.571  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:33.571  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:22:33.571  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:22:36.605  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:36.607 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:36.608 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:36.611 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:36.613  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:36.614  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:36.614  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:22:36.614  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:36.614  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:22:36.614  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 6]
2018-07-25 16:22:36.614 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:36.615 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 6(Integer), 2018-07-25(Date)
2018-07-25 16:22:36.617 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:22:36.617 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:36.617 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 6(Integer), 2018-07-16(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:36.627 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:36.627 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:36.627 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 6(Integer), 2018-07-17(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:36.631 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:36.631 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:36.632 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 6(Integer), 2018-07-18(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:36.635 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:36.635 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:36.635 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 6(Integer), 2018-07-19(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:36.639 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:36.639 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:36.640 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 6(Integer), 2018-07-20(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:36.643 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:36.643  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:36.643  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:22:36.643  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:29
2018-07-25 16:22:49.578  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:49.580 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:49.580 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:49.582 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:49.587  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:49.589  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:49.589  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:22:49.589  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:49.589  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:22:49.589  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 7]
2018-07-25 16:22:49.589 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:49.590 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 7(Integer), 2018-07-25(Date)
2018-07-25 16:22:49.591 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:22:49.592  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:49.592  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:22:49.592  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:22:52.612  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:52.614 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:52.614 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:52.616 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:52.621  INFO 2080 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:52.622  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:52.622  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:22:52.622  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:52.622  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:22:52.622  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 7]
2018-07-25 16:22:52.622 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:52.623 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 7(Integer), 2018-07-25(Date)
2018-07-25 16:22:52.626 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 5
2018-07-25 16:22:52.627 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:52.627 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 7(Integer), 2018-07-16(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:52.638 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:52.638 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:52.639 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 7(Integer), 2018-07-17(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:52.642 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:52.643 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:52.643 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 7(Integer), 2018-07-18(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:52.647 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:52.647 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:52.648 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 7(Integer), 2018-07-19(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:52.651 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:52.651 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:22:52.652 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : ==> Parameters: 7(Integer), 2018-07-20(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:22:52.655 DEBUG 2080 --- [http-nio-8086-exec-10] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:22:52.655  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:52.655  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:22:52.655  INFO 2080 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:33
2018-07-25 16:22:55.813  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:22:55.814 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:22:55.815 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:22:55.816 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:22:55.820  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:22:55.821  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:22:55.821  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:22:55.821  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:22:55.821  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:22:55.821  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 7]
2018-07-25 16:22:55.821 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:22:55.822 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 7(Integer), 2018-07-25(Date)
2018-07-25 16:22:55.823 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:22:55.824 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:22:55.824 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 7(Integer)
2018-07-25 16:22:55.827 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:22:55.828  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:22:55.828  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@54c9b1d4,{}>
2018-07-25 16:22:55.828  INFO 2080 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 16:23:07.196  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:23:07.197 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:23:07.198 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:23:07.201 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:23:07.222  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:23:07.224  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:23:07.224  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:23:07.224  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:23:07.224  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:23:07.224  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 16:23:07.225 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:23:07.225 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 16:23:07.226 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:23:07.226  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:23:07.226  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=0},{}>
2018-07-25 16:23:07.226  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:23:10.260  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:23:10.262 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:23:10.262 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:23:10.265 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:23:10.270  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:23:10.271  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:23:10.272  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookableadd
2018-07-25 16:23:10.272  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:23:10.272  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK02
2018-07-25 16:23:10.272  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 16:23:10.272 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==>  Preparing: select doid,starttime,bdate,starttime,used,bnum,ynum,xcum,xcyum from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(date_sub(?,interval 7 day),1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:23:10.273 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 16:23:10.275 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.BookableMapper.findLastBookable  : <==      Total: 6
2018-07-25 16:23:10.276 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:23:10.276 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 5(Integer), 2018-07-16(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:23:10.287 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:23:10.287 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:23:10.288 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 5(Integer), 2018-07-17(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:23:10.292 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:23:10.293 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:23:10.293 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 5(Integer), 2018-07-18(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:23:10.297 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:23:10.298 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:23:10.298 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 5(Integer), 2018-07-19(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:23:10.302 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:23:10.303 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:23:10.303 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 5(Integer), 2018-07-20(Date), 0(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:23:10.308 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:23:10.308 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==>  Preparing: insert into bookable (doid,bdate,starttime,used,bnum,xcum) values (?,date_add(?,interval 7 day),?,?,?,?) 
2018-07-25 16:23:10.309 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : ==> Parameters: 21(Integer), 2018-07-16(Date), 1(Integer), 0(Integer), 100(Integer), 100(Integer)
2018-07-25 16:23:10.314 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.insertNewBookable              : <==    Updates: 1
2018-07-25 16:23:10.314  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:23:10.314  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,ok,{}>
2018-07-25 16:23:10.314  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:42
2018-07-25 16:23:13.503  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:23:13.506 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:23:13.506 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:23:13.508 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:23:13.510  INFO 2080 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:23:13.511  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:23:13.511  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:23:13.511  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:23:13.511  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:23:13.511  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 16:23:13.511 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:23:13.511 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 16:23:13.514 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 16:23:13.514 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:23:13.514 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 16:23:13.515 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:23:13.516 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:23:13.516 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 16:23:13.517 DEBUG 2080 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:23:13.517  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:23:13.517  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1b5b62eb,{}>
2018-07-25 16:23:13.517  INFO 2080 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 16:24:20.987  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:24:20.988 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:24:20.988 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:24:20.989 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:24:20.993  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:24:20.994  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:24:20.995  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:24:20.995  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:24:20.995  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:24:20.995  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:24:20.995 DEBUG 2080 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:24:20.995 DEBUG 2080 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:24:20.996 DEBUG 2080 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:24:20.996  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:24:20.996  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4d9546f8, com.yy.hospital.domain.Departs@54718894, com.yy.hospital.domain.Departs@2c148f0a, com.yy.hospital.domain.Departs@5b1cc493, com.yy.hospital.domain.Departs@3cd9fb8e, com.yy.hospital.domain.Departs@6434f1a9, com.yy.hospital.domain.Departs@6c504efa, com.yy.hospital.domain.Departs@515527bf],{}>
2018-07-25 16:24:20.996  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:24:21.009  INFO 2080 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:24:21.009 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:24:21.010 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:24:21.011 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:24:21.014  INFO 2080 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:24:21.016  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:24:21.016  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:24:21.016  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:24:21.016  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:24:21.017  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:24:21.017 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:24:21.017 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:24:21.019 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:24:21.019 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:24:21.019 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:24:21.020 DEBUG 2080 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:24:21.020  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:24:21.020  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@253b9dea,{}>
2018-07-25 16:24:21.021  INFO 2080 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:24:46.728  INFO 2080 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:24:46.729 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:24:46.729 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:24:46.732 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:24:46.736  INFO 2080 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:24:46.738  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:24:46.738  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:24:46.738  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:24:46.738  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:24:46.738  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 3]
2018-07-25 16:24:46.739 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:24:46.739 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-25(Date)
2018-07-25 16:24:46.742 DEBUG 2080 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:24:46.743  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:24:46.743  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 16:24:46.743  INFO 2080 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:24:49.763  INFO 2080 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:24:49.763 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:24:49.763 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:24:49.764 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:24:49.767  INFO 2080 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:24:49.768  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:24:49.768  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:24:49.768  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:24:49.768  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:24:49.768  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 3]
2018-07-25 16:24:49.768 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:24:49.768 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-25(Date)
2018-07-25 16:24:49.770 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:24:49.770 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:24:49.770 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 3(Integer)
2018-07-25 16:24:49.773 DEBUG 2080 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:24:49.773  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:24:49.773  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@145f0149,{}>
2018-07-25 16:24:49.773  INFO 2080 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:25:33.486  INFO 2080 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:25:33.488 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:25:33.489 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:25:33.490 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:25:33.492  INFO 2080 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:25:33.493  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:25:33.493  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:25:33.493  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:25:33.493  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:25:33.494  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 4]
2018-07-25 16:25:33.494 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:25:33.494 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-24(Date)
2018-07-25 16:25:33.496 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:25:33.496  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:25:33.496  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 16:25:33.496  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:25:35.313  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:25:35.316 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:25:35.316 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:25:35.319 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:25:35.321  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:25:35.322  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:25:35.322  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:25:35.322  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:25:35.322  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:25:35.322  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 4]
2018-07-25 16:25:35.322 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:25:35.322 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-24(Date)
2018-07-25 16:25:35.324 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:25:35.324 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:25:35.325 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 16:25:35.326 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:25:35.326  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:25:35.326  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7700b419,{}>
2018-07-25 16:25:35.326  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 16:25:36.514  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:25:36.515 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:25:36.516 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:25:36.518 DEBUG 2080 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:25:36.520  INFO 2080 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:25:36.522  WARN 2080 --- [http-nio-8086-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 16:26:38.450  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:26:38.451 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:26:38.452 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:26:38.453 DEBUG 2080 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:26:38.456  INFO 2080 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:26:38.456  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:26:38.456  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:26:38.456  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:26:38.456  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:26:38.456  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:26:38.456 DEBUG 2080 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:26:38.457 DEBUG 2080 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:26:38.457 DEBUG 2080 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:26:38.458  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:26:38.458  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@da83811, com.yy.hospital.domain.Departs@18a665b6, com.yy.hospital.domain.Departs@48a12261, com.yy.hospital.domain.Departs@5806a806, com.yy.hospital.domain.Departs@14a26ba7, com.yy.hospital.domain.Departs@3f823750, com.yy.hospital.domain.Departs@7e71b8eb, com.yy.hospital.domain.Departs@13da79bb],{}>
2018-07-25 16:26:38.458  INFO 2080 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:26:38.473  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:26:38.473 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:26:38.474 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:26:38.475 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:26:38.481  INFO 2080 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:26:38.482  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:26:38.482  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:26:38.482  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:26:38.482  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:26:38.482  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:26:38.482 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:26:38.483 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:26:38.484 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:26:38.485 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:26:38.485 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:26:38.486 DEBUG 2080 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:26:38.487  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:26:38.487  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5fc1142e,{}>
2018-07-25 16:26:38.487  INFO 2080 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 16:37:52.408  INFO 2080 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:37:52.409 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:37:52.410 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:37:52.412 DEBUG 2080 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:37:52.414  INFO 2080 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:37:52.415  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:37:52.415  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:37:52.415  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:37:52.415  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:37:52.415  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:37:52.416 DEBUG 2080 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:37:52.416 DEBUG 2080 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:37:52.417 DEBUG 2080 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:37:52.417  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:37:52.417  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@661bf4b4, com.yy.hospital.domain.Departs@1d5ece99, com.yy.hospital.domain.Departs@70952d5a, com.yy.hospital.domain.Departs@57632e82, com.yy.hospital.domain.Departs@6e64de8e, com.yy.hospital.domain.Departs@5a5ffdd, com.yy.hospital.domain.Departs@5c83edce, com.yy.hospital.domain.Departs@125acfe2],{}>
2018-07-25 16:37:52.418  INFO 2080 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 16:37:52.436  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:37:52.436 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:37:52.437 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:37:52.439 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:37:52.443  INFO 2080 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:37:52.445  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:37:52.445  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:37:52.445  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:37:52.445  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:37:52.445  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:37:52.446 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:37:52.446 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:37:52.448 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:37:52.448 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:37:52.448 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:37:52.450 DEBUG 2080 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:37:52.452  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:37:52.452  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@546d1bd2,{}>
2018-07-25 16:37:52.452  INFO 2080 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 16:38:23.558  INFO 8204 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8204 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 16:38:23.562  INFO 8204 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 16:38:23.712  INFO 8204 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 16:38:23 CST 2018]; root of context hierarchy
2018-07-25 16:38:24.734  INFO 8204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:38:24.776  INFO 8204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 16:38:25.382  INFO 8204 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fc23c658] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:38:25.689  INFO 8204 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$94d18e92] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:38:25.708  INFO 8204 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:38:25.714  INFO 8204 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3df978b9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:38:25.723  INFO 8204 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b9a63144] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:38:25.749  INFO 8204 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 16:38:26.207  INFO 8204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 16:38:26.234  INFO 8204 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 16:38:26.234  INFO 8204 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 16:38:26.241  INFO 8204 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 16:38:26.242  INFO 8204 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 16:38:26.242  INFO 8204 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 16:38:27.319  INFO 8204 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 16:38:27.497  INFO 8204 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 16:38:27.498  INFO 8204 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3786 ms
2018-07-25 16:38:27.727  INFO 8204 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 16:38:27.728  INFO 8204 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 16:38:27.728  INFO 8204 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 16:38:27.728  INFO 8204 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 16:38:27.729  INFO 8204 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 16:38:27.729  INFO 8204 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 16:38:27.729  INFO 8204 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 16:38:28.946  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 16:38:28.947  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 16:38:28.947  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 16:38:28.947  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 16:38:28.947  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 16:38:28.947  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 16:38:28.948  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 16:38:29.076  INFO 8204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a92be4f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e33d73e, org.springframework.security.web.header.HeaderWriterFilter@352c44a8, org.springframework.web.filter.CorsFilter@5c68f1a0, org.springframework.security.web.authentication.logout.LogoutFilter@1e7ab390, com.yy.hospital.security.JwtAuthenticationTokenFilter@53e800f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@623dcf2a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46963479, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@337bbfdf, org.springframework.security.web.session.SessionManagementFilter@80bfdc6, org.springframework.security.web.access.ExceptionTranslationFilter@476fe690, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bc44ce8]
2018-07-25 16:38:29.263  INFO 8204 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:38:29.730  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 16:38:23 CST 2018]; root of context hierarchy
2018-07-25 16:38:29.847  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 16:38:29.849  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 16:38:29.850  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 16:38:29.851  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:38:29.853  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookablealldoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK(java.sql.Date,java.lang.Integer)
2018-07-25 16:38:29.853  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookableadd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.autoBK02(java.sql.Date,java.lang.Integer)
2018-07-25 16:38:29.854  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 16:38:29.856  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:38:29.857  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 16:38:29.858  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 16:38:29.858  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 16:38:29.859  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:38:29.866  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 16:38:29.867  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 16:38:29.872  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 16:38:29.873  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 16:38:29.874  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 16:38:29.875  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 16:38:29.876  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 16:38:29.877  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 16:38:29.878  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 16:38:29.879  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 16:38:29.880  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 16:38:29.881  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 16:38:29.882  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 16:38:29.886  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 16:38:29.887  INFO 8204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 16:38:30.033  INFO 8204 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:38:30.033  INFO 8204 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 16:38:30.072  INFO 8204 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 16:38:32.937  INFO 8204 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 16:38:33.609  INFO 8204 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 16:38:33.611  INFO 8204 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 16:38:33.617  INFO 8204 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 16:38:33.654  INFO 8204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 16:38:33.659  INFO 8204 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 11.198 seconds (JVM running for 13.511)
2018-07-25 16:38:33.977  INFO 8204 --- [cluster-ClusterId{value='5b583708622a65200cd763f5', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 16:38:48.710  INFO 8204 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 16:38:48.711  INFO 8204 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 16:38:48.732  INFO 8204 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 16:38:48.768  WARN 8204 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 16:38:48.769  INFO 8204 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 16:38:48.985  INFO 8204 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 16:38:49.107  INFO 8204 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 16:38:49.114 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:38:49.129 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:38:49.145 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:38:49.262 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:38:49.263 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:38:49.266 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:38:49.713  INFO 8204 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:38:49.713  INFO 8204 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:38:49.713  INFO 8204 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:38:49.714 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:38:49.714 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:38:49.714 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:38:49.715 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:38:49.715 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:38:49.715 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:38:49.718 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:38:49.726  INFO 8204 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:38:49.726 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:38:49.726 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:38:49.732  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:38:49.732  INFO 8204 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:38:49.732  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 16:38:49.732  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:38:49.735  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 16:38:49.735  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:38:49.737 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:38:49.737 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:38:49.740 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:38:49.741  INFO 8204 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:38:49.744  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:38:49.745  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 16:38:49.746  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:38:49.746  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 16:38:49.746  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:38:49.756 DEBUG 8204 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:38:49.756 DEBUG 8204 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:38:49.756 DEBUG 8204 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:38:49.759 DEBUG 8204 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:38:49.765 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.765 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.766 DEBUG 8204 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:38:49.767 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.768 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.768 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.770 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.771 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.771 DEBUG 8204 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:38:49.773 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.773 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.772 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.775 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.776 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.776 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.776 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.777 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.777 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.778 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.779 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.779 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.779 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.780 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.780 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.781 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.782 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.782 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.783 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.784 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.785 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.785 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.786 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.786 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.787 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.787 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.788 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.788 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.789 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.789 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 16:38:49.790 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.791 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.793 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.793 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.794 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.794 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.795 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.796 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.796 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.796 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.797 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.797 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.798 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.798 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.798 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.799 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.799 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.799 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.800 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.800 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.800 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.800 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.801 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.801 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.802 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.802 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.802 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.802 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.803 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 16:38:49.803 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.804 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.804 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.805 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.805 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.805 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.805 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.807 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.807 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.807 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.807 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.807 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.807 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.809 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.809 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.809 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.809 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.809 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.810 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.811 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.811 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.811 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.811 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.812 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.812 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.813 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.813 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.813 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.813 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.814 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.814 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 16:38:49.815 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.815 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.815 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.816 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.816 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.816 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.817 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.817 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.818 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.818 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.818 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.818 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.819 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.819 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.820 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.820 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.820 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.820 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.822 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.822 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.822 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.822 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.822 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.822 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.823 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.823 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.824 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.824 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.824 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 16:38:49.824 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.825 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.825 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.826 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.826 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.827 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.827 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.828 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.828 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.829 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.829 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.829 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.829 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.830 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.830 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.831 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.831 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.831 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.831 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.833 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.833 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.833 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.833 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.833 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.833 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.835 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.835 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.835 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.835 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.836 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 16:38:49.836 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.837 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.837 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.837 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.837 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.838 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.838 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.839 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.839 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.839 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.839 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.839 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.839 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.840 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.840 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.841 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.841 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.841 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.842 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.843 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.843 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.843 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.843 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.844 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.844 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.845 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.845 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.846 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.846 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.846 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.846 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 16:38:49.847 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.847 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.848 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.848 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.848 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.848 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.850 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.850 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.850 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.850 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.850 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.850 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.851 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.851 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.852 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.852 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.852 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.852 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.854 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.854 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.854 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.854 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.855 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.855 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.856 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.856 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.856 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.856 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.857 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 16:38:49.857 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.858 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.858 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.858 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.858 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.859 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.859 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.860 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.860 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.860 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 16:38:49.860 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 16:38:49.861 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.861 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.862 DEBUG 8204 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 16:38:49.862 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 16:38:49.862 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 16:38:49.862 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.863  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:38:49.863  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 16:38:49.863  INFO 8204 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:131
2018-07-25 16:38:49.864 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 16:38:49.864 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 16:38:49.864 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.865 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 16:38:49.866 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 16:38:49.866 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 16:38:49.867 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 16:38:49.868  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:38:49.868  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@56fff3b5,{}>
2018-07-25 16:38:49.868  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:123
2018-07-25 16:39:13.258  INFO 8204 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:13.259 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:13.259 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:13.262 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:13.270  INFO 8204 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:13.271  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:13.272  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 16:39:13.272  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 16:39:13.272  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 16:39:13.273  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 16:39:13.278 DEBUG 8204 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 16:39:13.278 DEBUG 8204 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 16:39:13.280 DEBUG 8204 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 16:39:13.280  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:39:13.281  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@119b4267, com.yy.hospital.domain.Departs@3ca1dc68, com.yy.hospital.domain.Departs@6c1d9e24, com.yy.hospital.domain.Departs@415ca1e1, com.yy.hospital.domain.Departs@a9f4bd7, com.yy.hospital.domain.Departs@38ef8470, com.yy.hospital.domain.Departs@3883c1f7, com.yy.hospital.domain.Departs@1cf43caf],{}>
2018-07-25 16:39:13.281  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 16:39:13.301  INFO 8204 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:13.302 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:13.303 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:13.305 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:13.310  INFO 8204 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:13.315  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:13.315  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:39:13.315  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:39:13.315  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:39:13.315  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 16:39:13.318 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:39:13.319 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 16:39:13.321 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:39:13.322 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:39:13.322 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 16:39:13.324 DEBUG 8204 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:39:13.325  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:39:13.325  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@26037127,{}>
2018-07-25 16:39:13.325  INFO 8204 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 16:39:19.669  INFO 8204 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:19.670 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:19.670 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:19.675 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:19.679  INFO 8204 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:19.680  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:19.681  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:39:19.681  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:39:19.681  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:39:19.681  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-03, 4]
2018-07-25 16:39:19.681 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:39:19.681 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-03(Date)
2018-07-25 16:39:19.682 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:39:19.691 ERROR 8204 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$be056fda.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:39:31.782  INFO 8204 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:31.783 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:31.784 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:31.785 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:31.789  INFO 8204 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:31.790  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:31.790  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:39:31.790  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:39:31.790  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:39:31.790  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 4]
2018-07-25 16:39:31.790 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:39:31.790 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-10(Date)
2018-07-25 16:39:31.792 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 16:39:31.792 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:39:31.792 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 16:39:31.794 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:39:31.794  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:39:31.794  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@539179e7,{}>
2018-07-25 16:39:31.794  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 16:39:39.554  INFO 8204 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:39.556 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:39.557 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:39.560 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:39.566  INFO 8204 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:39.568  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:39.568  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:39:39.568  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:39:39.568  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:39:39.568  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 3]
2018-07-25 16:39:39.569 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:39:39.569 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-18(Date)
2018-07-25 16:39:39.573 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:39:39.573 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:39:39.574 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 3(Integer)
2018-07-25 16:39:39.576 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:39:39.577  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:39:39.577  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@753a359f,{}>
2018-07-25 16:39:39.577  INFO 8204 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 16:39:45.113  INFO 8204 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:45.115 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:45.115 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:45.118 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:45.125  INFO 8204 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:45.127  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:45.127  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:39:45.127  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:39:45.128  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:39:45.128  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-30, 4]
2018-07-25 16:39:45.128 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:39:45.129 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-30(Date)
2018-07-25 16:39:45.130 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 16:39:45.132 ERROR 8204 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:60) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$be056fda.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 16:39:49.578  INFO 8204 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:39:49.579 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:39:49.581 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:39:49.584 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:39:49.596  INFO 8204 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:39:49.598  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:39:49.598  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:39:49.598  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:39:49.598  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:39:49.598  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-23, 4]
2018-07-25 16:39:49.599 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:39:49.599 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-23(Date)
2018-07-25 16:39:49.603 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:39:49.604 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:39:49.604 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 16:39:49.605 DEBUG 8204 --- [http-nio-8086-exec-1] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:39:49.606  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:39:49.606  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4f344641,{}>
2018-07-25 16:39:49.606  INFO 8204 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 16:40:15.449  INFO 8204 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:40:15.451 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:40:15.451 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:40:15.453 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:40:15.457  INFO 8204 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:40:15.459  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:40:15.459  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:40:15.459  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:40:15.459  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:40:15.460  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 5]
2018-07-25 16:40:15.460 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:40:15.460 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-25(Date)
2018-07-25 16:40:15.463 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 16:40:15.463 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:15.463 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 16:40:15.465 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:15.466 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:15.466 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 16:40:15.467 DEBUG 8204 --- [http-nio-8086-exec-3] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:15.468  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:40:15.468  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@233f4a41,{}>
2018-07-25 16:40:15.468  INFO 8204 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 16:40:20.013  INFO 8204 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:40:20.014 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:40:20.015 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:40:20.017 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:40:20.022  INFO 8204 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:40:20.023  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:40:20.023  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:40:20.023  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:40:20.023  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:40:20.023  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-09, 5]
2018-07-25 16:40:20.023 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:40:20.024 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-09(Date)
2018-07-25 16:40:20.025 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 2
2018-07-25 16:40:20.026 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:20.026 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 16:40:20.028 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:20.029 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:20.029 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 16:40:20.031 DEBUG 8204 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:20.031  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:40:20.031  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6b9b9eb0,{}>
2018-07-25 16:40:20.031  INFO 8204 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 16:40:27.667  INFO 8204 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:40:27.668 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:40:27.669 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:40:27.672 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:40:27.675  INFO 8204 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:40:27.676  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:40:27.676  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:40:27.676  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:40:27.676  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:40:27.676  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 5]
2018-07-25 16:40:27.676 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:40:27.677 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-24(Date)
2018-07-25 16:40:27.678 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 16:40:27.679 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:27.679 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 16:40:27.681 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:27.682 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:27.682 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 16:40:27.683 DEBUG 8204 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:27.683  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:40:27.683  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@267022a6,{}>
2018-07-25 16:40:27.684  INFO 8204 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 16:40:29.972  INFO 8204 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:40:29.972 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:40:29.973 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:40:29.976 DEBUG 8204 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:40:29.979  INFO 8204 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:40:29.981  WARN 8204 --- [http-nio-8086-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 16:40:34.837  INFO 8204 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:40:34.839 DEBUG 8204 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:40:34.839 DEBUG 8204 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:40:34.840 DEBUG 8204 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:40:34.843  INFO 8204 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:40:34.849  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:40:34.849  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookablealldoctor
2018-07-25 16:40:34.849  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:40:34.849  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.autoBK
2018-07-25 16:40:34.849  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 16:40:34.849 DEBUG 8204 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:40:34.849 DEBUG 8204 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 16:40:34.851 DEBUG 8204 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:40:34.851  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:40:34.851  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{result=1},{}>
2018-07-25 16:40:34.851  INFO 8204 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 16:40:37.876  INFO 8204 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 16:40:37.877 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 16:40:37.877 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 16:40:37.879 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 16:40:37.885  INFO 8204 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 16:40:37.887  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 16:40:37.888  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 16:40:37.888  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 16:40:37.888  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 16:40:37.888  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 16:40:37.888 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 16:40:37.888 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 16:40:37.891 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 16:40:37.892 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 16:40:37.892 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 16:40:37.894 DEBUG 8204 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 16:40:37.895  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 16:40:37.895  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@2681316b,{}>
2018-07-25 16:40:37.896  INFO 8204 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:8
