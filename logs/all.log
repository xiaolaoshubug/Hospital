2018-07-25 00:17:48.429  INFO 10112 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10112 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:17:48.441  INFO 10112 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:17:48.518  INFO 10112 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:17:48 CST 2018]; root of context hierarchy
2018-07-25 00:17:49.382  INFO 10112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:17:49.423  INFO 10112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:17:50.049  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.356  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.370  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.376  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6272c96f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.392  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.417  INFO 10112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:17:50.868  INFO 10112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:17:50.900  INFO 10112 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:17:50.901  INFO 10112 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:17:50.921  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:17:50.922  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:17:50.922  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:17:51.984  INFO 10112 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:17:52.089  INFO 10112 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:17:52.089  INFO 10112 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3572 ms
2018-07-25 00:17:52.287  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:17:52.287  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:17:52.288  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:17:52.288  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:17:52.288  INFO 10112 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:17:52.289  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:17:52.289  INFO 10112 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:17:53.195  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:17:53.196  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:17:53.284  INFO 10112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@3c7db3ca, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 00:17:53.424  INFO 10112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:17:53.694  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:17:48 CST 2018]; root of context hierarchy
2018-07-25 00:17:53.760  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:17:53.762  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:17:53.763  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:17:53.763  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:17:53.765  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:17:53.767  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:17:53.767  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:17:53.767  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:17:53.768  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:17:53.768  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:17:53.769  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:17:53.770  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:17:53.770  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:17:53.770  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:17:53.771  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:17:53.773  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:17:53.774  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:17:53.775  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:17:53.776  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:17:53.776  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:17:53.777  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:17:53.777  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:17:53.778  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:17:53.780  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:17:53.780  INFO 10112 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:17:53.828  INFO 10112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:17:53.828  INFO 10112 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:17:53.847  INFO 10112 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:17:56.302  INFO 10112 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:17:56.907  INFO 10112 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:17:56.909  INFO 10112 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:17:56.915  INFO 10112 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:17:56.951  INFO 10112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:17:56.955  INFO 10112 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.987 seconds (JVM running for 11.635)
2018-07-25 00:17:57.344  INFO 10112 --- [cluster-ClusterId{value='5b575134b8e4d527808afaac', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:18:17.576  INFO 10112 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:18:17.577  INFO 10112 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:18:17.599  INFO 10112 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 00:18:17.763  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:17.763  INFO 10112 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:17.763  INFO 10112 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:17.782  INFO 10112 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:18:17.916  INFO 10112 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:18:17.927 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:17.927 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:17.932 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:17.947 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:17.947 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:17.947 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:17.970 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:17.970 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:17.970 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:17.980  INFO 10112 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:17.980  INFO 10112 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:17.980  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:18.006  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:18.006  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:18:18.007  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:18:18.010  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:18:18.010 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:18.010  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:18:18.011  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:18:18.011 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:18.011  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:18:18.014 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:18:18.041 DEBUG 10112 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:18:18.046 DEBUG 10112 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:18:18.047 DEBUG 10112 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:18:18.052 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.052 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.053 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.053 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.056 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.058 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.060 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.061 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.062 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.059 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.064 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.065 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.065 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.065 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.067 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.067 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.068 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.068 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.069 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.071 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.071 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.072 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.072 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.073 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.075 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.075 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.075 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.076 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.079 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.079 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.079 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.080 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:18:18.080 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.081 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.082 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.084 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.085 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.085 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.085 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.086 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.088 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.088 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.089 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.089 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.089 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.090 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.092 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.094 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.095 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.096 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.098 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.098 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.100 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.100 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.100 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.101 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.102 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.104 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.105 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.105 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.106 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.106 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.108 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.110 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.110 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.111 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.111 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.111 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.112 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.113 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.114 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.114 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.115 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.116 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.117 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.118 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.119 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.119 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.120 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.121 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.121 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.122 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.122 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.123 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.124 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.124 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.125 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.125 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.126 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.126 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.127 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.128 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:18:18.129 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.129 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.130 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.130 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.131 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.131 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.132 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.133 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.133 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.134 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.134 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.135 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.137 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.138 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:18:18.139 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.141 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.142 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.142 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.143 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.143 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.144 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.145 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.146 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.147 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.148 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.149 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.150 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.151 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.151 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:18:18.152 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.153 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.153 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.154 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.155 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.155 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.156 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.157 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.157 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.158 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.159 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.159 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.160 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.161 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.161 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:18:18.162 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.164 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.165 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.165 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.166 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:18:18.167 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:18:18.168 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.169 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.170 DEBUG 10112 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:18:18.170 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:18:18.170 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:18:18.171 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.171  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:18.171  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:18:18.171  INFO 10112 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:164
2018-07-25 00:18:18.172 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:18:18.173 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:18:18.173 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:18:18.174 DEBUG 10112 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:18:18.175  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:18.175  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@3395cd98,{}>
2018-07-25 00:18:18.175  INFO 10112 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:168
2018-07-25 00:18:19.696  INFO 10112 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:19.697 DEBUG 10112 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:19.698 DEBUG 10112 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:19.699 DEBUG 10112 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:19.704  INFO 10112 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:18:19.705  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:18:19.709 DEBUG 10112 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:18:19.709 DEBUG 10112 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:18:19.711 DEBUG 10112 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:18:19.711  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:19.711  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@7a13aa58, com.yy.hospital.domain.Departs@2aa76d89, com.yy.hospital.domain.Departs@6567db85, com.yy.hospital.domain.Departs@19fb9cef, com.yy.hospital.domain.Departs@7e5db4e2, com.yy.hospital.domain.Departs@6f074585, com.yy.hospital.domain.Departs@34670013, com.yy.hospital.domain.Departs@71beee94],{}>
2018-07-25 00:18:19.711  INFO 10112 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 00:18:19.729  INFO 10112 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:19.729 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:19.730 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:19.731 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:19.735  INFO 10112 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:19.744  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:18:19.745  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:18:19.747 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:18:19.748 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:18:19.749 DEBUG 10112 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:18:19.749  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:19.749  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1d320c01,{}>
2018-07-25 00:18:19.749  INFO 10112 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 00:18:25.626  INFO 10112 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:25.627 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:25.627 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:25.629 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:25.634  INFO 10112 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:18:25.636  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 00:18:25.637 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:18:25.637 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 00:18:25.640 DEBUG 10112 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 00:18:25.641  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:25.641  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@33cbbe7a,{}>
2018-07-25 00:18:25.641  INFO 10112 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:18:54.938  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:18:54.940 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:18:54.941 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:18:54.943 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:18:54.949  INFO 10112 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:18:54.950  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:18:54.951 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:18:54.951 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:18:54.954 DEBUG 10112 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:18:54.954  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:18:54.954  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7ea57325,{}>
2018-07-25 00:18:54.954  INFO 10112 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 00:51:12.840  INFO 9880 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9880 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:51:12.865  INFO 9880 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:51:12.953  INFO 9880 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:51:12 CST 2018]; root of context hierarchy
2018-07-25 00:51:13.992  INFO 9880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:51:14.030  INFO 9880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:51:14.556  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ff2608f1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.814  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$97d3d12b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.827  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.834  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a6ebe1e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.885  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$bca873dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:14.907  INFO 9880 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:51:15.438  INFO 9880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:51:15.471  INFO 9880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:51:15.471  INFO 9880 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:51:15.583  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:51:15.583  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:51:15.584  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:51:16.624  INFO 9880 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:51:16.751  INFO 9880 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:51:16.752  INFO 9880 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3799 ms
2018-07-25 00:51:16.962  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:51:16.962  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:51:16.963  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:51:16.964  INFO 9880 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:51:17.870  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:51:17.870  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:51:17.871  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:51:17.872  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:51:17.962  INFO 9880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79b84841, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a0e7ecd, org.springframework.security.web.header.HeaderWriterFilter@227a47, org.springframework.web.filter.CorsFilter@6ff090b9, org.springframework.security.web.authentication.logout.LogoutFilter@5bc28f40, com.yy.hospital.security.JwtAuthenticationTokenFilter@4d41ba0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43e9089, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5df778c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c87e6b7, org.springframework.security.web.session.SessionManagementFilter@65b97f47, org.springframework.security.web.access.ExceptionTranslationFilter@4eba373c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f0f7849]
2018-07-25 00:51:18.088  INFO 9880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:51:18.358  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:51:12 CST 2018]; root of context hierarchy
2018-07-25 00:51:18.428  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:51:18.429  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:51:18.430  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:51:18.431  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:51:18.431  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:51:18.433  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:51:18.434  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:51:18.435  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:51:18.435  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:51:18.435  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:51:18.436  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:51:18.437  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:51:18.437  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:51:18.438  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:51:18.438  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:51:18.441  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:51:18.442  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:51:18.442  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:51:18.443  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:51:18.444  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:51:18.444  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:51:18.444  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:51:18.445  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:51:18.447  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:51:18.448  INFO 9880 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:51:18.496  INFO 9880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:51:18.497  INFO 9880 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:51:18.517  INFO 9880 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:51:21.032  INFO 9880 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:51:21.643  INFO 9880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:51:21.645  INFO 9880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:51:21.651  INFO 9880 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:51:21.689  INFO 9880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:51:21.694  INFO 9880 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.05 seconds (JVM running for 11.615)
2018-07-25 00:51:22.099  INFO 9880 --- [cluster-ClusterId{value='5b575909b8e4d52698618982', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:51:35.620  INFO 9880 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:51:35.621  INFO 9880 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:51:35.642  INFO 9880 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 00:51:35.809  INFO 9880 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:35.809  INFO 9880 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:35.809  INFO 9880 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:35.827  INFO 9880 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:51:35.958  INFO 9880 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:51:35.967 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:35.967 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:35.971 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:35.984 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:35.984 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:35.984 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:36.008 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.008 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.008 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.018  INFO 9880 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:36.018  INFO 9880 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:36.018  INFO 9880 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:51:36.044  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:51:36.045  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:51:36.045  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:51:36.048  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:51:36.048 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:36.049 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:36.052 DEBUG 9880 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:51:36.076 DEBUG 9880 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:51:36.080 DEBUG 9880 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:51:36.080 DEBUG 9880 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:51:36.086 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.086 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.087 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.087 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.090 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.091 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.091 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.092 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.092 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.093 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.093 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.095 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.095 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.096 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.097 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.098 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.098 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.099 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.099 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.100 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.102 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.102 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.102 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.103 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.103 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.104 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.105 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.105 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:51:36.107 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.108 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.108 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.108 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.109 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.109 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.112 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.113 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.113 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.114 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.114 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.114 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.116 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.116 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.117 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.117 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.118 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.118 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.120 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.121 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.121 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.121 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.124 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.125 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.126 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.126 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:51:36.127 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.129 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.129 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.130 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.130 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.131 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.131 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.132 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.133 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.134 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.135 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.136 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.136 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.136 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.137 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.138 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.138 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.139 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.138 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.140 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.140 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.141 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.143 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.143 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.144 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.146 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.146 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.147 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:51:36.147 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.148 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.148 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.150 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.150 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.151 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.152 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.152 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.153 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.154 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.154 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.155 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.156 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.156 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.157 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.158 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.158 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.159 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:51:36.160 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.160 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.161 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.161 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.162 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.162 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.163 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.163 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.164 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.165 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.165 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.166 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.168 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.169 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.169 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.170 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.170 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:51:36.171 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.172 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.172 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.173 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.174 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.174 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.175 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.176 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.176 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.177 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.178 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.179 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.179 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.180 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:51:36.181 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.182 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.182 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.183 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.183 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.184 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.185 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.185 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.186 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.187 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.188 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.188 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.189 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.190 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.190 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:51:36.191 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.192 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.192 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.193 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.193 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.193 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.194 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.195 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.196 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:51:36.196 DEBUG 9880 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:51:36.197 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:51:36.197 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.197  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:36.197  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@31cccde8,{}>
2018-07-25 00:51:36.198  INFO 9880 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:154
2018-07-25 00:51:36.198 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:51:36.198 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:51:36.198 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.200 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:51:36.200 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:51:36.201 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:51:36.202 DEBUG 9880 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:51:36.202  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:36.202  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:51:36.202  INFO 9880 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:158
2018-07-25 00:51:38.540  INFO 9880 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:38.541 DEBUG 9880 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:38.541 DEBUG 9880 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:38.543 DEBUG 9880 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:38.547  INFO 9880 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:38.548  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:51:38.549  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:51:38.552 DEBUG 9880 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:51:38.553 DEBUG 9880 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:51:38.556 DEBUG 9880 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:51:38.556  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:38.556  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@11d29558, com.yy.hospital.domain.Departs@72cce81, com.yy.hospital.domain.Departs@1c598409, com.yy.hospital.domain.Departs@27640d1a, com.yy.hospital.domain.Departs@221934fb, com.yy.hospital.domain.Departs@43a0beff, com.yy.hospital.domain.Departs@1309034e, com.yy.hospital.domain.Departs@1482c0e8],{}>
2018-07-25 00:51:38.556  INFO 9880 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 00:51:38.575  INFO 9880 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:38.575 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:38.575 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:38.577 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:38.581  INFO 9880 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:51:38.590  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:51:38.592 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:51:38.593 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:51:38.594 DEBUG 9880 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:51:38.594  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:51:38.594  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5afa2c63,{}>
2018-07-25 00:51:38.594  INFO 9880 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 00:51:46.895  INFO 9880 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:51:46.897 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:51:46.897 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:51:46.901 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:51:46.910  INFO 9880 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:51:46.911  INFO 9880 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:51:46.911 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:51:46.912 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:51:46.915 DEBUG 9880 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:51:46.925 ERROR 9880 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:45) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d8a5f1c6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:52:53.096  INFO 10648 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10648 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:52:53.101  INFO 10648 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:52:53.291  INFO 10648 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:52:53 CST 2018]; root of context hierarchy
2018-07-25 00:52:54.211  INFO 10648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:52:54.253  INFO 10648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:52:54.827  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3bd670e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.055  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d484391c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.069  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.074  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.081  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f958dbce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.101  INFO 10648 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:52:55.905  INFO 10648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:52:55.936  INFO 10648 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:52:55.937  INFO 10648 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:52:55.946  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:52:55.954  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:52:55.955  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:52:57.015  INFO 10648 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:52:57.145  INFO 10648 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:52:57.146  INFO 10648 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3856 ms
2018-07-25 00:52:57.348  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:52:57.349  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:52:57.349  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:52:57.349  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:52:57.350  INFO 10648 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:52:57.350  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:52:57.351  INFO 10648 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:52:58.285  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:52:58.286  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:52:58.377  INFO 10648 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@57e56455, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 00:52:58.503  INFO 10648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:52:58.811  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:52:53 CST 2018]; root of context hierarchy
2018-07-25 00:52:58.879  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:52:58.880  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:52:58.881  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:52:58.882  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:52:58.882  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:52:58.884  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:52:58.884  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:52:58.885  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:52:58.885  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:52:58.886  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:52:58.888  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:52:58.889  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:52:58.889  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:52:58.889  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:52:58.890  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:52:58.892  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:52:58.894  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:52:58.894  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:52:58.895  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:52:58.896  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:52:58.897  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:52:58.897  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:52:58.897  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:52:58.900  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:52:58.900  INFO 10648 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:52:58.952  INFO 10648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:52:58.952  INFO 10648 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:52:58.972  INFO 10648 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:53:01.382  INFO 10648 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:53:02.033  INFO 10648 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:53:02.034  INFO 10648 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:53:02.040  INFO 10648 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:53:02.078  INFO 10648 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:53:02.082  INFO 10648 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.083 seconds (JVM running for 11.598)
2018-07-25 00:53:02.447  INFO 10648 --- [cluster-ClusterId{value='5b57596db8e4d5299839ec9b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:53:11.467  INFO 10648 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:53:11.467  INFO 10648 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:53:11.487  INFO 10648 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 19 ms
2018-07-25 00:53:11.623  INFO 10648 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:11.623  INFO 10648 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:11.623  INFO 10648 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:11.640  INFO 10648 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:53:11.778  INFO 10648 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:53:11.788 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.789 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.794 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.807 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.807 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.807 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.826 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.826 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.826 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.838  INFO 10648 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:11.841  INFO 10648 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:11.841  INFO 10648 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:11.861  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:11.861  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:53:11.862  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:53:11.864  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:53:11.865 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:11.864  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:53:11.865  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:53:11.865  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:53:11.865 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:11.868 DEBUG 10648 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:53:11.886 DEBUG 10648 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:53:11.890 DEBUG 10648 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:53:11.894 DEBUG 10648 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.895 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.897 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.898 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.898 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.900 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.901 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.900 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.901 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.902 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.903 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.903 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.904 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.904 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.905 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.906 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.906 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.906 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.907 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.907 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.908 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.910 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.910 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.910 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.911 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.911 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.912 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.913 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.914 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.915 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:53:11.915 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.916 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.916 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.917 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.918 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.918 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.919 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.919 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.920 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.920 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.920 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.921 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.922 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.923 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.924 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.924 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.925 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.925 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.925 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.926 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.927 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.928 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.928 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.929 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:53:11.930 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.931 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.932 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.932 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.933 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.934 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.934 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.935 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.936 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.937 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.937 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.938 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.938 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.939 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.940 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.940 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.940 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.941 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.942 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.943 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.944 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.946 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.947 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.947 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.948 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.949 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.949 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.949 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.950 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.950 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.950 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.951 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.951 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.952 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.952 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.953 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.953 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.953 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.954 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.954 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.955 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.955 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.955 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.956 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.956 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.957 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.957 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.958 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.960 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.961 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.961 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.962 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.962 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.963 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.964 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.965 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.965 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.964 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.966 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.967 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.967 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.968 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.968 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.970 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.971 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.971 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.972 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.972 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.973 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:53:11.974 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.974 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.975 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.976 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.976 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.977 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.978 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.978 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.979 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.981 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.981 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.981 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.982 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.982 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.983 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:53:11.984 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.984 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.985 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.986 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.986 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.987 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.989 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.991 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:11.992 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.992 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:11.993 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:11.994 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.994 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:53:11.995 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:11.995 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.996 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.997 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.998 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:53:11.999 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:53:11.999 DEBUG 10648 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:53:12.000 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:53:12.000 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:53:12.001  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:12.001  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:53:12.001  INFO 10648 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:139
2018-07-25 00:53:12.002 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:53:12.002 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:53:12.003 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:53:12.004 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:53:12.005 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:53:12.005 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:53:12.007 DEBUG 10648 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:53:12.007  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:12.007  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5650798e,{}>
2018-07-25 00:53:12.007  INFO 10648 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:145
2018-07-25 00:53:13.952  INFO 10648 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:13.953 DEBUG 10648 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:13.954 DEBUG 10648 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:13.956 DEBUG 10648 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:13.961  INFO 10648 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:53:13.962  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:53:13.965 DEBUG 10648 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:53:13.965 DEBUG 10648 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:53:13.966 DEBUG 10648 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:53:13.967  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:13.967  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@3af87c6b, com.yy.hospital.domain.Departs@3244a4ab, com.yy.hospital.domain.Departs@23f86b77, com.yy.hospital.domain.Departs@589ed76a, com.yy.hospital.domain.Departs@21fcf336, com.yy.hospital.domain.Departs@360a7a5e, com.yy.hospital.domain.Departs@56c90c3b, com.yy.hospital.domain.Departs@78c2a40f],{}>
2018-07-25 00:53:13.967  INFO 10648 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:53:13.983  INFO 10648 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:13.984 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:13.984 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:13.985 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:13.991  INFO 10648 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:53:14.000  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:53:14.003 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:53:14.004 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:53:14.005 DEBUG 10648 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:53:14.006  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:53:14.006  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@342ae2c6,{}>
2018-07-25 00:53:14.006  INFO 10648 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 00:53:18.262  INFO 10648 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:53:18.266 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:53:18.267 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:53:18.271 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:53:18.280  INFO 10648 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:53:18.281  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:53:18.282  INFO 10648 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 00:53:18.282 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:53:18.283 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 00:53:18.287 DEBUG 10648 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:53:18.300 ERROR 10648 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:50) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:55:02.857  INFO 6208 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6208 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:55:02.861  INFO 6208 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:55:02.918  INFO 6208 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:55:02 CST 2018]; root of context hierarchy
2018-07-25 00:55:03.838  INFO 6208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:55:03.880  INFO 6208 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:55:04.657  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.957  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.971  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.976  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:04.986  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:05.005  INFO 6208 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:55:05.470  INFO 6208 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:55:05.498  INFO 6208 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:55:05.499  INFO 6208 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:55:05.506  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:55:05.513  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:55:05.514  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:55:06.559  INFO 6208 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:55:06.687  INFO 6208 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:55:06.687  INFO 6208 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3769 ms
2018-07-25 00:55:06.951  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:55:06.952  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:55:06.952  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:55:06.952  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:55:06.953  INFO 6208 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:55:06.953  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:55:06.953  INFO 6208 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:55:08.325  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:55:08.329  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:55:08.330  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:55:08.330  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:55:08.493  INFO 6208 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d41ba0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@54e3658c, org.springframework.security.web.header.HeaderWriterFilter@9596ce8, org.springframework.web.filter.CorsFilter@7a69c035, org.springframework.security.web.authentication.logout.LogoutFilter@46963479, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c87e6b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5dbdf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@895416d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bbadc, org.springframework.security.web.session.SessionManagementFilter@255eaa6b, org.springframework.security.web.access.ExceptionTranslationFilter@767a014e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a4f272]
2018-07-25 00:55:08.750  INFO 6208 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:55:09.161  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:55:02 CST 2018]; root of context hierarchy
2018-07-25 00:55:09.238  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:55:09.241  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:55:09.242  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:55:09.242  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:55:09.243  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:55:09.245  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:55:09.246  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:55:09.247  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:55:09.247  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:55:09.247  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:55:09.248  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:55:09.249  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:55:09.249  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:55:09.249  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:55:09.250  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:55:09.254  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:55:09.255  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:55:09.255  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:55:09.256  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:55:09.257  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:55:09.258  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:55:09.259  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:55:09.260  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:55:09.263  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:55:09.263  INFO 6208 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:55:09.315  INFO 6208 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:55:09.315  INFO 6208 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:55:09.337  INFO 6208 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:55:11.808  INFO 6208 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:55:12.441  INFO 6208 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:55:12.443  INFO 6208 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:55:12.449  INFO 6208 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:55:12.487  INFO 6208 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:55:12.492  INFO 6208 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.199 seconds (JVM running for 11.785)
2018-07-25 00:55:12.862  INFO 6208 --- [cluster-ClusterId{value='5b5759efb8e4d51840c296c4', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:55:18.375  INFO 6208 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:55:18.376  INFO 6208 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:55:18.396  INFO 6208 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-25 00:55:18.535  INFO 6208 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:18.535  INFO 6208 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:18.535  INFO 6208 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:18.553  INFO 6208 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:55:18.689  INFO 6208 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:55:18.698 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.702 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.708 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.720 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.720 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.720 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.739 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.739 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.748 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.751  INFO 6208 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:18.751  INFO 6208 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:18.756  INFO 6208 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:55:18.776  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:55:18.779  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:55:18.779 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:18.780 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:18.783 DEBUG 6208 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:18.801 DEBUG 6208 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:55:18.801 DEBUG 6208 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:55:18.801 DEBUG 6208 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:55:18.802 DEBUG 6208 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:55:18.806 DEBUG 6208 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:55:18.808 DEBUG 6208 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:55:18.811 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.811 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.813 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.813 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.814 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.816 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.816 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.818 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.819 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.819 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.820 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.821 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.821 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.822 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.822 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.822 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.823 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.823 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.825 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.826 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.827 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.827 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.828 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.828 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.829 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.829 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.830 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.831 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.831 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.832 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.833 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.833 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.834 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:55:18.834 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.837 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.837 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.838 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.840 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.840 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.840 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.841 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.841 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.841 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.842 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.842 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.843 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.843 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.844 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.844 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.845 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.845 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.846 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.847 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.847 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.848 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:55:18.850 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.850 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.852 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.853 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.854 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.854 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.854 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.855 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.855 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.856 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.856 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.857 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.857 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.857 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.858 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.858 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.858 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.859 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.859 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.860 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.861 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:55:18.861 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.862 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.862 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.863 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.863 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.863 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.864 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.865 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.865 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.866 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.866 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.867 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.868 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.868 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.869 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.870 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.870 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.871 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.871 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.871 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:55:18.872 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.873 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.874 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.874 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.875 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.876 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.876 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.877 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.877 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.878 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.879 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.879 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.880 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.883 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:55:18.882 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.883 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.884 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.885 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.886 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.886 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.887 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.888 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.888 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.889 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.890 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.891 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.891 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.892 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.893 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.893 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.894 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.894 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:55:18.895 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.896 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.896 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.897 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.899 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.899 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.899 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.900 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.900 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.901 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.902 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.903 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.904 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.904 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.905 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.905 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.905 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.906 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.907 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.909 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:55:18.910 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.910 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:55:18.911 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:55:18.912 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.912 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.913 DEBUG 6208 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:55:18.913 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:55:18.914 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:55:18.914 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.914  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:18.914  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@17bffed5,{}>
2018-07-25 00:55:18.914  INFO 6208 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:138
2018-07-25 00:55:18.915 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:55:18.916 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:55:18.916 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:55:18.917 DEBUG 6208 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:55:18.918  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:18.918  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:55:18.918  INFO 6208 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:142
2018-07-25 00:55:22.180  INFO 6208 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:22.182 DEBUG 6208 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:22.182 DEBUG 6208 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:22.184 DEBUG 6208 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:22.189  INFO 6208 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:55:22.190  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:55:22.193 DEBUG 6208 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:55:22.193 DEBUG 6208 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:55:22.195 DEBUG 6208 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:55:22.195  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:22.195  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4e32e877, com.yy.hospital.domain.Departs@602a3928, com.yy.hospital.domain.Departs@40b8fbc6, com.yy.hospital.domain.Departs@c1e15f8, com.yy.hospital.domain.Departs@5536255c, com.yy.hospital.domain.Departs@6464a5ab, com.yy.hospital.domain.Departs@6385042a, com.yy.hospital.domain.Departs@1f487c77],{}>
2018-07-25 00:55:22.195  INFO 6208 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:55:22.213  INFO 6208 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:22.213 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:22.213 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:22.215 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:22.221  INFO 6208 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:22.229  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:22.229  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:55:22.229  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:55:22.230  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:55:22.230  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:55:22.234 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:55:22.234 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:55:22.235 DEBUG 6208 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:55:22.236  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:55:22.236  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@71a1425a,{}>
2018-07-25 00:55:22.236  INFO 6208 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 00:55:26.553  INFO 6208 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:26.554 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:26.554 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:26.556 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:26.560  INFO 6208 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:55:26.562  INFO 6208 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:55:26.562 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:55:26.562 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:55:26.596 DEBUG 6208 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:55:26.604 ERROR 6208 --- [http-nio-8086-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:51) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:55:31.877  INFO 6208 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:55:31.878 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:55:31.879 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:55:31.881 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:55:31.887  INFO 6208 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:55:31.888  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:55:31.889  INFO 6208 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:55:31.889 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:55:31.889 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:55:31.892 DEBUG 6208 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:55:31.893 ERROR 6208 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:51) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:56:43.903  INFO 9420 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9420 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:56:43.908  INFO 9420 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:56:43.968  INFO 9420 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:56:43 CST 2018]; root of context hierarchy
2018-07-25 00:56:44.857  INFO 9420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:56:44.898  INFO 9420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:56:45.639  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4c3478a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.007  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e4e240e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.025  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.034  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44c5a16f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.046  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9b6e395] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.077  INFO 9420 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:56:46.739  INFO 9420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:56:46.763  INFO 9420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:56:46.764  INFO 9420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:56:46.768  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:56:46.768  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:56:46.769  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:56:47.811  INFO 9420 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:56:47.951  INFO 9420 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:56:47.952  INFO 9420 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3984 ms
2018-07-25 00:56:48.249  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:56:48.250  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:56:48.250  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:56:48.250  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:56:48.251  INFO 9420 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:56:48.251  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:56:48.252  INFO 9420 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:56:49.919  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:56:49.920  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:56:50.020  INFO 9420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@3639f9af, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 00:56:50.138  INFO 9420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:56:50.422  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 00:56:43 CST 2018]; root of context hierarchy
2018-07-25 00:56:50.488  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:56:50.490  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:56:50.490  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:56:50.491  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:56:50.492  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:56:50.494  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:56:50.494  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:56:50.495  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:56:50.495  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:56:50.495  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:56:50.497  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:56:50.497  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:56:50.497  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:56:50.498  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:56:50.498  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:56:50.501  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:56:50.502  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:56:50.502  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:56:50.503  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:56:50.503  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:56:50.504  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:56:50.504  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:56:50.505  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:56:50.507  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:56:50.508  INFO 9420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:56:50.560  INFO 9420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:56:50.560  INFO 9420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:56:50.578  INFO 9420 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:56:52.991  INFO 9420 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:56:53.650  INFO 9420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:56:53.651  INFO 9420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:56:53.658  INFO 9420 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:56:53.695  INFO 9420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:56:53.698  INFO 9420 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.427 seconds (JVM running for 11.968)
2018-07-25 00:56:54.040  INFO 9420 --- [cluster-ClusterId{value='5b575a54b8e4d524cc26384b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:57:28.035  INFO 9420 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:57:28.035  INFO 9420 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:57:28.056  INFO 9420 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 00:57:28.204  INFO 9420 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:28.204  INFO 9420 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:28.204  INFO 9420 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:28.222  INFO 9420 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:57:28.357  INFO 9420 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:57:28.368 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.368 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.372 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.386 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.386 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.386 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.404 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.404 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.405 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.414  INFO 9420 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:28.415  INFO 9420 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:28.417  INFO 9420 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 00:57:28.437  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 00:57:28.438  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:57:28.438  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:57:28.440  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:57:28.445 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:28.446 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:28.448 DEBUG 9420 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:28.466 DEBUG 9420 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:57:28.467 DEBUG 9420 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:57:28.467 DEBUG 9420 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:57:28.467 DEBUG 9420 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:57:28.470 DEBUG 9420 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:57:28.471 DEBUG 9420 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:57:28.475 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.475 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.476 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.476 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.478 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.478 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.479 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.479 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.480 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.480 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.482 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.483 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.483 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.484 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.484 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.484 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.485 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.486 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.486 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.488 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.488 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.488 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.491 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.492 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.492 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 00:57:28.494 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.495 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.495 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.495 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.497 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.497 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.498 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.500 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.500 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.501 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.501 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.502 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.503 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.503 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.504 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.504 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.505 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.505 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.506 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.506 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.507 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.508 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.508 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.509 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.509 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.509 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.510 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.512 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.513 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.513 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 00:57:28.514 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.514 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.515 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.517 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.517 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.518 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.518 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.519 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.519 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.520 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.521 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.522 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.523 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.523 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.524 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.525 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.525 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.526 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.526 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.526 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.527 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 00:57:28.529 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.529 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.529 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.530 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.530 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.530 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.531 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.532 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.532 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.532 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.533 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.533 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.534 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.534 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.535 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.536 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.536 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.537 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.538 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.538 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.539 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.541 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.542 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.542 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.543 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.546 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.546 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.547 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.549 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.550 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.550 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.551 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.551 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.552 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 00:57:28.553 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.554 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.554 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.554 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.555 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.556 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.557 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.557 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.557 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.558 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.558 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.559 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.560 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.561 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.562 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.563 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.564 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.565 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.565 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.566 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.566 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.567 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.568 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.568 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 00:57:28.569 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.569 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.570 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.570 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.571 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.571 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.572 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.573 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.574 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.575 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.575 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.576 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.578 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.578 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.579 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.579 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.579 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.580 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.581 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.582 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.582 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.582 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.583 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.583 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 00:57:28.584 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.584 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.585 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.586 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.587 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.587 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.589 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.590 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.590 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.591 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.591 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.591 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.593 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.594 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 00:57:28.594 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.595 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.596 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 00:57:28.596 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.596 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 00:57:28.597 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 00:57:28.597 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.598 DEBUG 9420 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 00:57:28.598 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 00:57:28.599 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 00:57:28.599  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:28.599  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@6777311c,{}>
2018-07-25 00:57:28.599 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.599  INFO 9420 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:162
2018-07-25 00:57:28.600 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 00:57:28.601 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 00:57:28.601 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 00:57:28.603 DEBUG 9420 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 00:57:28.603  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:28.603  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 00:57:28.604  INFO 9420 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:167
2018-07-25 00:57:30.094  INFO 9420 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:30.096 DEBUG 9420 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:30.096 DEBUG 9420 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:30.098 DEBUG 9420 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:30.101  INFO 9420 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:30.102  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:30.102  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:57:30.103  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:57:30.103  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:57:30.103  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:57:30.105 DEBUG 9420 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:57:30.105 DEBUG 9420 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:57:30.107 DEBUG 9420 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:57:30.107  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:30.107  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@799127b8, com.yy.hospital.domain.Departs@2b7cd2d2, com.yy.hospital.domain.Departs@7ae430e6, com.yy.hospital.domain.Departs@12c9f0db, com.yy.hospital.domain.Departs@6295a9dd, com.yy.hospital.domain.Departs@2f320d1f, com.yy.hospital.domain.Departs@748a6b1f, com.yy.hospital.domain.Departs@2918127d],{}>
2018-07-25 00:57:30.107  INFO 9420 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:57:30.123  INFO 9420 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:30.124 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:30.124 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:30.126 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:30.132  INFO 9420 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:57:30.142  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:57:30.145 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:57:30.146 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:57:30.147 DEBUG 9420 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:57:30.147  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:57:30.147  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@494b1fbe,{}>
2018-07-25 00:57:30.147  INFO 9420 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 00:57:39.305  INFO 9420 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:57:39.306 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:57:39.306 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:57:39.308 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:57:39.312  INFO 9420 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:57:39.313  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:57:39.314  INFO 9420 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 00:57:39.314 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:57:39.314 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 00:57:39.317 DEBUG 9420 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:57:39.326 ERROR 9420 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:52) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$4654fc98.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 00:59:03.941  INFO 10028 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10028 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 00:59:03.945  INFO 10028 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 00:59:04.004  INFO 10028 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 00:59:04 CST 2018]; root of context hierarchy
2018-07-25 00:59:04.913  INFO 10028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:59:04.956  INFO 10028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 00:59:05.780  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$38fd565a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.057  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d1ab1e94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.071  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.077  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.084  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f67fc146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.105  INFO 10028 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 00:59:06.685  INFO 10028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 00:59:06.709  INFO 10028 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 00:59:06.709  INFO 10028 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 00:59:06.714  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 00:59:06.715  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 00:59:06.715  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 00:59:07.774  INFO 10028 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 00:59:07.916  INFO 10028 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 00:59:07.917  INFO 10028 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3913 ms
2018-07-25 00:59:08.206  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 00:59:08.206  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 00:59:08.207  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 00:59:08.207  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 00:59:08.207  INFO 10028 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 00:59:08.208  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 00:59:08.208  INFO 10028 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 00:59:09.779  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 00:59:09.780  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 00:59:09.781  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 00:59:09.781  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 00:59:09.891  INFO 10028 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee0b4f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@476fe690, org.springframework.security.web.header.HeaderWriterFilter@26f46fa6, org.springframework.web.filter.CorsFilter@2af6f8b5, org.springframework.security.web.authentication.logout.LogoutFilter@5f7989fa, com.yy.hospital.security.JwtAuthenticationTokenFilter@79b84841, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54e3658c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f5ac102, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d41ba0f, org.springframework.security.web.session.SessionManagementFilter@60bbacfc, org.springframework.security.web.access.ExceptionTranslationFilter@2f236de0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bbf841e]
2018-07-25 00:59:10.046  INFO 10028 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:59:10.354  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 00:59:04 CST 2018]; root of context hierarchy
2018-07-25 00:59:10.418  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 00:59:10.420  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 00:59:10.420  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 00:59:10.421  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:59:10.421  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 00:59:10.423  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 00:59:10.423  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:59:10.424  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:59:10.424  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 00:59:10.424  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 00:59:10.425  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 00:59:10.426  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 00:59:10.427  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 00:59:10.427  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 00:59:10.427  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 00:59:10.430  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 00:59:10.431  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 00:59:10.431  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 00:59:10.432  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 00:59:10.432  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 00:59:10.433  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 00:59:10.434  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 00:59:10.435  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 00:59:10.437  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 00:59:10.438  INFO 10028 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 00:59:10.488  INFO 10028 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:59:10.488  INFO 10028 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 00:59:10.507  INFO 10028 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 00:59:13.124  INFO 10028 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 00:59:13.794  INFO 10028 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 00:59:13.796  INFO 10028 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 00:59:13.802  INFO 10028 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 00:59:13.844  INFO 10028 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 00:59:13.848  INFO 10028 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.489 seconds (JVM running for 12.485)
2018-07-25 00:59:14.177  INFO 10028 --- [cluster-ClusterId{value='5b575ae1b8e4d5272c474285', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 00:59:26.975  INFO 10028 --- [http-nio-8086-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 00:59:26.975  INFO 10028 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 00:59:26.997  INFO 10028 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 00:59:27.135  INFO 10028 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:59:27.154  INFO 10028 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 00:59:27.307  INFO 10028 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 00:59:27.315 DEBUG 10028 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:59:27.334 DEBUG 10028 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:59:27.353 DEBUG 10028 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:59:27.362  INFO 10028 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:59:27.384  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:59:27.385  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 00:59:27.385  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 00:59:27.387  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 00:59:27.387  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 00:59:27.403 DEBUG 10028 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 00:59:27.403 DEBUG 10028 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 00:59:27.407 DEBUG 10028 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 00:59:27.408  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:59:27.408  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@23758bbe, com.yy.hospital.domain.Departs@1736f366, com.yy.hospital.domain.Departs@585f99c1, com.yy.hospital.domain.Departs@1f17c698, com.yy.hospital.domain.Departs@103096bf, com.yy.hospital.domain.Departs@30bdfa1c, com.yy.hospital.domain.Departs@1408fc5b, com.yy.hospital.domain.Departs@358adb44],{}>
2018-07-25 00:59:27.408  INFO 10028 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:23
2018-07-25 00:59:27.509  INFO 10028 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:59:27.509 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:59:27.509 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:59:27.512 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:59:27.518  INFO 10028 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:59:27.532  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:59:27.533  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 00:59:27.537 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:59:27.538 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 00:59:27.539 DEBUG 10028 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 00:59:27.540  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 00:59:27.540  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6499ec6f,{}>
2018-07-25 00:59:27.540  INFO 10028 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 00:59:34.888  INFO 10028 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 00:59:34.889 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 00:59:34.890 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 00:59:34.892 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 00:59:34.896  INFO 10028 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 00:59:34.897  INFO 10028 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 00:59:34.897 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 00:59:34.898 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 00:59:34.901 DEBUG 10028 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 00:59:34.957 ERROR 10028 --- [http-nio-8086-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$6e87c84b.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:00:31.380  INFO 10576 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10576 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:00:31.387  INFO 10576 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:00:31.468  INFO 10576 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f36662c: startup date [Wed Jul 25 01:00:31 CST 2018]; root of context hierarchy
2018-07-25 01:00:33.334  INFO 10576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:00:33.386  INFO 10576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:00:34.322  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1a754e3f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.675  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b3231679] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.694  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.702  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@433c6abb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.718  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d7f7b92b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:34.743  INFO 10576 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:00:35.307  INFO 10576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:00:35.341  INFO 10576 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:00:35.341  INFO 10576 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:00:35.348  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:00:35.349  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:00:35.349  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:00:36.417  INFO 10576 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:00:36.634  INFO 10576 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:00:36.634  INFO 10576 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 5167 ms
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:00:37.152  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:00:37.153  INFO 10576 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:00:37.154  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:00:37.154  INFO 10576 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:00:38.383  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:00:38.384  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:00:38.514  INFO 10576 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@435e416c, org.springframework.security.web.context.SecurityContextPersistenceFilter@26c8b296, org.springframework.security.web.header.HeaderWriterFilter@dbed7fd, org.springframework.web.filter.CorsFilter@464767d3, org.springframework.security.web.authentication.logout.LogoutFilter@31aab981, com.yy.hospital.security.JwtAuthenticationTokenFilter@6af310c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10f405ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a1568d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aed311e, org.springframework.security.web.session.SessionManagementFilter@8c0a23f, org.springframework.security.web.access.ExceptionTranslationFilter@5a05dd30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@320be73]
2018-07-25 01:00:38.681  INFO 10576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:00:39.035  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7f36662c: startup date [Wed Jul 25 01:00:31 CST 2018]; root of context hierarchy
2018-07-25 01:00:39.146  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:00:39.149  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:00:39.149  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:00:39.150  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:00:39.152  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:00:39.154  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:00:39.155  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:00:39.156  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:00:39.156  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:00:39.157  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:00:39.159  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:00:39.160  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:00:39.161  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:00:39.161  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:00:39.162  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:00:39.167  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:00:39.168  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:00:39.168  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:00:39.171  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:00:39.172  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:00:39.173  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:00:39.174  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:00:39.175  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:00:39.178  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:00:39.179  INFO 10576 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:00:39.245  INFO 10576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:00:39.245  INFO 10576 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:00:39.275  INFO 10576 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:00:42.021  INFO 10576 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:00:42.967  INFO 10576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:00:42.969  INFO 10576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:00:42.977  INFO 10576 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:00:43.030  INFO 10576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:00:43.037  INFO 10576 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 12.352 seconds (JVM running for 15.871)
2018-07-25 01:00:43.098  INFO 10576 --- [cluster-ClusterId{value='5b575b3ab8e4d52950d0fe90', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:00:50.416  INFO 10576 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:00:50.417  INFO 10576 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:00:50.443  INFO 10576 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2018-07-25 01:00:50.618  INFO 10576 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:00:50.650  INFO 10576 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:00:50.826  INFO 10576 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:00:50.838 DEBUG 10576 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:00:50.859 DEBUG 10576 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:00:50.883 DEBUG 10576 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:00:50.895  INFO 10576 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:00:50.921  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:00:50.921  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:00:50.921  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:00:50.924  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:00:50.924  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:00:50.949 DEBUG 10576 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:00:50.950 DEBUG 10576 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:00:50.955 DEBUG 10576 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:00:50.956  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:00:50.957  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@3db76cb5, com.yy.hospital.domain.Departs@2bd33fde, com.yy.hospital.domain.Departs@4dd34de0, com.yy.hospital.domain.Departs@1fd8eed9, com.yy.hospital.domain.Departs@198ceb53, com.yy.hospital.domain.Departs@2b130a73, com.yy.hospital.domain.Departs@7cf8eebc, com.yy.hospital.domain.Departs@240e79dc],{}>
2018-07-25 01:00:50.957  INFO 10576 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:36
2018-07-25 01:00:51.102  INFO 10576 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:00:51.103 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:00:51.103 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:00:51.105 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:00:51.111  INFO 10576 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:00:51.126  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:00:51.131 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:00:51.132 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:00:51.134 DEBUG 10576 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:01:25.457  INFO 10576 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:01:25.459 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:01:25.459  INFO 10576 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:01:25.459 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:01:25.507 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:01:25.512 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:01:25.512  INFO 10576 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:01:25.512 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:01:25.514  INFO 10576 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:01:25.514 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:01:25.516 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:01:25.520 DEBUG 10576 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:01:25.523 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:01:25.528  INFO 10576 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:01:25.529  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:01:25.534  INFO 10576 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:01:25.533 ERROR 10576 --- [http-nio-8086-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$a49af5d0.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:01:25.535 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:01:25.536 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:01:27.889 DEBUG 10576 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:01:27.891 ERROR 10576 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$a49af5d0.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:01:48.842  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:01:48.843  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@2e8644ca,{}>
2018-07-25 01:01:48.844  INFO 10576 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:57718
2018-07-25 01:03:28.231  INFO 3876 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3876 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:03:28.236  INFO 3876 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:03:28.294  INFO 3876 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:03:28 CST 2018]; root of context hierarchy
2018-07-25 01:03:29.345  INFO 3876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:03:29.390  INFO 3876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:03:30.341  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2de7bd0f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.652  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c6958549] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.669  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.676  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@48c4245d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.685  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$eb6a27fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:30.717  INFO 3876 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:03:31.179  INFO 3876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:03:31.210  INFO 3876 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:03:31.211  INFO 3876 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:03:31.216  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:03:31.217  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:03:31.217  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:03:32.284  INFO 3876 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:03:32.482  INFO 3876 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:03:32.482  INFO 3876 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4188 ms
2018-07-25 01:03:32.837  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:03:32.838  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:03:32.839  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:03:32.839  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:03:32.840  INFO 3876 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:03:32.840  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:03:32.840  INFO 3876 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:03:34.442  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:03:34.443  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:03:34.536  INFO 3876 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5dbdf8, org.springframework.security.web.header.HeaderWriterFilter@70228253, org.springframework.web.filter.CorsFilter@33555e11, org.springframework.security.web.authentication.logout.LogoutFilter@6dd1c3ed, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aac8884, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80bfdc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@7a0e7ecd, org.springframework.security.web.access.ExceptionTranslationFilter@3968bc60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b84841]
2018-07-25 01:03:34.658  INFO 3876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:03:34.962  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:03:28 CST 2018]; root of context hierarchy
2018-07-25 01:03:35.026  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:03:35.028  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:03:35.029  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:03:35.030  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:03:35.031  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:03:35.033  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:03:35.033  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:03:35.034  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:03:35.034  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:03:35.034  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:03:35.036  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:03:35.036  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:03:35.036  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:03:35.037  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:03:35.037  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:03:35.039  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:03:35.040  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:03:35.041  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:03:35.042  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:03:35.043  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:03:35.044  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:03:35.044  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:03:35.044  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:03:35.047  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:03:35.048  INFO 3876 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:03:35.100  INFO 3876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:03:35.100  INFO 3876 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:03:35.119  INFO 3876 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:03:37.706  INFO 3876 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:03:38.373  INFO 3876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:03:38.375  INFO 3876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:03:38.381  INFO 3876 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:03:38.418  INFO 3876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:03:38.422  INFO 3876 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.715 seconds (JVM running for 12.907)
2018-07-25 01:03:38.763  INFO 3876 --- [cluster-ClusterId{value='5b575be9b8e4d50f2440335b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:03:45.769  INFO 3876 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:03:45.769  INFO 3876 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:03:45.793  INFO 3876 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-25 01:03:45.929  INFO 3876 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:03:45.947  INFO 3876 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:03:46.073  INFO 3876 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:03:46.079 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:03:46.095 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:03:46.111 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:03:46.119  INFO 3876 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:03:46.147  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:03:46.147  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:03:46.147  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:03:46.149  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:03:46.150  INFO 3876 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:03:46.154 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:03:46.155 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:03:46.159 DEBUG 3876 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:03:46.169 ERROR 3876 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$4654fc98.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:06:34.905  INFO 9920 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9920 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:06:34.909  INFO 9920 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:06:34.965  INFO 9920 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:06:34 CST 2018]; root of context hierarchy
2018-07-25 01:06:35.885  INFO 9920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:06:35.928  INFO 9920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:06:36.790  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b048e0fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.051  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$48f6a935] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.065  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.073  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bb8855f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.088  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6dcb4be7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.112  INFO 9920 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:06:37.715  INFO 9920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:06:37.738  INFO 9920 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:06:37.738  INFO 9920 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:06:37.742  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:06:37.742  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:06:37.743  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:06:38.794  INFO 9920 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:06:38.937  INFO 9920 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:06:38.937  INFO 9920 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3973 ms
2018-07-25 01:06:39.208  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:06:39.209  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:06:39.210  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:06:39.210  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:06:39.211  INFO 9920 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:06:39.211  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:06:39.211  INFO 9920 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:06:40.674  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:06:40.674  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:06:40.674  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:06:40.675  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:06:40.765  INFO 9920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12fcc71f, org.springframework.security.web.context.SecurityContextPersistenceFilter@26c47874, org.springframework.security.web.header.HeaderWriterFilter@6403e24c, org.springframework.web.filter.CorsFilter@49fbb2c8, org.springframework.security.web.authentication.logout.LogoutFilter@2eae4349, com.yy.hospital.security.JwtAuthenticationTokenFilter@5679e96b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2849434b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@352c44a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed7821, org.springframework.security.web.session.SessionManagementFilter@70228253, org.springframework.security.web.access.ExceptionTranslationFilter@7ff35a3f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a2bcd56]
2018-07-25 01:06:40.886  INFO 9920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:06:41.186  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:06:34 CST 2018]; root of context hierarchy
2018-07-25 01:06:41.252  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:06:41.254  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:06:41.254  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:06:41.255  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:06:41.256  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:06:41.258  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:06:41.258  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:06:41.258  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:06:41.259  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:06:41.259  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:06:41.260  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:06:41.261  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:06:41.261  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:06:41.261  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:06:41.262  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:06:41.264  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:06:41.265  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:06:41.265  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:06:41.266  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:06:41.267  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:06:41.268  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:06:41.268  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:06:41.268  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:06:41.271  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:06:41.271  INFO 9920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:06:41.322  INFO 9920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:06:41.323  INFO 9920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:06:41.341  INFO 9920 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:06:43.766  INFO 9920 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:06:44.433  INFO 9920 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:06:44.435  INFO 9920 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:06:44.441  INFO 9920 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:06:44.479  INFO 9920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:06:44.483  INFO 9920 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.14 seconds (JVM running for 11.836)
2018-07-25 01:06:44.809  INFO 9920 --- [cluster-ClusterId{value='5b575ca3b8e4d526c07c8815', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:06:49.945  INFO 9920 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:06:49.945  INFO 9920 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:06:49.970  INFO 9920 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:06:50.123  INFO 9920 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:50.123  INFO 9920 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:50.123  INFO 9920 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:50.140  INFO 9920 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:06:50.271  INFO 9920 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:06:50.280 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.280 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.284 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.302 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.302 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.302 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.322 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.322 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.322 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.333  INFO 9920 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:50.334  INFO 9920 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:50.334  INFO 9920 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:50.357  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:50.357  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:06:50.358  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:06:50.360  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:06:50.361 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:50.362 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:50.365 DEBUG 9920 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:50.386 DEBUG 9920 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:06:50.387 DEBUG 9920 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:06:50.387 DEBUG 9920 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:06:50.388 DEBUG 9920 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:06:50.392 DEBUG 9920 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:06:50.393 DEBUG 9920 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:06:50.397 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.398 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.397 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.399 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.401 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.402 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.403 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.403 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.403 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.404 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.405 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.406 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.406 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.406 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.407 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.408 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.408 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.410 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.411 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.412 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.412 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.414 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.414 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.414 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.415 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.416 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.418 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.418 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.419 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.419 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.419 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:06:50.421 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.423 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.423 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.423 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.424 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.425 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.427 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.427 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.428 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.428 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.429 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.429 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.431 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.431 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.432 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.435 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.438 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.438 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.438 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.439 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.440 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.441 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.441 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.441 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.443 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.443 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.443 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.444 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:06:50.444 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.444 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.445 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.446 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.446 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.447 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.447 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.447 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.450 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.451 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.452 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.454 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.454 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.454 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.455 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.457 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.458 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.459 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.460 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.461 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.461 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.462 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.462 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.462 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.463 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.464 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.464 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:06:50.465 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.465 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.467 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.468 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.469 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.471 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.472 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.472 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.473 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.474 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.475 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.476 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.477 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.477 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.478 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.478 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.479 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.479 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.479 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.480 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.480 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:06:50.481 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.481 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.482 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.485 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.485 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.488 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.489 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.490 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.491 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.492 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.493 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.493 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.494 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.494 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.495 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.495 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.495 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.496 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.497 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.497 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.498 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.500 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.497 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.500 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.501 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.501 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.502 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.503 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.504 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.504 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.505 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.503 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.507 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.507 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.508 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.508 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.522 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:06:50.522 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.523 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.523 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.524 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.524 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.525 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.525 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.526 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.526 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.527 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.527 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.528 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.529 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.531 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.532 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.532 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.537 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.538 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.539 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.539 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.539 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.540 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.541 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.542 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.542 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.541 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.543 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.544 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:06:50.545 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.546 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.546 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.548 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.548 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.549 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.549 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.549 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.551 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.553 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.553 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.554 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.556 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.556 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.557 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.556 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.559 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.560 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.560 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.562 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.562 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.562 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.563 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.563 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.564 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.565 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.565 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.565 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:06:50.566 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.566 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.568 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.568 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:06:50.569 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.570 DEBUG 9920 --- [http-nio-8086-exec-4] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.571 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:06:50.571  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:50.572  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:06:50.572  INFO 9920 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:214
2018-07-25 01:06:50.572 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:06:50.572 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.574 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:06:50.574 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:06:50.575 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.576 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:06:50.577 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:06:50.577 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.579 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:06:50.579 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:06:50.580 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:06:50.581 DEBUG 9920 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:06:50.582  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:50.582  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@7bb17fab,{}>
2018-07-25 01:06:50.582  INFO 9920 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:224
2018-07-25 01:06:52.410  INFO 9920 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:52.412 DEBUG 9920 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:52.412 DEBUG 9920 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:52.415 DEBUG 9920 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:52.423  INFO 9920 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:52.424  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:06:52.425  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:06:52.430 DEBUG 9920 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:06:52.430 DEBUG 9920 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:06:52.434 DEBUG 9920 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:06:52.435  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:52.435  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@192dcd4d, com.yy.hospital.domain.Departs@500b5733, com.yy.hospital.domain.Departs@1a6d8171, com.yy.hospital.domain.Departs@489d7659, com.yy.hospital.domain.Departs@3fad9da2, com.yy.hospital.domain.Departs@3515e7ab, com.yy.hospital.domain.Departs@43058e71, com.yy.hospital.domain.Departs@608917f6],{}>
2018-07-25 01:06:52.435  INFO 9920 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 01:06:52.456  INFO 9920 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:52.457 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:52.457 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:52.459 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:52.464  INFO 9920 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:06:52.478  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:06:52.484 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:06:52.486 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:06:52.487 DEBUG 9920 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:06:52.488  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:06:52.488  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6c0dbd83,{}>
2018-07-25 01:06:52.488  INFO 9920 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 01:06:56.783  INFO 9920 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:06:56.783 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:06:56.784 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:06:56.785 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:06:56.789  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:06:56.790  INFO 9920 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:06:56.790 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:06:56.790 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:06:56.793 DEBUG 9920 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:06:56.802 ERROR 9920 --- [http-nio-8086-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$84a484e7.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:08:36.516  INFO 10908 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10908 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:08:36.569  INFO 10908 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:08:36.646  INFO 10908 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c46e67a: startup date [Wed Jul 25 01:08:36 CST 2018]; root of context hierarchy
2018-07-25 01:08:37.530  INFO 10908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:08:37.570  INFO 10908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:08:38.161  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d7272804] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.436  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6fd4f03e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.454  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.463  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7bef452c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.479  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$94a992f0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:38.504  INFO 10908 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:08:39.101  INFO 10908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:08:39.142  INFO 10908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:08:39.145  INFO 10908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:08:39.190  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:08:39.191  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:08:39.192  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:08:40.269  INFO 10908 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:08:40.395  INFO 10908 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:08:40.395  INFO 10908 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3750 ms
2018-07-25 01:08:40.617  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:08:40.617  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:08:40.618  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:08:40.618  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:08:40.618  INFO 10908 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:08:40.619  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:08:40.619  INFO 10908 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:08:41.607  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:08:41.608  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:08:41.609  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:08:41.713  INFO 10908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@1c54f32c, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 01:08:41.858  INFO 10908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:08:42.184  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3c46e67a: startup date [Wed Jul 25 01:08:36 CST 2018]; root of context hierarchy
2018-07-25 01:08:42.252  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:08:42.254  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:08:42.255  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:08:42.255  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:08:42.256  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:08:42.259  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:08:42.260  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:08:42.260  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:08:42.261  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:08:42.262  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:08:42.263  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:08:42.264  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:08:42.264  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:08:42.264  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:08:42.265  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:08:42.267  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:08:42.270  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:08:42.270  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:08:42.271  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:08:42.272  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:08:42.273  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:08:42.273  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:08:42.273  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:08:42.276  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:08:42.276  INFO 10908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:08:42.331  INFO 10908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:08:42.331  INFO 10908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:08:42.351  INFO 10908 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:08:44.918  INFO 10908 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:08:45.599  INFO 10908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:08:45.601  INFO 10908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:08:45.607  INFO 10908 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:08:45.649  INFO 10908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:08:45.653  INFO 10908 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.336 seconds (JVM running for 12.004)
2018-07-25 01:08:45.992  INFO 10908 --- [cluster-ClusterId{value='5b575d1cb8e4d52a9c4ae70e', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:08:47.726  INFO 10908 --- [http-nio-8086-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:08:47.727  INFO 10908 --- [http-nio-8086-exec-3] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:08:47.750  INFO 10908 --- [http-nio-8086-exec-3] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:08:47.915  INFO 10908 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:47.915  INFO 10908 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:47.915  INFO 10908 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:47.934  INFO 10908 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:08:48.082  INFO 10908 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:08:48.096 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.096 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.096 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.112 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.112 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.112 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.129 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.129 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.130 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.137  INFO 10908 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:48.140  INFO 10908 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:48.142  INFO 10908 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:48.161  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:48.161  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:08:48.162  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:08:48.164  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:08:48.165 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:48.165 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:48.170 DEBUG 10908 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:08:48.189 DEBUG 10908 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:08:48.193 DEBUG 10908 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:08:48.199 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.199 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.201 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.202 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.203 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.205 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.206 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.206 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.206 DEBUG 10908 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:08:48.207 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.209 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.210 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.211 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.211 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.212 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.213 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.214 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.214 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.216 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.217 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.217 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.214 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.219 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.219 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.221 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.221 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.221 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.222 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.222 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.224 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.224 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.226 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.227 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.226 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.228 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.232 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.233 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.234 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.234 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.235 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:08:48.236 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.237 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.237 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.238 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.238 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.239 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.239 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.240 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.240 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.241 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.241 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.241 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.242 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.243 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.244 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.245 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.246 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.246 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.247 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.248 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.247 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.248 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.250 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.251 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.251 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:08:48.253 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.255 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.255 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.255 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.256 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.256 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.257 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.257 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.258 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.258 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.258 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.259 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.260 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.261 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.261 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.261 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.262 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.263 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.263 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.264 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.264 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.265 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.265 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.266 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.267 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.268 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.268 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.268 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.269 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.269 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:08:48.270 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.271 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.271 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.271 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.272 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.272 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.273 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.273 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.274 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.275 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.275 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.276 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.277 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.277 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.278 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:08:48.280 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.281 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.281 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.282 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.283 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.283 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.284 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.284 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.284 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.285 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.287 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.289 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.289 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.289 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.290 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.290 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.292 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.294 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.295 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.295 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:08:48.296 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.296 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.297 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.298 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.298 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.299 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.300 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.301 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.301 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.302 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.303 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.304 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.305 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.306 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.307 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.308 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.308 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.309 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.310 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.311 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.312 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.312 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.313 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.314 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.314 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.315 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.316 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.317 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:08:48.317 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.318 DEBUG 10908 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.318 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.319 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:08:48.319  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:48.319 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.320  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:08:48.320  INFO 10908 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:159
2018-07-25 01:08:48.322 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:08:48.323 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:08:48.324 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.325 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:08:48.326 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:08:48.326 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.327 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:08:48.328 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:08:48.328 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.329 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:08:48.330 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:08:48.330 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:08:48.331 DEBUG 10908 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:08:48.331  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:48.332  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@1a9a90e2,{}>
2018-07-25 01:08:48.332  INFO 10908 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:171
2018-07-25 01:08:51.035  INFO 10908 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:51.036 DEBUG 10908 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:51.037 DEBUG 10908 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:51.040 DEBUG 10908 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:51.047  INFO 10908 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:08:51.048  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:08:51.054 DEBUG 10908 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:08:51.054 DEBUG 10908 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:08:51.056 DEBUG 10908 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:08:51.057  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:51.057  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@44dbda8, com.yy.hospital.domain.Departs@7662adce, com.yy.hospital.domain.Departs@559d329f, com.yy.hospital.domain.Departs@67c0442d, com.yy.hospital.domain.Departs@e091580, com.yy.hospital.domain.Departs@6d66c552, com.yy.hospital.domain.Departs@51d30bab, com.yy.hospital.domain.Departs@3457dc90],{}>
2018-07-25 01:08:51.057  INFO 10908 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 01:08:51.080  INFO 10908 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:51.080 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:51.080 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:51.082 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:51.088  INFO 10908 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:08:51.097  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:08:51.101 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:08:51.102 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:08:51.104 DEBUG 10908 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:08:51.104  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:08:51.104  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6c0dbd83,{}>
2018-07-25 01:08:51.104  INFO 10908 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 01:08:58.604  INFO 10908 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:08:58.605 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:08:58.605 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:08:58.607 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:08:58.610  INFO 10908 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:08:58.611  INFO 10908 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:08:58.612 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:08:58.612 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:08:58.616 DEBUG 10908 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:08:58.623 ERROR 10908 --- [http-nio-8086-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:11:10.119  INFO 9328 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9328 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:11:10.124  INFO 9328 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:11:10.201  INFO 9328 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:11:10 CST 2018]; root of context hierarchy
2018-07-25 01:11:11.245  INFO 9328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:11:11.286  INFO 9328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:11:11.961  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.255  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.272  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.280  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.290  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.314  INFO 9328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:11:12.860  INFO 9328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:11:12.900  INFO 9328 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:11:12.900  INFO 9328 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:11:12.930  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:11:12.930  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:11:12.931  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:11:14.085  INFO 9328 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:11:14.185  INFO 9328 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:11:14.186  INFO 9328 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3985 ms
2018-07-25 01:11:14.386  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:11:14.387  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:11:14.387  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:11:14.387  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:11:14.388  INFO 9328 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:11:14.388  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:11:14.388  INFO 9328 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:11:15.356  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:11:15.357  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:11:15.357  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:11:15.357  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:11:15.450  INFO 9328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d41ba0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@54e3658c, org.springframework.security.web.header.HeaderWriterFilter@9596ce8, org.springframework.web.filter.CorsFilter@207b7626, org.springframework.security.web.authentication.logout.LogoutFilter@46963479, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c87e6b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5dbdf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@895416d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bbadc, org.springframework.security.web.session.SessionManagementFilter@255eaa6b, org.springframework.security.web.access.ExceptionTranslationFilter@767a014e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a4f272]
2018-07-25 01:11:15.571  INFO 9328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:11:15.915  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a6cb05c: startup date [Wed Jul 25 01:11:10 CST 2018]; root of context hierarchy
2018-07-25 01:11:15.978  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:11:15.980  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:11:15.981  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:11:15.981  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:11:15.982  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:11:15.984  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:11:15.985  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:11:15.986  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:11:15.986  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:11:15.987  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:11:15.987  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:11:15.987  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:11:15.990  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:11:15.991  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:11:15.991  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:11:15.992  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:11:15.992  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:11:15.993  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:11:15.993  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:11:15.994  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:11:15.996  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:11:15.997  INFO 9328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:11:16.046  INFO 9328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:11:16.047  INFO 9328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:11:16.067  INFO 9328 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:11:18.665  INFO 9328 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:11:19.341  INFO 9328 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:11:19.344  INFO 9328 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:11:19.351  INFO 9328 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:11:19.395  INFO 9328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:11:19.399  INFO 9328 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.293 seconds (JVM running for 11.968)
2018-07-25 01:11:19.729  INFO 9328 --- [cluster-ClusterId{value='5b575db6b8e4d524706c0594', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:11:25.231  INFO 9328 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:11:25.232  INFO 9328 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:11:25.255  INFO 9328 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:11:25.445  INFO 9328 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:11:25.469  INFO 9328 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:11:25.636  INFO 9328 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:11:25.642 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:11:25.658 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:11:25.673 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:11:25.683  INFO 9328 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:11:25.709  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:11:25.710  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:11:25.710  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:11:25.712  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:11:25.712  INFO 9328 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:11:25.715 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:11:25.715 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:11:25.719 DEBUG 9328 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:11:25.726 ERROR 9328 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:52) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:14:39.040  INFO 3504 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3504 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:14:39.047  INFO 3504 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:14:39.121  INFO 3504 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:14:39 CST 2018]; root of context hierarchy
2018-07-25 01:14:40.365  INFO 3504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:14:40.413  INFO 3504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:14:40.997  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$539065a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.324  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ec3e2ddf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.361  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.370  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@21325036' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.383  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$1112d091] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.412  INFO 3504 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:14:41.923  INFO 3504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:14:41.952  INFO 3504 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:14:41.953  INFO 3504 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:14:41.965  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:14:41.965  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:14:41.966  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:14:43.029  INFO 3504 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:14:43.169  INFO 3504 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:14:43.169  INFO 3504 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4048 ms
2018-07-25 01:14:43.428  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:14:43.429  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:14:43.429  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:14:43.429  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:14:43.430  INFO 3504 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:14:43.431  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:14:43.431  INFO 3504 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:14:44.807  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:14:44.807  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:14:44.808  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:14:44.975  INFO 3504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d41ba0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@54e3658c, org.springframework.security.web.header.HeaderWriterFilter@9596ce8, org.springframework.web.filter.CorsFilter@28b15470, org.springframework.security.web.authentication.logout.LogoutFilter@46963479, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c87e6b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5dbdf8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@895416d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bbadc, org.springframework.security.web.session.SessionManagementFilter@255eaa6b, org.springframework.security.web.access.ExceptionTranslationFilter@767a014e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a4f272]
2018-07-25 01:14:45.170  INFO 3504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:14:45.484  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:14:39 CST 2018]; root of context hierarchy
2018-07-25 01:14:45.550  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:14:45.552  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:14:45.553  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:14:45.554  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:14:45.554  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:14:45.556  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:14:45.556  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:14:45.557  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:14:45.557  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:14:45.557  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:14:45.559  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:14:45.560  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:14:45.560  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:14:45.561  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:14:45.561  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:14:45.564  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:14:45.565  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:14:45.565  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:14:45.566  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:14:45.567  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:14:45.568  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:14:45.568  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:14:45.568  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:14:45.570  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:14:45.571  INFO 3504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:14:45.623  INFO 3504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:14:45.623  INFO 3504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:14:45.642  INFO 3504 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:14:48.239  INFO 3504 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:14:48.938  INFO 3504 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:14:48.939  INFO 3504 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:14:48.946  INFO 3504 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:14:48.989  INFO 3504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:14:48.993  INFO 3504 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.522 seconds (JVM running for 12.219)
2018-07-25 01:14:49.282  INFO 3504 --- [cluster-ClusterId{value='5b575e88b8e4d50db0549099', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:14:52.500  INFO 3504 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:14:52.501  INFO 3504 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:14:52.530  INFO 3504 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 29 ms
2018-07-25 01:14:52.722  INFO 3504 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:14:52.750  INFO 3504 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:14:52.898  INFO 3504 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:14:52.909 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:14:52.924 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:14:52.941 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:14:52.949  INFO 3504 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:14:52.984  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:14:52.984  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:14:52.984  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:14:52.987  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:14:52.987  INFO 3504 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:14:52.990 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:14:52.991 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:14:52.995 DEBUG 3504 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:14:53.004 ERROR 3504 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:53) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$15a28c6a.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:16:05.059  INFO 4940 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 4940 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:16:05.064  INFO 4940 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:16:05.216  INFO 4940 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e6f74c: startup date [Wed Jul 25 01:16:05 CST 2018]; root of context hierarchy
2018-07-25 01:16:06.205  INFO 4940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:16:06.249  INFO 4940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:16:06.833  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$918df21e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.072  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2a3bba58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.089  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.096  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6de30571' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.107  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4f105d0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.128  INFO 4940 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:16:07.645  INFO 4940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:16:07.678  INFO 4940 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:16:07.679  INFO 4940 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:16:07.704  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:16:07.704  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:16:07.705  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:16:08.752  INFO 4940 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:16:08.888  INFO 4940 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:16:08.888  INFO 4940 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3672 ms
2018-07-25 01:16:09.089  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:16:09.090  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:16:09.090  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:16:09.090  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:16:09.091  INFO 4940 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:16:09.091  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:16:09.091  INFO 4940 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:16:10.028  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:16:10.029  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:16:10.126  INFO 4940 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c3a0032, org.springframework.security.web.context.SecurityContextPersistenceFilter@352c44a8, org.springframework.security.web.header.HeaderWriterFilter@63c12e52, org.springframework.web.filter.CorsFilter@49fbb2c8, org.springframework.security.web.authentication.logout.LogoutFilter@22a6e998, com.yy.hospital.security.JwtAuthenticationTokenFilter@7ceb4478, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a66e580, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6edcad64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fdab70c, org.springframework.security.web.session.SessionManagementFilter@54e3658c, org.springframework.security.web.access.ExceptionTranslationFilter@26f46fa6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d41ba0f]
2018-07-25 01:16:10.256  INFO 4940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:16:10.575  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7e6f74c: startup date [Wed Jul 25 01:16:05 CST 2018]; root of context hierarchy
2018-07-25 01:16:10.639  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:16:10.641  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:16:10.641  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:16:10.642  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:16:10.643  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:16:10.644  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:16:10.645  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:16:10.647  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:16:10.647  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:16:10.648  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:16:10.648  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:16:10.648  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:16:10.651  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:16:10.652  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:16:10.652  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:16:10.653  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:16:10.654  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:16:10.655  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:16:10.656  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:16:10.657  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:16:10.660  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:16:10.661  INFO 4940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:16:10.710  INFO 4940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:16:10.710  INFO 4940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:16:10.729  INFO 4940 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:16:13.224  INFO 4940 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:16:13.896  INFO 4940 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:16:13.898  INFO 4940 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:16:13.905  INFO 4940 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:16:13.947  INFO 4940 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:16:13.952  INFO 4940 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.842 seconds (JVM running for 11.626)
2018-07-25 01:16:14.283  INFO 4940 --- [cluster-ClusterId{value='5b575eddb8e4d5134c5db7e8', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:16:17.511  INFO 4940 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:16:17.512  INFO 4940 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:16:17.535  INFO 4940 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:16:17.675  INFO 4940 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:17.675  INFO 4940 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:17.675  INFO 4940 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:17.693  INFO 4940 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:16:17.832  INFO 4940 --- [http-nio-8086-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:16:17.841 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.842 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.847 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.862 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.862 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.862 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.881 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.881 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.881 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.892  INFO 4940 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:17.892  INFO 4940 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:17.892  INFO 4940 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:16:17.913  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:16:17.915  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:16:17.916 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:17.916 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:17.919 DEBUG 4940 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:17.933 DEBUG 4940 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:16:17.933 DEBUG 4940 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:16:17.934 DEBUG 4940 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:16:17.934 DEBUG 4940 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:16:17.937 DEBUG 4940 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:16:17.937 DEBUG 4940 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:16:17.942 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.942 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.943 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.943 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.944 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.945 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.944 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.946 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.946 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.947 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.948 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.948 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.949 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.949 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.949 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.950 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.951 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.951 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.952 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.954 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.954 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.955 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:16:17.957 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.958 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.959 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.959 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.961 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.961 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.961 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.962 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.962 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.963 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.964 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.964 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.964 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.965 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.965 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.966 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.967 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.968 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.969 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.969 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.970 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.971 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.972 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.972 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.972 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.973 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.973 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:16:17.974 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.974 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.975 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.976 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.976 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.977 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.978 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.978 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.978 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.979 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.980 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.981 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.981 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.984 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.984 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.984 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.985 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.985 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.986 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.986 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.987 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.988 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.989 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.989 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.990 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.990 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:17.991 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.991 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:16:17.991 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:17.992 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.992 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:17.993 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:17.993 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.993 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.994 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.994 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.995 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:17.995 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.996 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.997 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.997 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:16:17.998 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.000 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.002 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.003 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.003 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:16:18.004 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.004 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.005 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.006 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.007 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.008 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.009 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.010 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.010 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.011 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.011 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.012 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.014 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.016 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.017 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.017 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.018 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.019 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.019 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.020 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.021 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.021 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.022 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:16:18.024 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.026 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.028 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.029 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.029 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.030 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.031 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.031 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.032 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.032 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.033 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.033 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.034 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.035 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.035 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.036 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.037 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.037 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.038 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.038 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.039 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.040 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.040 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:16:18.041 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.043 DEBUG 4940 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:16:18.044  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:18.043 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:16:18.044  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@3ff55513,{}>
2018-07-25 01:16:18.044  INFO 4940 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:131
2018-07-25 01:16:18.045 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:16:18.047 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.048 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:16:18.049 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:16:18.049 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:16:18.051 DEBUG 4940 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:16:18.051  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:18.051  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:16:18.051  INFO 4940 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:138
2018-07-25 01:16:20.611  INFO 4940 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:20.614 DEBUG 4940 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:20.615 DEBUG 4940 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:20.618 DEBUG 4940 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:20.622  INFO 4940 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:16:20.623  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:16:20.626 DEBUG 4940 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:16:20.626 DEBUG 4940 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:16:20.628 DEBUG 4940 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:16:20.629  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:20.629  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@717a5f64, com.yy.hospital.domain.Departs@7d34189c, com.yy.hospital.domain.Departs@64017d34, com.yy.hospital.domain.Departs@36499ddc, com.yy.hospital.domain.Departs@15eb750e, com.yy.hospital.domain.Departs@48c66fd7, com.yy.hospital.domain.Departs@27c15326, com.yy.hospital.domain.Departs@5d9c9d7f],{}>
2018-07-25 01:16:20.629  INFO 4940 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:16:20.653  INFO 4940 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:20.653 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:20.654 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:20.655 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:20.660  INFO 4940 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:16:20.672  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:16:20.675 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:16:20.675 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:16:20.677 DEBUG 4940 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:16:20.677  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:16:20.677  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@79c08fae,{}>
2018-07-25 01:16:20.677  INFO 4940 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 01:16:29.513  INFO 4940 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:16:29.514 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:16:29.515 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:16:29.516 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:16:29.520  INFO 4940 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:16:29.521  INFO 4940 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:16:29.521 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:16:29.521 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:16:29.524 DEBUG 4940 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:16:29.534 ERROR 4940 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:18:59.408  INFO 10788 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10788 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:18:59.413  INFO 10788 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:18:59.529  INFO 10788 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:18:59 CST 2018]; root of context hierarchy
2018-07-25 01:19:00.487  INFO 10788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:00.527  INFO 10788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:01.097  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.382  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.398  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.405  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@417d6615' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.416  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:01.445  INFO 10788 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:02.096  INFO 10788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:19:02.162  INFO 10788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:19:02.163  INFO 10788 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:19:02.169  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:19:02.169  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:19:02.170  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:19:03.216  INFO 10788 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:19:03.328  INFO 10788 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:19:03.329  INFO 10788 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3800 ms
2018-07-25 01:19:03.537  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:19:03.537  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:19:03.538  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:19:03.538  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:19:03.539  INFO 10788 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:19:03.539  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:19:03.539  INFO 10788 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:19:04.449  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:19:04.450  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:19:04.547  INFO 10788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c87e6b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@43e9089, org.springframework.security.web.header.HeaderWriterFilter@75ae4a1f, org.springframework.web.filter.CorsFilter@158f9fb7, org.springframework.security.web.authentication.logout.LogoutFilter@7e74a380, com.yy.hospital.security.JwtAuthenticationTokenFilter@77bbadc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352c44a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a06021, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a0032, org.springframework.security.web.session.SessionManagementFilter@476fe690, org.springframework.security.web.access.ExceptionTranslationFilter@d109c4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ee0b4f7]
2018-07-25 01:19:04.702  INFO 10788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:04.989  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:18:59 CST 2018]; root of context hierarchy
2018-07-25 01:19:05.054  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:05.057  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:19:05.058  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:19:05.058  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:19:05.059  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:19:05.061  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:19:05.063  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:05.063  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:05.063  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:19:05.064  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:05.065  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:05.065  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:19:05.066  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:19:05.066  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:19:05.066  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:19:05.069  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:19:05.070  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:19:05.070  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:19:05.071  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:19:05.072  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:05.072  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:19:05.073  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:19:05.073  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:05.076  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:05.076  INFO 10788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:19:05.130  INFO 10788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:05.130  INFO 10788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:05.150  INFO 10788 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:19:07.639  INFO 10788 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:19:08.292  INFO 10788 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:19:08.294  INFO 10788 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:19:08.301  INFO 10788 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:19:08.344  INFO 10788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:19:08.349  INFO 10788 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.947 seconds (JVM running for 11.598)
2018-07-25 01:19:08.701  INFO 10788 --- [cluster-ClusterId{value='5b575f8bb8e4d52a24ebe9eb', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:19:15.169  INFO 10788 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:19:15.169  INFO 10788 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:19:15.196  INFO 10788 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms
2018-07-25 01:19:15.422  INFO 10788 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:19:15.447  INFO 10788 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:19:15.591  INFO 10788 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:19:15.598 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:19:15.614 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:19:15.629 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:19:15.639  INFO 10788 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:19:15.664  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:19:15.664  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:19:15.664  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:19:15.666  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:19:15.666  INFO 10788 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:19:15.669 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:19:15.669 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:19:15.673 DEBUG 10788 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:19:15.681 ERROR 10788 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:19:19.479  INFO 10788 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:19:19.481 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:19:19.481 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:19:19.485 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:19:19.491  INFO 10788 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:19:19.492  INFO 10788 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:19:19.492 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:19:19.493 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:19:19.495 DEBUG 10788 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:19:19.497 ERROR 10788 --- [http-nio-8086-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:19:39.838  INFO 6468 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6468 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:19:39.870  INFO 6468 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:19:39.933  INFO 6468 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 01:19:39 CST 2018]; root of context hierarchy
2018-07-25 01:19:41.023  INFO 6468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:41.068  INFO 6468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:19:41.693  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dea0d1dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.026  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$774e9a17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.044  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.051  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bee18dc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.068  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9c233cc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.096  INFO 6468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:19:42.712  INFO 6468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:19:42.754  INFO 6468 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:19:42.755  INFO 6468 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:19:42.769  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:19:42.769  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:19:42.770  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:19:43.817  INFO 6468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:19:43.949  INFO 6468 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:19:43.949  INFO 6468 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4017 ms
2018-07-25 01:19:44.167  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:19:44.168  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:19:44.168  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:19:44.168  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:19:44.169  INFO 6468 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:19:44.170  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:19:44.170  INFO 6468 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:19:45.092  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:19:45.092  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:19:45.093  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:19:45.191  INFO 6468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59dc36d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@21bd20ee, org.springframework.security.web.header.HeaderWriterFilter@558756be, org.springframework.web.filter.CorsFilter@2ab95cf, org.springframework.security.web.authentication.logout.LogoutFilter@623dcf2a, com.yy.hospital.security.JwtAuthenticationTokenFilter@12fcc71f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@421056e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c5dbdf8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5679e96b, org.springframework.security.web.session.SessionManagementFilter@75ae4a1f, org.springframework.security.web.access.ExceptionTranslationFilter@1effd53c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b200971]
2018-07-25 01:19:45.319  INFO 6468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:45.627  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6025e1b6: startup date [Wed Jul 25 01:19:39 CST 2018]; root of context hierarchy
2018-07-25 01:19:45.705  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:19:45.707  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:19:45.708  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:19:45.709  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:45.709  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:19:45.711  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:19:45.712  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:45.712  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:19:45.712  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:19:45.713  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:45.715  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:19:45.715  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:19:45.716  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:19:45.716  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:19:45.717  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:19:45.720  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:19:45.721  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:19:45.722  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:19:45.723  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:19:45.723  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:45.724  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:19:45.724  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:19:45.725  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:45.727  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:19:45.728  INFO 6468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:19:45.784  INFO 6468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:45.784  INFO 6468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:19:45.806  INFO 6468 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:19:48.292  INFO 6468 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:19:48.936  INFO 6468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:19:48.938  INFO 6468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:19:48.946  INFO 6468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:19:48.983  INFO 6468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:19:48.987  INFO 6468 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.211 seconds (JVM running for 12.078)
2018-07-25 01:19:49.348  INFO 6468 --- [cluster-ClusterId{value='5b575fb4b8e4d51944f70778', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:19:51.396  INFO 6468 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:19:51.397  INFO 6468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:19:51.420  INFO 6468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:19:51.642  INFO 6468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:19:51.665  INFO 6468 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:19:51.815  INFO 6468 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:19:51.821 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:19:51.841 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:19:51.857 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:19:51.867  INFO 6468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:19:51.896  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:19:51.897  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:19:51.897  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:19:51.900  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:19:51.900  INFO 6468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:19:51.905 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:19:51.906 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:19:51.912 DEBUG 6468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:19:51.921 ERROR 6468 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:55) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$918fe05d.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:20:17.517  INFO 10048 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10048 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:20:17.522  INFO 10048 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:20:17.583  INFO 10048 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:20:17 CST 2018]; root of context hierarchy
2018-07-25 01:20:18.492  INFO 10048 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:20:18.536  INFO 10048 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:20:19.510  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$42cc1837] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.767  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$db79e071] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.783  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.790  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@24a298a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.801  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4e8323] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:19.824  INFO 10048 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:20:20.414  INFO 10048 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:20:20.449  INFO 10048 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:20:20.451  INFO 10048 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:20:20.457  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:20:20.458  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:20:20.458  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:20:21.527  INFO 10048 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:20:21.664  INFO 10048 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:20:21.665  INFO 10048 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4082 ms
2018-07-25 01:20:22.033  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:20:22.034  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:20:22.034  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:20:22.035  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:20:22.037  INFO 10048 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:20:22.041  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:20:22.042  INFO 10048 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:20:23.367  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:20:23.368  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:20:23.463  INFO 10048 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f0f7849, org.springframework.security.web.context.SecurityContextPersistenceFilter@65b97f47, org.springframework.security.web.header.HeaderWriterFilter@d109c4f, org.springframework.web.filter.CorsFilter@7a69c035, org.springframework.security.web.authentication.logout.LogoutFilter@3804a9a8, com.yy.hospital.security.JwtAuthenticationTokenFilter@56a4f272, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@476fe690, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cdb2d95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee0b4f7, org.springframework.security.web.session.SessionManagementFilter@421056e5, org.springframework.security.web.access.ExceptionTranslationFilter@2643d762, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5679e96b]
2018-07-25 01:20:23.585  INFO 10048 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:20:23.892  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:20:17 CST 2018]; root of context hierarchy
2018-07-25 01:20:23.962  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:20:23.964  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:20:23.965  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:20:23.965  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:20:23.966  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:20:23.968  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:20:23.968  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:20:23.968  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:20:23.969  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:20:23.969  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:20:23.970  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:20:23.971  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:20:23.971  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:20:23.971  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:20:23.972  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:20:23.974  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:20:23.975  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:20:23.975  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:20:23.977  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:20:23.977  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:20:23.978  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:20:23.978  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:20:23.979  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:20:23.981  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:20:23.982  INFO 10048 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:20:24.031  INFO 10048 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:20:24.032  INFO 10048 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:20:24.051  INFO 10048 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:20:26.540  INFO 10048 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:20:27.217  INFO 10048 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:20:27.219  INFO 10048 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:20:27.225  INFO 10048 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:20:27.265  INFO 10048 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:20:27.269  INFO 10048 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.3 seconds (JVM running for 11.937)
2018-07-25 01:20:27.601  INFO 10048 --- [cluster-ClusterId{value='5b575fdab8e4d527406d61cd', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:20:31.545  INFO 10048 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:20:31.546  INFO 10048 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:20:31.567  INFO 10048 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:20:31.803  INFO 10048 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:20:31.829  INFO 10048 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:20:31.959  INFO 10048 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:20:31.966 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:20:31.981 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:20:31.996 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:20:32.006  INFO 10048 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:20:32.038  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:20:32.038  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:20:32.039  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:20:32.042  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:20:32.042  INFO 10048 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:20:32.048 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:20:32.049 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:20:32.054 DEBUG 10048 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:20:32.067 ERROR 10048 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:54) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$ad678410.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:26:04.942  INFO 5764 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 5764 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:26:04.947  INFO 5764 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:26:05.022  INFO 5764 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:26:05 CST 2018]; root of context hierarchy
2018-07-25 01:26:06.187  INFO 5764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:26:06.230  INFO 5764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:26:06.822  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5fdcdc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.062  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8eab9600] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.078  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.085  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.093  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b38038b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.113  INFO 5764 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:26:07.596  INFO 5764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:26:07.686  INFO 5764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:26:07.687  INFO 5764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:26:07.693  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:26:07.693  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:26:07.694  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:26:08.743  INFO 5764 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:26:08.911  INFO 5764 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:26:08.912  INFO 5764 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3891 ms
2018-07-25 01:26:09.180  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:26:09.180  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:26:09.181  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:26:09.181  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:26:09.182  INFO 5764 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:26:09.182  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:26:09.183  INFO 5764 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:26:10.381  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:26:10.382  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:26:10.382  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:26:10.382  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:26:10.383  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:26:10.384  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:26:10.384  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:26:10.524  INFO 5764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@2849434b, org.springframework.security.web.header.HeaderWriterFilter@4eba373c, org.springframework.web.filter.CorsFilter@5e430c66, org.springframework.security.web.authentication.logout.LogoutFilter@68a4dcc6, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65b97f47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a66e580, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@21bd20ee, org.springframework.security.web.access.ExceptionTranslationFilter@252dc8c4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59dc36d4]
2018-07-25 01:26:10.761  INFO 5764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:26:11.302  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:26:05 CST 2018]; root of context hierarchy
2018-07-25 01:26:11.405  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:26:11.408  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:26:11.408  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:26:11.410  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:26:11.412  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:26:11.418  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:26:11.418  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:26:11.419  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:26:11.419  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:26:11.420  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:26:11.421  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:26:11.423  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:26:11.423  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:26:11.424  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:26:11.424  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:26:11.428  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:26:11.430  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:26:11.431  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:26:11.434  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:26:11.434  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:26:11.436  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:26:11.436  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:26:11.437  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:26:11.441  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:26:11.442  INFO 5764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:26:11.528  INFO 5764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:26:11.529  INFO 5764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:26:11.566  INFO 5764 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:26:15.554  INFO 5764 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:26:16.656  INFO 5764 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:26:16.658  INFO 5764 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:26:16.670  INFO 5764 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:26:16.702  INFO 5764 --- [cluster-ClusterId{value='5b576137b8e4d51684b3c09f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:26:16.733  INFO 5764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:26:16.739  INFO 5764 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 12.553 seconds (JVM running for 17.676)
2018-07-25 01:26:20.522  INFO 5764 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:26:20.523  INFO 5764 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:26:20.546  INFO 5764 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 01:26:20.678  INFO 5764 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:26:20.694  INFO 5764 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:26:20.840  INFO 5764 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:26:20.846 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:26:20.862 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:26:20.878 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:26:20.888  INFO 5764 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:26:20.917  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:26:20.917  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:26:20.917  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:26:20.919  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:26:20.920  INFO 5764 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:26:20.923 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:26:20.924 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:26:20.927 DEBUG 5764 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:26:20.935 ERROR 5764 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:58) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$88a8009b.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 01:27:22.369  INFO 8016 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8016 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:27:22.375  INFO 8016 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:27:22.438  INFO 8016 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@38425407: startup date [Wed Jul 25 01:27:22 CST 2018]; root of context hierarchy
2018-07-25 01:27:23.371  INFO 8016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:27:23.402  INFO 8016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:27:23.844  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3ce6a74b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.019  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d5946f85] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.030  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.034  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@14151bc5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.041  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$fa691237] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.061  INFO 8016 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:27:24.441  INFO 8016 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:27:24.469  INFO 8016 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:27:24.469  INFO 8016 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:27:24.474  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:27:24.475  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:27:24.475  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:27:25.526  INFO 8016 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:27:25.652  INFO 8016 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:27:25.653  INFO 8016 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3215 ms
2018-07-25 01:27:25.851  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:27:25.852  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:27:25.852  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:27:25.852  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:27:25.853  INFO 8016 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:27:25.853  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:27:25.853  INFO 8016 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:27:26.777  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:27:26.778  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:27:26.778  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:27:26.778  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:27:26.867  INFO 8016 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd64ee8, org.springframework.security.web.context.SecurityContextPersistenceFilter@767a014e, org.springframework.security.web.header.HeaderWriterFilter@5fa23c, org.springframework.web.filter.CorsFilter@1ff339c5, org.springframework.security.web.authentication.logout.LogoutFilter@2f5ac102, com.yy.hospital.security.JwtAuthenticationTokenFilter@620c8641, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3968bc60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@421056e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f1d0bbc, org.springframework.security.web.session.SessionManagementFilter@6403e24c, org.springframework.security.web.access.ExceptionTranslationFilter@1229a2b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@625d9132]
2018-07-25 01:27:26.988  INFO 8016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:27:27.293  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@38425407: startup date [Wed Jul 25 01:27:22 CST 2018]; root of context hierarchy
2018-07-25 01:27:27.358  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:27:27.360  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:27:27.361  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:27:27.361  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:27:27.362  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:27:27.364  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:27:27.364  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:27:27.364  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:27:27.365  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:27:27.365  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:27:27.367  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:27:27.367  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:27:27.367  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:27:27.368  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:27:27.368  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:27:27.370  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:27:27.371  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:27:27.372  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:27:27.373  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:27:27.373  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:27:27.374  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:27:27.374  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:27:27.375  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:27:27.377  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:27:27.378  INFO 8016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:27:27.427  INFO 8016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:27:27.427  INFO 8016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:27:27.445  INFO 8016 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:27:29.970  INFO 8016 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:27:30.635  INFO 8016 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:27:30.637  INFO 8016 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:27:30.645  INFO 8016 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:27:30.682  INFO 8016 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:27:30.686  INFO 8016 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.869 seconds (JVM running for 11.967)
2018-07-25 01:27:31.023  INFO 8016 --- [cluster-ClusterId{value='5b576181b8e4d51f50ec18c3', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:27:33.626  INFO 8016 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:27:33.626  INFO 8016 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:27:33.651  INFO 8016 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:27:33.831  INFO 8016 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:27:33.864  INFO 8016 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:27:34.002  INFO 8016 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:27:34.008 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:27:34.023 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:27:34.038 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:27:34.049  INFO 8016 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:27:34.079  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:27:34.079  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:27:34.079  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:27:34.080  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:27:34.081  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:27:34.083 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:27:34.084 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:27:34.088 DEBUG 8016 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:27:34.090  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:27:34.091  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6a0a43e7,{}>
2018-07-25 01:27:34.091  INFO 8016 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 01:28:08.407  INFO 8016 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:28:08.409 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:28:08.409 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:28:08.411 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:28:08.416  INFO 8016 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:28:08.417  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:28:08.418  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 3]
2018-07-25 01:28:08.418 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:28:08.418 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-16(Date)
2018-07-25 01:28:08.425 DEBUG 8016 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:28:08.426  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:28:08.426  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@67577f99,{}>
2018-07-25 01:28:08.426  INFO 8016 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:9
2018-07-25 01:28:58.970  INFO 11220 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 11220 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:28:58.974  INFO 11220 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:28:59.041  INFO 11220 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:28:59 CST 2018]; root of context hierarchy
2018-07-25 01:28:59.994  INFO 11220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:29:00.043  INFO 11220 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:29:00.587  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6cd5e6c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.804  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$583aefc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.818  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.824  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@489543a6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.830  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2a5851ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:00.848  INFO 11220 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:29:01.323  INFO 11220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:29:01.354  INFO 11220 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:29:01.355  INFO 11220 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:29:01.360  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:29:01.360  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:29:01.361  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:29:02.415  INFO 11220 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:29:02.532  INFO 11220 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:29:02.532  INFO 11220 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3492 ms
2018-07-25 01:29:02.742  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:29:02.742  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:29:02.743  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:29:02.743  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:29:02.744  INFO 11220 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:29:02.744  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:29:02.744  INFO 11220 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:29:03.692  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:29:03.693  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:29:03.693  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:29:03.788  INFO 11220 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a2bcd56, org.springframework.security.web.context.SecurityContextPersistenceFilter@70228253, org.springframework.security.web.header.HeaderWriterFilter@252dc8c4, org.springframework.web.filter.CorsFilter@331a9c72, org.springframework.security.web.authentication.logout.LogoutFilter@3e33d73e, com.yy.hospital.security.JwtAuthenticationTokenFilter@68d7a2df, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21bd20ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54e3658c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59dc36d4, org.springframework.security.web.session.SessionManagementFilter@227a47, org.springframework.security.web.access.ExceptionTranslationFilter@433348bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a9f023e]
2018-07-25 01:29:03.916  INFO 11220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:29:04.230  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:28:59 CST 2018]; root of context hierarchy
2018-07-25 01:29:04.294  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:29:04.296  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:29:04.296  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:29:04.297  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:29:04.298  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:29:04.299  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:29:04.300  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:29:04.302  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:29:04.302  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:29:04.302  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:29:04.303  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:29:04.303  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:29:04.306  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:29:04.307  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:29:04.307  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:29:04.308  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:29:04.308  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:29:04.309  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:29:04.310  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:29:04.310  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:29:04.312  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:29:04.313  INFO 11220 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:29:04.361  INFO 11220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:29:04.361  INFO 11220 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:29:04.379  INFO 11220 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:29:06.909  INFO 11220 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:29:07.548  INFO 11220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:29:07.549  INFO 11220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:29:07.556  INFO 11220 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:29:07.596  INFO 11220 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:29:07.600  INFO 11220 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.624 seconds (JVM running for 11.381)
2018-07-25 01:29:07.946  INFO 11220 --- [cluster-ClusterId{value='5b5761e2b8e4d52bd4e2d25f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:29:17.927  INFO 11220 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:29:17.927  INFO 11220 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:29:17.952  INFO 11220 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
2018-07-25 01:29:18.086  INFO 11220 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:29:18.109  INFO 11220 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:29:18.238  INFO 11220 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:29:18.245 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:29:18.267 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:29:18.284 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:29:18.293  INFO 11220 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:29:18.328  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:29:18.328  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:29:18.328  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:29:18.332  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:29:18.333  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 4]
2018-07-25 01:29:18.339 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:29:18.340 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-18(Date)
2018-07-25 01:29:18.345 DEBUG 11220 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:29:18.347  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:29:18.347  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@21e0ad0,{}>
2018-07-25 01:29:18.347  INFO 11220 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:19
2018-07-25 01:30:01.893  INFO 11220 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:30:01.894 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:30:01.894 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:30:01.897 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:30:01.902  INFO 11220 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:30:01.903  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 5]
2018-07-25 01:30:01.904 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:30:01.904 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-10(Date)
2018-07-25 01:30:01.907 DEBUG 11220 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 2
2018-07-25 01:30:01.908  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:30:01.908  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5a7b6a18,{}>
2018-07-25 01:30:01.908  INFO 11220 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 01:31:03.096  INFO 9444 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9444 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:31:03.100  INFO 9444 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:31:03.157  INFO 9444 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:31:03 CST 2018]; root of context hierarchy
2018-07-25 01:31:04.276  INFO 9444 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:31:04.338  INFO 9444 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:31:05.124  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bce85e13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.462  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5596264d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.482  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.494  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5aae8eb5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.510  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7a6ac8ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.558  INFO 9444 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:31:05.908  INFO 9444 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:31:05.939  INFO 9444 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:31:05.939  INFO 9444 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:31:05.945  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:31:05.945  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:31:05.945  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:31:07.009  INFO 9444 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:31:07.193  INFO 9444 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:31:07.193  INFO 9444 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4036 ms
2018-07-25 01:31:07.467  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:31:07.468  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:31:07.468  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:31:07.469  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:31:07.470  INFO 9444 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:31:07.470  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:31:07.470  INFO 9444 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:31:08.901  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:31:08.902  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:31:09.007  INFO 9444 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a9f023e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2643d762, org.springframework.security.web.header.HeaderWriterFilter@1effd53c, org.springframework.web.filter.CorsFilter@28b15470, org.springframework.security.web.authentication.logout.LogoutFilter@80bfdc6, com.yy.hospital.security.JwtAuthenticationTokenFilter@c27a3a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75ae4a1f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@255eaa6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b200971, org.springframework.security.web.session.SessionManagementFilter@26dc9bd5, org.springframework.security.web.access.ExceptionTranslationFilter@10a0fe30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@620c8641]
2018-07-25 01:31:09.142  INFO 9444 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:31:09.449  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:31:03 CST 2018]; root of context hierarchy
2018-07-25 01:31:09.514  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:31:09.516  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:31:09.517  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:31:09.517  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:31:09.518  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:31:09.520  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:31:09.521  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:31:09.522  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:31:09.523  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:31:09.523  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:31:09.523  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:31:09.524  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:31:09.526  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:31:09.527  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:31:09.528  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:31:09.529  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:31:09.530  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:31:09.531  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:31:09.532  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:31:09.533  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:31:09.535  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:31:09.536  INFO 9444 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:31:09.584  INFO 9444 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:31:09.584  INFO 9444 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:31:09.605  INFO 9444 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:31:12.162  INFO 9444 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:31:12.802  INFO 9444 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:31:12.804  INFO 9444 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:31:12.810  INFO 9444 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:31:12.851  INFO 9444 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:31:12.855  INFO 9444 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.243 seconds (JVM running for 13.101)
2018-07-25 01:31:13.223  INFO 9444 --- [cluster-ClusterId{value='5b576260b8e4d524e4e848c9', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:31:21.211  INFO 9444 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:31:21.211  INFO 9444 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:31:21.237  INFO 9444 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:31:21.388  INFO 9444 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:31:21.405  INFO 9444 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:31:21.542  INFO 9444 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:31:21.548 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:31:21.564 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:31:21.583 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:31:21.595  INFO 9444 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:31:21.622  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:31:21.623  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:31:21.623  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:31:21.626  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:31:21.627  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:31:21.630 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:31:21.630 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:31:21.635 DEBUG 9444 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:31:21.637  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:31:21.637  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@71799446,{}>
2018-07-25 01:31:21.637  INFO 9444 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:14
2018-07-25 01:32:34.311  INFO 3060 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 3060 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:32:34.315  INFO 3060 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:32:34.375  INFO 3060 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:32:34 CST 2018]; root of context hierarchy
2018-07-25 01:32:35.228  INFO 3060 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:32:35.260  INFO 3060 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:32:35.697  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b048e0fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.870  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$48f6a935] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.880  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.884  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4bb8855f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.891  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$6dcb4be7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:35.906  INFO 3060 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:32:36.242  INFO 3060 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:32:36.265  INFO 3060 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:32:36.266  INFO 3060 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:32:36.271  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:32:36.272  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:32:36.272  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:32:37.322  INFO 3060 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:32:37.457  INFO 3060 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:32:37.458  INFO 3060 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3083 ms
2018-07-25 01:32:37.660  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:32:37.660  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:32:37.661  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:32:37.661  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:32:37.662  INFO 3060 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:32:37.662  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:32:37.662  INFO 3060 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:32:38.599  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:32:38.600  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:32:38.700  INFO 3060 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12fcc71f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3968bc60, org.springframework.security.web.header.HeaderWriterFilter@433348bc, org.springframework.web.filter.CorsFilter@3c7db3ca, org.springframework.security.web.authentication.logout.LogoutFilter@895416d, com.yy.hospital.security.JwtAuthenticationTokenFilter@5679e96b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227a47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60bbacfc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed7821, org.springframework.security.web.session.SessionManagementFilter@4eba373c, org.springframework.security.web.access.ExceptionTranslationFilter@46c269e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@277b8fa4]
2018-07-25 01:32:38.835  INFO 3060 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:32:39.148  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:32:34 CST 2018]; root of context hierarchy
2018-07-25 01:32:39.216  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:32:39.218  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:32:39.219  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:32:39.219  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:32:39.220  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:32:39.222  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:32:39.222  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:32:39.222  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:32:39.223  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:32:39.223  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:32:39.224  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:32:39.225  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:32:39.228  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:32:39.229  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:32:39.230  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:32:39.231  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:32:39.231  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:32:39.232  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:32:39.232  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:32:39.233  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:32:39.235  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:32:39.236  INFO 3060 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:32:39.286  INFO 3060 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:32:39.286  INFO 3060 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:32:39.306  INFO 3060 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:32:41.920  INFO 3060 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:32:42.634  INFO 3060 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:32:42.636  INFO 3060 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:32:42.645  INFO 3060 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:32:42.684  INFO 3060 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:32:42.689  INFO 3060 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.327 seconds (JVM running for 11.064)
2018-07-25 01:32:42.990  INFO 3060 --- [cluster-ClusterId{value='5b5762b9b8e4d50bf4bca98d', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:32:50.370  INFO 3060 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:32:50.371  INFO 3060 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:32:50.392  INFO 3060 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:32:50.528  INFO 3060 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:32:50.546  INFO 3060 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:32:50.678  INFO 3060 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:32:50.684 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:32:50.703 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:32:50.720 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:32:50.729  INFO 3060 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:32:50.756  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:32:50.757  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:32:50.757  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:32:50.758  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:32:50.759  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:32:50.762 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:32:50.763 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:32:50.768 DEBUG 3060 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:32:50.770  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:32:50.771  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@58a3f2ef,{}>
2018-07-25 01:32:50.771  INFO 3060 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-25 01:34:49.525  INFO 9296 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9296 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:34:49.532  INFO 9296 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:34:49.657  INFO 9296 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:34:49 CST 2018]; root of context hierarchy
2018-07-25 01:34:51.020  INFO 9296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:34:51.057  INFO 9296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:34:51.619  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$38fd565a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.870  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d1ab1e94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.888  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.893  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4a29f290' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.899  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f67fc146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:51.920  INFO 9296 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:34:52.582  INFO 9296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:34:52.616  INFO 9296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:34:52.616  INFO 9296 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:34:52.637  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:34:52.638  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:34:52.646  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:34:53.701  INFO 9296 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:34:53.822  INFO 9296 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:34:53.822  INFO 9296 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4165 ms
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:34:54.031  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:34:54.032  INFO 9296 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:34:54.033  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:34:54.033  INFO 9296 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:34:54.984  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:34:54.985  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:34:54.985  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:34:54.985  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:34:55.087  INFO 9296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee0b4f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@476fe690, org.springframework.security.web.header.HeaderWriterFilter@26f46fa6, org.springframework.web.filter.CorsFilter@17620725, org.springframework.security.web.authentication.logout.LogoutFilter@5f7989fa, com.yy.hospital.security.JwtAuthenticationTokenFilter@79b84841, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54e3658c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f5ac102, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d41ba0f, org.springframework.security.web.session.SessionManagementFilter@60bbacfc, org.springframework.security.web.access.ExceptionTranslationFilter@2f236de0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bbf841e]
2018-07-25 01:34:55.227  INFO 9296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:34:55.513  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:34:49 CST 2018]; root of context hierarchy
2018-07-25 01:34:55.577  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:34:55.579  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:34:55.579  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:34:55.580  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:34:55.582  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:34:55.583  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:34:55.584  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:34:55.584  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:34:55.584  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:34:55.585  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:34:55.586  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:34:55.586  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:34:55.587  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:34:55.587  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:34:55.588  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:34:55.590  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:34:55.591  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:34:55.591  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:34:55.592  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:34:55.593  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:34:55.593  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:34:55.594  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:34:55.594  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:34:55.596  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:34:55.597  INFO 9296 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:34:55.646  INFO 9296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:34:55.646  INFO 9296 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:34:55.664  INFO 9296 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:34:58.377  INFO 9296 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:34:59.009  INFO 9296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:34:59.011  INFO 9296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:34:59.017  INFO 9296 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:34:59.054  INFO 9296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:34:59.058  INFO 9296 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.25 seconds (JVM running for 11.977)
2018-07-25 01:34:59.424  INFO 9296 --- [cluster-ClusterId{value='5b576342b8e4d524500d11f7', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:35:08.413  INFO 9296 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:35:08.414  INFO 9296 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:35:08.439  INFO 9296 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:35:08.578  INFO 9296 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:35:08.597  INFO 9296 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:35:08.738  INFO 9296 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:35:08.746 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:35:08.763 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:35:08.779 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:35:08.788  INFO 9296 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:35:08.818  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:35:08.818  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:35:08.819  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:35:08.821  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:35:08.821  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:35:08.824 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:35:08.825 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:35:08.829 DEBUG 9296 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:35:08.830  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:35:08.831  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7ae364b3,{}>
2018-07-25 01:35:08.831  INFO 9296 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:13
2018-07-25 01:35:44.746  INFO 10720 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 10720 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:35:44.750  INFO 10720 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:35:44.820  INFO 10720 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:35:44 CST 2018]; root of context hierarchy
2018-07-25 01:35:45.785  INFO 10720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:35:45.824  INFO 10720 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:35:46.401  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4c6922b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.787  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e516eaf3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.803  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.810  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@14151bc5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.817  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9eb8da5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:46.839  INFO 10720 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:35:47.444  INFO 10720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:35:47.481  INFO 10720 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:35:47.481  INFO 10720 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:35:47.488  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:35:47.489  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:35:47.490  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:35:48.530  INFO 10720 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:35:48.642  INFO 10720 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:35:48.642  INFO 10720 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3822 ms
2018-07-25 01:35:48.848  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:35:48.849  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:35:48.849  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:35:48.849  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:35:48.850  INFO 10720 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:35:48.850  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:35:48.850  INFO 10720 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:35:49.832  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:35:49.833  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:35:49.934  INFO 10720 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e7ab390, org.springframework.security.web.context.SecurityContextPersistenceFilter@2643d762, org.springframework.security.web.header.HeaderWriterFilter@1effd53c, org.springframework.web.filter.CorsFilter@16ed445, org.springframework.security.web.authentication.logout.LogoutFilter@a66e580, com.yy.hospital.security.JwtAuthenticationTokenFilter@625d9132, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f236de0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70228253, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77774571, org.springframework.security.web.session.SessionManagementFilter@26dc9bd5, org.springframework.security.web.access.ExceptionTranslationFilter@10a0fe30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26cb5207]
2018-07-25 01:35:50.074  INFO 10720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:35:50.404  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:35:44 CST 2018]; root of context hierarchy
2018-07-25 01:35:50.469  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:35:50.472  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:35:50.472  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:35:50.473  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:35:50.474  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:35:50.475  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:35:50.475  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:35:50.476  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:35:50.476  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:35:50.476  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:35:50.478  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:35:50.478  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:35:50.478  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:35:50.479  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:35:50.479  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:35:50.482  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:35:50.482  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:35:50.483  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:35:50.484  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:35:50.484  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:35:50.485  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:35:50.485  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:35:50.486  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:35:50.490  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:35:50.490  INFO 10720 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:35:50.545  INFO 10720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:35:50.545  INFO 10720 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:35:50.564  INFO 10720 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:35:53.090  INFO 10720 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:35:53.746  INFO 10720 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:35:53.748  INFO 10720 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:35:53.755  INFO 10720 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:35:53.792  INFO 10720 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:35:53.796  INFO 10720 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.59 seconds (JVM running for 12.358)
2018-07-25 01:35:54.131  INFO 10720 --- [cluster-ClusterId{value='5b576379b8e4d529e0a982dc', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:36:02.336  INFO 10720 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:36:02.337  INFO 10720 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:36:02.360  INFO 10720 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 23 ms
2018-07-25 01:36:02.499  INFO 10720 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:36:02.517  INFO 10720 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:36:02.658  INFO 10720 --- [http-nio-8086-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:36:02.668 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:36:02.686 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:36:02.703 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:36:02.714  INFO 10720 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:36:02.739  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:36:02.739  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:36:02.740  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:36:02.741  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:36:02.741  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:36:02.744 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:36:02.745 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:36:02.748 DEBUG 10720 --- [http-nio-8086-exec-1] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:36:02.750  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:36:02.750  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@34c6dfb0,{}>
2018-07-25 01:36:02.750  INFO 10720 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-25 01:38:10.826  INFO 8468 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8468 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:38:10.830  INFO 8468 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:38:10.941  INFO 8468 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:38:10 CST 2018]; root of context hierarchy
2018-07-25 01:38:12.145  INFO 8468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:38:12.180  INFO 8468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:38:12.660  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dea0d1dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.828  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$774e9a17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.841  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.846  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7bef452c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.854  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9c233cc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:12.871  INFO 8468 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:38:13.242  INFO 8468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:38:13.265  INFO 8468 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:38:13.266  INFO 8468 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:38:13.271  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:38:13.271  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:38:13.272  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:38:14.313  INFO 8468 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:38:14.441  INFO 8468 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:38:14.441  INFO 8468 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3500 ms
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:38:14.672  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:38:14.673  INFO 8468 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:38:14.673  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:38:14.673  INFO 8468 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:38:15.615  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:38:15.616  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:38:15.712  INFO 8468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59dc36d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@21bd20ee, org.springframework.security.web.header.HeaderWriterFilter@558756be, org.springframework.web.filter.CorsFilter@6087d8b, org.springframework.security.web.authentication.logout.LogoutFilter@623dcf2a, com.yy.hospital.security.JwtAuthenticationTokenFilter@12fcc71f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@421056e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c5dbdf8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5679e96b, org.springframework.security.web.session.SessionManagementFilter@75ae4a1f, org.springframework.security.web.access.ExceptionTranslationFilter@1effd53c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b200971]
2018-07-25 01:38:15.846  INFO 8468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:38:16.242  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:38:10 CST 2018]; root of context hierarchy
2018-07-25 01:38:16.334  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:38:16.337  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:38:16.338  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:38:16.339  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:38:16.340  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:38:16.342  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:38:16.342  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:38:16.343  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:38:16.343  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:38:16.344  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:38:16.345  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:38:16.346  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:38:16.346  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:38:16.347  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:38:16.347  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:38:16.351  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:38:16.353  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:38:16.353  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:38:16.355  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:38:16.356  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:38:16.357  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:38:16.358  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:38:16.358  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:38:16.361  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:38:16.362  INFO 8468 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:38:16.419  INFO 8468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:38:16.419  INFO 8468 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:38:16.439  INFO 8468 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:38:19.086  INFO 8468 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:38:19.759  INFO 8468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:38:19.760  INFO 8468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:38:19.767  INFO 8468 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:38:19.807  INFO 8468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:38:19.812  INFO 8468 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.377 seconds (JVM running for 12.511)
2018-07-25 01:38:20.137  INFO 8468 --- [cluster-ClusterId{value='5b57640bb8e4d52114773cf6', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:38:21.817  INFO 8468 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:38:21.817  INFO 8468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:38:21.839  INFO 8468 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
2018-07-25 01:38:21.977  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:21.977  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:21.978  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:21.995  INFO 8468 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:38:22.130  INFO 8468 --- [http-nio-8086-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:38:22.141 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.141 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.143 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.162 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.162 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.162 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.181 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.181 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.181 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.191  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:22.191  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:22.191  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:38:22.213  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:38:22.215 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:22.216 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:38:22.216  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:38:22.219 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:38:22.237 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:38:22.241 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:38:22.242 DEBUG 8468 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.247 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.248 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.249 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.249 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.249 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.250 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.250 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.251 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.251 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.252 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.254 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.254 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.255 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.255 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.256 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.256 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.257 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.257 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.258 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:38:22.260 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.261 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.261 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.262 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.263 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.264 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.264 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.265 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.265 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.266 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.267 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.267 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.268 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.268 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.269 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.270 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.270 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.270 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.271 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.271 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.271 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.272 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.272 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.273 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.273 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.274 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.275 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.275 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:38:22.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.278 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.278 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.279 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.280 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.281 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.281 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.282 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.282 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.282 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.283 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.284 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.285 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.286 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.287 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.287 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.287 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.289 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.289 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.290 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.290 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:38:22.291 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.292 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.292 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.294 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.294 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.294 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.295 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.295 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.296 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.296 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.296 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.297 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.297 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.299 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.299 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.300 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.301 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.302 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.302 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.302 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.303 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.303 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.304 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.304 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.304 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.305 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.306 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.306 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.307 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.307 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.307 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.341 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.342 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.342 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:38:22.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.345 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.345 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.346 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.346 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.347 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.348 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.349 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.349 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.351 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.351 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.352 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.354 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.355 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.355 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:38:22.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.358 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.358 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.358 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.359 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.359 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.359 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.360 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.360 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.361 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.362 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.362 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.363 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.364 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.364 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.365 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:38:22.367 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.369 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.370 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.370 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.371 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.371 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.372 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.373 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.373 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.374 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.375 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.375 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.376 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.378 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.379 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.379 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.381 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.382 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.382 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.383 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.384 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.384 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.384 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.385 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.385 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.385 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.386 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:38:22.387 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.387 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:38:22.387 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.388 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.389 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:38:22.389 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:38:22.389 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:38:22.390 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:38:22.390  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:22.390  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:38:22.390  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:177
2018-07-25 01:38:22.391 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:38:22.392  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:22.392  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5bcae0c0,{}>
2018-07-25 01:38:22.392  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:179
2018-07-25 01:38:26.586  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:26.588 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:26.588 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:26.590 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:26.598  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:38:26.599  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:38:26.602 DEBUG 8468 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:38:26.602 DEBUG 8468 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:38:26.604 DEBUG 8468 --- [http-nio-8086-exec-8] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:38:26.604  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:26.604  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@424ab6d8, com.yy.hospital.domain.Departs@521ba1ff, com.yy.hospital.domain.Departs@2c75babc, com.yy.hospital.domain.Departs@4ea5dab8, com.yy.hospital.domain.Departs@594e59c2, com.yy.hospital.domain.Departs@56551f4d, com.yy.hospital.domain.Departs@57f4ef61, com.yy.hospital.domain.Departs@37e48f3d],{}>
2018-07-25 01:38:26.604  INFO 8468 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 01:38:26.622  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:26.623 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:26.623 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:26.625 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:26.631  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:26.639  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:26.639  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:38:26.640  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:38:26.640  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:38:26.640  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:38:26.644 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:38:26.644 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:38:26.646 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:38:26.646  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:26.646  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@184d854f,{}>
2018-07-25 01:38:26.646  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 01:38:37.474  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:38:37.475 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:38:37.475 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:38:37.477 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:38:37.480  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:38:37.482  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:38:37.482 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:38:37.482 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:38:37.487 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:38:37.488  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:38:37.488  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@33cf29bb,{}>
2018-07-25 01:38:37.488  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:40:18.265  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:40:18.266 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:40:18.266 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:40:18.268 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:40:18.272  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:40:18.278  WARN 8468 --- [http-nio-8086-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 01:40:24.391  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:40:24.392 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:40:24.392 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:40:24.395 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:40:24.398  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:40:24.399  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:40:24.399 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:40:24.399 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:40:24.401 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:40:24.402  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:40:24.402  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4c472180,{}>
2018-07-25 01:40:24.402  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:42:09.661  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:42:09.662 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:42:09.662 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:42:09.665 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:42:09.668  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:42:09.669  WARN 8468 --- [http-nio-8086-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 01:42:15.539  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:42:15.540 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:42:15.540 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:42:15.542 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:42:15.546  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:42:15.546  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:42:15.546  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:42:15.547  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:42:15.547  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:42:15.547  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 3]
2018-07-25 01:42:15.547 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:42:15.547 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-17(Date)
2018-07-25 01:42:15.551 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:42:15.551  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:42:15.551  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@5830ca9e,{}>
2018-07-25 01:42:15.552  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:44:30.385  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:30.388 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:30.388 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:30.391 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:30.394  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:44:30.395  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 01:44:30.396 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:44:30.396 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 01:44:30.398 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:44:30.398  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:30.399  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@eb74427,{}>
2018-07-25 01:44:30.399  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:44:47.411  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:47.413 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:47.413 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:47.415 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:47.419  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 01:44:47.420  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:44:47.426 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 01:44:47.426 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 01:44:47.429 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 01:44:47.429  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:47.429  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@1d48b92c, com.yy.hospital.domain.Doctors@5871bf68, com.yy.hospital.domain.Doctors@1621c5d6, com.yy.hospital.domain.Doctors@5ae53be6, com.yy.hospital.domain.Doctors@2bc784f, com.yy.hospital.domain.Doctors@57e30d8f, com.yy.hospital.domain.Doctors@4ff46dd0, com.yy.hospital.domain.Doctors@3c3d45c3, com.yy.hospital.domain.Doctors@5da23c0b],{}>
2018-07-25 01:44:47.430  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 01:44:48.982  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:48.983 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:48.983 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:48.985 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:48.987  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:44:48.988  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:44:48.988 DEBUG 8468 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:44:48.989 DEBUG 8468 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:44:48.991 DEBUG 8468 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:44:48.992  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:48.992  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@76d16d6d, com.yy.hospital.domain.Departs@7e724528, com.yy.hospital.domain.Departs@7f9a4f5a, com.yy.hospital.domain.Departs@5b59787f, com.yy.hospital.domain.Departs@261ecc7c, com.yy.hospital.domain.Departs@4aa98692, com.yy.hospital.domain.Departs@67e4f002, com.yy.hospital.domain.Departs@77eef601],{}>
2018-07-25 01:44:48.992  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:44:49.009  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:49.009 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:49.010 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:49.012 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:49.016  INFO 8468 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:49.017  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:44:49.018  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:44:49.018 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:44:49.018 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:44:49.020 DEBUG 8468 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:44:49.020  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:49.020  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@440fc4c6,{}>
2018-07-25 01:44:49.020  INFO 8468 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:44:53.425  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:44:53.428 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:44:53.431 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:44:53.434 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:44:53.437  INFO 8468 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:44:53.438  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:44:53.438 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:44:53.439 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:44:53.441 DEBUG 8468 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:44:53.442  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:44:53.442  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@56e9f2bc,{}>
2018-07-25 01:44:53.442  INFO 8468 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:45:21.562  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:21.563 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:21.563 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:21.570 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:45:21.576  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:21.577 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:21.577 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:21.578 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:21.578  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:21.578  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@6efd858, com.yy.hospital.domain.Departs@5cb10198, com.yy.hospital.domain.Departs@7d9ab9f3, com.yy.hospital.domain.Departs@55b54bd9, com.yy.hospital.domain.Departs@2d60642f, com.yy.hospital.domain.Departs@79891dda, com.yy.hospital.domain.Departs@51746639, com.yy.hospital.domain.Departs@2ee0144d],{}>
2018-07-25 01:45:21.578  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:45:21.594  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:21.594 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:21.594 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:21.596 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:21.599  INFO 8468 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:21.600  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:45:21.600 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:21.601 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:45:21.602 DEBUG 8468 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:45:21.602  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:21.602  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@75256cd1,{}>
2018-07-25 01:45:21.602  INFO 8468 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:45:26.557  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:26.559 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:26.559 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:26.561 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:26.568  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:26.571  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:45:26.572 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:26.572 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:45:26.575 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:45:26.577  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:26.577  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6757089,{}>
2018-07-25 01:45:26.577  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:45:45.709  WARN 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 01:45:45.710  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 01:45:45.857 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:45.857 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:45.858 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:45.968 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:45.968 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:45.970 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.259  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:46.260 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.260 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.262 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.265  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:46.265 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.265 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.266  INFO 8468 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:45:46.267  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:46.270 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:46.270 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.271 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:46.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:46.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.274 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.275  INFO 8468 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:45:46.276  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.276 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:46.277 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:46.277 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.278 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.278 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.278 DEBUG 8468 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:46.279 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.279 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.279 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.281 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.281 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.282 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.283 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.283 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.283 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.284 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.284 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.285 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.285 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.286 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.286 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.287 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.287 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.288 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.289 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.290 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.291  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.291 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.292 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.292 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.293 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.293 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.294 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:45:46.297 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.298  INFO 8468 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.299 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.300 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:46.300 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.300 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.301 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.302 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.302 DEBUG 8468 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:46.302 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.303 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.303 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.304 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.304 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.304 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.305 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.305 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.306 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.307 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.307 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.308 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.309 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.310 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.311 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:45:46.312 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.312 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.313 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.313 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.313 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.314 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.316 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.317 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.318 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.318 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.319 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.320 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.320 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.321 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.322 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.322 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.323 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.324 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.324 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.324 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.325 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.325 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.325 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:45:46.326 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.326 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.327 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.328 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.328 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.329 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.330 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.330 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.331 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.333 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.334 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:45:46.335 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.336 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.336 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.337 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.338 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.339 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.339 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.340 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.341 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.342 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.343 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:45:46.344 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.345 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.346 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.346 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.347 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.349 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.350 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.351 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.351 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.352 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.353 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.355 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.356 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.357 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.358 DEBUG 8468 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.358 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.359 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.359  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:46.359 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.361  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@24de941c,{}>
2018-07-25 01:45:46.361  INFO 8468 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:94
2018-07-25 01:45:46.362 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.363 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.363 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.365 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.366 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.366 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:45:46.367 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.367 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:45:46.368 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.369 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:45:46.369 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:45:46.370 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.371 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:45:46.371 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:45:46.371 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.373 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:45:46.373 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:45:46.373 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.375 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:45:46.375 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:45:46.375 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:45:46.376 DEBUG 8468 --- [http-nio-8086-exec-7] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:45:46.377  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:46.377  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:45:46.377  INFO 8468 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:101
2018-07-25 01:45:49.068  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:49.069 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:49.069 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:49.070 DEBUG 8468 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:49.074  INFO 8468 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:45:49.075  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:45:49.081 DEBUG 8468 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:45:49.082 DEBUG 8468 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:45:49.083 DEBUG 8468 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:45:49.083  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:49.083  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@50cd67fe, com.yy.hospital.domain.Departs@270ed41a, com.yy.hospital.domain.Departs@1672663f, com.yy.hospital.domain.Departs@6c6171a9, com.yy.hospital.domain.Departs@57a8194c, com.yy.hospital.domain.Departs@657b9a7, com.yy.hospital.domain.Departs@31164cc, com.yy.hospital.domain.Departs@649ab13e],{}>
2018-07-25 01:45:49.083  INFO 8468 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 01:45:49.097  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:49.097 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:49.097 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:49.099 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:49.101  INFO 8468 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:49.102  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:45:49.102 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:49.103 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:45:49.104 DEBUG 8468 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:45:49.104  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:49.104  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4814675d,{}>
2018-07-25 01:45:49.104  INFO 8468 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:45:53.990  INFO 8468 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:45:53.992 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:45:53.993 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:45:53.999 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:45:54.007  INFO 8468 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:45:54.008  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:45:54.008 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:45:54.009 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:45:54.013 DEBUG 8468 --- [http-nio-8086-exec-3] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:45:54.014  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:45:54.014  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@3243d072,{}>
2018-07-25 01:45:54.014  INFO 8468 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:56:32.094  INFO 9260 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9260 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:56:32.099  INFO 9260 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:56:32.262  INFO 9260 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:56:32 CST 2018]; root of context hierarchy
2018-07-25 01:56:33.162  INFO 9260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:56:33.211  INFO 9260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:56:33.755  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$bce85e13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.001  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5596264d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.018  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.027  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27f74733' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.036  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7a6ac8ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.060  INFO 9260 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:56:34.605  INFO 9260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:56:34.641  INFO 9260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:56:34.642  INFO 9260 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:56:34.650  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:56:34.650  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:56:34.651  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:56:35.698  INFO 9260 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:56:35.881  INFO 9260 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:56:35.881  INFO 9260 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3619 ms
2018-07-25 01:56:36.099  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:56:36.100  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:56:36.100  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:56:36.100  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:56:36.101  INFO 9260 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:56:36.101  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:56:36.101  INFO 9260 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:56:36.991  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:56:36.992  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:56:37.081  INFO 9260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@625d9132, org.springframework.security.web.context.SecurityContextPersistenceFilter@6403e24c, org.springframework.security.web.header.HeaderWriterFilter@46c269e0, org.springframework.web.filter.CorsFilter@1c54f32c, org.springframework.security.web.authentication.logout.LogoutFilter@5b852b49, com.yy.hospital.security.JwtAuthenticationTokenFilter@77774571, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4eba373c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63c12e52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@277b8fa4, org.springframework.security.web.session.SessionManagementFilter@252dc8c4, org.springframework.security.web.access.ExceptionTranslationFilter@7b6860f9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15400fff]
2018-07-25 01:56:37.200  INFO 9260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:56:37.496  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:56:32 CST 2018]; root of context hierarchy
2018-07-25 01:56:37.559  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:56:37.561  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:56:37.561  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:56:37.562  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:56:37.563  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:56:37.564  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:56:37.565  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:56:37.565  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:56:37.566  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:56:37.566  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:56:37.567  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:56:37.567  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:56:37.568  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:56:37.568  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:56:37.568  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:56:37.571  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:56:37.572  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:56:37.572  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:56:37.573  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:56:37.573  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:56:37.574  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:56:37.574  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:56:37.575  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:56:37.577  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:56:37.578  INFO 9260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:56:37.628  INFO 9260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:56:37.628  INFO 9260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:56:37.646  INFO 9260 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:56:39.979  INFO 9260 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:56:40.638  INFO 9260 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:56:40.641  INFO 9260 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:56:40.649  INFO 9260 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:56:40.687  INFO 9260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:56:40.691  INFO 9260 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.583 seconds (JVM running for 11.134)
2018-07-25 01:56:41.011  INFO 9260 --- [cluster-ClusterId{value='5b576857b8e4d5242cd9cf40', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:56:52.264  INFO 9260 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:56:52.264  INFO 9260 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:56:52.285  INFO 9260 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:56:52.416  INFO 9260 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:56:52.432  INFO 9260 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:56:52.559  INFO 9260 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:56:52.565 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:56:52.579 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:56:52.594 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:56:52.604  INFO 9260 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:56:52.630  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:56:52.630  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:56:52.630  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:56:52.632  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:56:52.632  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:56:52.636 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:56:52.636 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:56:52.640 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:56:52.641 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:56:52.642 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:56:52.644 DEBUG 9260 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:56:52.645  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:56:52.645  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@27c6800f,{}>
2018-07-25 01:56:52.646  INFO 9260 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:15
2018-07-25 01:56:54.276  INFO 9260 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:56:54.278 DEBUG 9260 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:56:54.278 DEBUG 9260 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:56:54.293 DEBUG 9260 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:56:54.301  INFO 9260 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:56:54.306  WARN 9260 --- [http-nio-8086-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to bind request element: org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.sql.Date'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.sql.Date] for value ''; nested exception is java.lang.IllegalArgumentException
2018-07-25 01:57:10.487  INFO 9260 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:10.489 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:10.489 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:10.495 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:10.502  INFO 9260 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:10.503  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:57:10.504  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:57:10.504 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:57:10.505 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:57:10.507 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:57:10.508 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:57:10.509 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:57:10.510 DEBUG 9260 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:57:10.511  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:10.511  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@46ec4cd4,{}>
2018-07-25 01:57:10.511  INFO 9260 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 01:57:27.067  INFO 9260 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:27.068 DEBUG 9260 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:27.068 DEBUG 9260 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:27.070 DEBUG 9260 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:27.078  INFO 9260 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:57:27.080  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:57:27.095 DEBUG 9260 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:57:27.095 DEBUG 9260 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:57:27.096 DEBUG 9260 --- [http-nio-8086-exec-7] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:57:27.097  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:27.098  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@4f2c696a, com.yy.hospital.domain.Departs@74e4cc66, com.yy.hospital.domain.Departs@7e64bdb7, com.yy.hospital.domain.Departs@43acc36e, com.yy.hospital.domain.Departs@6fe79548, com.yy.hospital.domain.Departs@3d32e32e, com.yy.hospital.domain.Departs@6660683a, com.yy.hospital.domain.Departs@43f2702b],{}>
2018-07-25 01:57:27.098  INFO 9260 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:18
2018-07-25 01:57:27.117  INFO 9260 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:27.117 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:27.118 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:27.120 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:27.125  INFO 9260 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:57:27.126  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:57:27.127  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:57:27.127 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:57:27.127 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:57:27.128 DEBUG 9260 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:57:27.129  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:27.129  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1280087,{}>
2018-07-25 01:57:27.129  INFO 9260 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:57:32.104  INFO 9260 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:57:32.106 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:57:32.107 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:57:32.110 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:57:32.118  INFO 9260 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:57:32.120  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:57:32.120  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:57:32.121  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:57:32.121  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:57:32.121  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 4]
2018-07-25 01:57:32.121 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:57:32.122 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-16(Date)
2018-07-25 01:57:32.130 DEBUG 9260 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 01:57:32.131  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:57:32.131  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@7ecf9d45,{}>
2018-07-25 01:57:32.131  INFO 9260 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:11
2018-07-25 01:58:05.815  INFO 9524 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9524 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:58:05.823  INFO 9524 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:58:05.922  INFO 9524 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:58:05 CST 2018]; root of context hierarchy
2018-07-25 01:58:06.893  INFO 9524 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:58:06.934  INFO 9524 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:58:07.497  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f0708f3e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.704  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$891e5778] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.720  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.725  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7a6ebe1e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.731  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$adf2fa2a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:07.753  INFO 9524 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:58:08.219  INFO 9524 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:58:08.248  INFO 9524 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:58:08.248  INFO 9524 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:58:08.252  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:58:08.253  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:58:08.253  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:58:09.296  INFO 9524 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:58:09.422  INFO 9524 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:58:09.423  INFO 9524 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3502 ms
2018-07-25 01:58:09.622  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:58:09.622  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:58:09.623  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:58:09.623  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:58:09.624  INFO 9524 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:58:09.624  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:58:09.624  INFO 9524 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:58:10.555  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:58:10.555  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:58:10.556  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:58:10.645  INFO 9524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b200971, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ae4a1f, org.springframework.security.web.header.HeaderWriterFilter@26dc9bd5, org.springframework.web.filter.CorsFilter@297c49d0, org.springframework.security.web.authentication.logout.LogoutFilter@4c6007fb, com.yy.hospital.security.JwtAuthenticationTokenFilter@1a2bcd56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63c12e52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0e7ecd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68d7a2df, org.springframework.security.web.session.SessionManagementFilter@26f46fa6, org.springframework.security.web.access.ExceptionTranslationFilter@558756be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5460b754]
2018-07-25 01:58:10.764  INFO 9524 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:58:11.059  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@702657cc: startup date [Wed Jul 25 01:58:05 CST 2018]; root of context hierarchy
2018-07-25 01:58:11.122  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:58:11.124  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:58:11.125  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:58:11.125  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:58:11.126  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:58:11.128  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:58:11.129  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:58:11.131  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:58:11.131  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:58:11.131  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:58:11.132  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:58:11.132  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:58:11.135  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:58:11.136  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:58:11.136  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:58:11.137  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:58:11.137  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:58:11.138  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:58:11.139  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:58:11.139  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:58:11.141  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:58:11.142  INFO 9524 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:58:11.189  INFO 9524 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:58:11.189  INFO 9524 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:58:11.208  INFO 9524 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:58:13.652  INFO 9524 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:58:14.262  INFO 9524 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:58:14.264  INFO 9524 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:58:14.270  INFO 9524 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:58:14.308  INFO 9524 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:58:14.312  INFO 9524 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.369 seconds (JVM running for 11.037)
2018-07-25 01:58:14.690  INFO 9524 --- [cluster-ClusterId{value='5b5768b5b8e4d525342ead61', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:58:20.816  INFO 9524 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:58:20.817  INFO 9524 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:58:20.838  INFO 9524 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 01:58:20.968  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:20.983  INFO 9524 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:58:21.114  INFO 9524 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:58:21.121 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:21.137 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:21.155 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:21.164  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:21.184  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:21.184  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:58:21.184  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:58:21.186  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:58:21.186  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:58:21.198 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:58:21.199 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:58:21.202 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:58:21.203  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:21.204  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@813ce0e, com.yy.hospital.domain.Departs@644fde23, com.yy.hospital.domain.Departs@39622168, com.yy.hospital.domain.Departs@389fe010, com.yy.hospital.domain.Departs@2e6a3ab3, com.yy.hospital.domain.Departs@344e579b, com.yy.hospital.domain.Departs@1c0f591b, com.yy.hospital.domain.Departs@5b57a5ea],{}>
2018-07-25 01:58:21.204  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:20
2018-07-25 01:58:21.312  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:21.313 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:21.313 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:21.315 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:21.319  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:58:21.331  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:58:21.334 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:58:21.335 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:58:21.336 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:58:21.337  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:21.337  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@10399f9,{}>
2018-07-25 01:58:21.337  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:6
2018-07-25 01:58:25.173  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:25.176 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:25.177 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:25.180 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:25.187  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:25.189  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:58:25.190  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 5]
2018-07-25 01:58:25.191 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:58:25.192 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-16(Date)
2018-07-25 01:58:25.196 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:58:25.199 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:58:25.200 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:58:25.202 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:58:25.202  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:25.202  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@27d5e656,{}>
2018-07-25 01:58:25.203  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 01:58:34.661  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:58:34.662 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:58:34.662 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:58:34.666 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:58:34.671  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:58:34.673  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 3]
2018-07-25 01:58:34.673 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:58:34.674 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-10(Date)
2018-07-25 01:58:34.676 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 01:58:34.677  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:58:34.677  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@3e108ea9,{}>
2018-07-25 01:58:34.677  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:4
2018-07-25 01:59:01.846  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:01.850 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.853 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.853  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:01.856  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:01.857 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.858 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.863 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.864  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:59:01.866  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:01.868  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:01.868 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.873 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:01.873 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:01.873  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:01.874  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:01.874 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:01.874  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:59:01.875  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:01.875  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:59:01.875  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:01.875 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:01.875 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:01.875 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:01.877 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:01.881 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:01.883 DEBUG 9524 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:01.883 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.884 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.884 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.885 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.887 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.887 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.889 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.891 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.892 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.892 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.892 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.893 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.893 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.894 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.895 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.896 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.897 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.898 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.898 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.898 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.899 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.899 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:01.900 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.900 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.901 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.903 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.904 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.904 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.905 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.905 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.906 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.906 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.906 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.907 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.909 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.910 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.910 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:01.911 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.911 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.912 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.913 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.913 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.914 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.915 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.915 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.916 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.917 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.917 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.918 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.919 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.920 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:01.921 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.921 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.922 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.923 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.923 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.924 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.924 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.924 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.925 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.926 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.927 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.927 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.928 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.928 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.928 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.929 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.930 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.930 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.931 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:01.932 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.932 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.933 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.934 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.934 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.935 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.936 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.936 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.937 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.938 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.939 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.939 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.940 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.940 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.941 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.942 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.943 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.945 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.946 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.946 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.947 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.948 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.948 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.949 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.949 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.949 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.950 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.951 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.952 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.952 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.953 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:01.954 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.954 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.955 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.955 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.955 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.956 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.957 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.958 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.958 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.959 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.960 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.960 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.961 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:01.962 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.963 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.963 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.964 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.965 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.965 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.966 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:01.967 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.969 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.970 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.971 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:01.971 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:01.971 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:01.972 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:01.972  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:01.972  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:59:01.972  INFO 9524 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:98
2018-07-25 01:59:01.973 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:01.973  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:01.973  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@76335b71,{}>
2018-07-25 01:59:01.973  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:107
2018-07-25 01:59:08.930  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:08.931 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:08.931 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:08.933 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:08.938  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:59:08.939  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:08.939 DEBUG 9524 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:08.939 DEBUG 9524 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:08.941 DEBUG 9524 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:08.941  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:08.941  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@33478afe, com.yy.hospital.domain.Departs@7268f38a, com.yy.hospital.domain.Departs@62dc3f4a, com.yy.hospital.domain.Departs@7f7eb56, com.yy.hospital.domain.Departs@868812c, com.yy.hospital.domain.Departs@3d29c708, com.yy.hospital.domain.Departs@3e0c8988, com.yy.hospital.domain.Departs@6197844],{}>
2018-07-25 01:59:08.941  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:59:08.954  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:08.955 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:08.955 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:08.957 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:08.960  INFO 9524 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:08.961  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:59:08.961 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:08.962 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:59:08.962 DEBUG 9524 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:59:08.963  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:08.963  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@1fa1c0b6,{}>
2018-07-25 01:59:08.963  INFO 9524 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:59:10.706  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:10.708 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.708 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.712  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:10.713 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.713 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.714  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:10.715 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.715 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.715 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.716 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.717 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.722  INFO 9524 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-1] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:10.724  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 01:59:10.724 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:10.725 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:10.725 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 01:59:10.725  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:10.725 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:10.726 DEBUG 9524 --- [http-nio-8086-exec-1] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:10.727 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.727 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.728 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.729 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.730 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.731 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.731 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.732 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.733 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.733 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.734 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.735 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.736 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.737 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.738 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.739 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.739 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.740 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.741 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.741 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.741 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.742 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.743 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.743 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.743 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.744 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.745 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 01:59:10.746 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.746 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.747 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.748 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.749 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.749 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.750 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.751 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.753 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.754 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.754 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.755 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.756 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.757 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.758 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.759 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.760 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.760 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.761 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.762 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.763 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.764 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.765 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.766 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.766 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.767 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.768 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.770 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.771 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.772 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.773 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.773 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.774 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.775 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.775 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.776 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.777 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.778 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.778 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.779 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.780 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.781 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 01:59:10.781 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.781 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.782 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.783 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.784 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.784 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.785 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.786 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.787 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.787 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.788 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.789 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.790 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.791 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.792 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.793 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.794 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 01:59:10.794 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.795 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 01:59:10.796 DEBUG 9524 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 01:59:10.796 DEBUG 9524 --- [http-nio-8086-exec-1] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5c1d4d9,{}>
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:71
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 01:59:10.796  INFO 9524 --- [http-nio-8086-exec-1] com.yy.hospital.controller.WebLogAspect  : SPEND:72
2018-07-25 01:59:12.940  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:12.942 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:12.942 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:12.944 DEBUG 9524 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 01:59:12.947  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 01:59:12.947 DEBUG 9524 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 01:59:12.948 DEBUG 9524 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 01:59:12.949 DEBUG 9524 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 01:59:12.949  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:12.949  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@28d56391, com.yy.hospital.domain.Departs@47314f5a, com.yy.hospital.domain.Departs@2112ee7f, com.yy.hospital.domain.Departs@5e6ee3dc, com.yy.hospital.domain.Departs@5d24ca6b, com.yy.hospital.domain.Departs@1022050a, com.yy.hospital.domain.Departs@26756067, com.yy.hospital.domain.Departs@f2c0776],{}>
2018-07-25 01:59:12.949  INFO 9524 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 01:59:12.960  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:12.960 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:12.961 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:12.964 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:12.967  INFO 9524 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:12.968  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 01:59:12.968 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:12.969 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 01:59:12.970 DEBUG 9524 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 01:59:12.971  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:12.971  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@20cba87,{}>
2018-07-25 01:59:12.971  INFO 9524 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:3
2018-07-25 01:59:25.225  INFO 8636 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 8636 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 01:59:25.229  INFO 8636 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 01:59:25.288  INFO 8636 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:59:25 CST 2018]; root of context hierarchy
2018-07-25 01:59:26.250  INFO 8636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:59:26.292  INFO 8636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 01:59:27.042  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f5fdcdc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.463  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8eab9600] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.478  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.485  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@417d6615' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.494  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b38038b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:27.648  INFO 8636 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 01:59:28.199  INFO 8636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 01:59:28.234  INFO 8636 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 01:59:28.234  INFO 8636 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 01:59:28.242  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 01:59:28.242  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 01:59:28.243  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 01:59:29.301  INFO 8636 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 01:59:29.474  INFO 8636 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 01:59:29.475  INFO 8636 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4187 ms
2018-07-25 01:59:29.797  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 01:59:29.798  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 01:59:29.799  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 01:59:29.800  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 01:59:29.801  INFO 8636 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 01:59:29.803  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 01:59:29.803  INFO 8636 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 01:59:30.975  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 01:59:30.976  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 01:59:30.976  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 01:59:31.112  INFO 8636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bbf841e, org.springframework.security.web.context.SecurityContextPersistenceFilter@60bbacfc, org.springframework.security.web.header.HeaderWriterFilter@767a014e, org.springframework.web.filter.CorsFilter@3370776, org.springframework.security.web.authentication.logout.LogoutFilter@646c0a67, com.yy.hospital.security.JwtAuthenticationTokenFilter@4f0f7849, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@255eaa6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b852b49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56a4f272, org.springframework.security.web.session.SessionManagementFilter@26c47874, org.springframework.security.web.access.ExceptionTranslationFilter@43045f9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12fcc71f]
2018-07-25 01:59:31.361  INFO 8636 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:59:32.004  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 01:59:25 CST 2018]; root of context hierarchy
2018-07-25 01:59:32.129  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 01:59:32.132  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 01:59:32.133  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 01:59:32.133  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:59:32.134  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 01:59:32.137  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:59:32.137  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 01:59:32.138  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 01:59:32.139  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 01:59:32.139  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:59:32.141  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 01:59:32.141  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 01:59:32.142  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 01:59:32.142  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 01:59:32.142  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 01:59:32.145  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 01:59:32.146  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 01:59:32.147  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 01:59:32.149  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 01:59:32.149  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 01:59:32.150  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 01:59:32.151  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 01:59:32.152  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 01:59:32.156  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 01:59:32.156  INFO 8636 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 01:59:32.216  INFO 8636 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:59:32.216  INFO 8636 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 01:59:32.236  INFO 8636 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 01:59:34.829  INFO 8636 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 01:59:35.493  INFO 8636 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 01:59:35.496  INFO 8636 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 01:59:35.502  INFO 8636 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 01:59:35.539  INFO 8636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 01:59:35.543  INFO 8636 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.956 seconds (JVM running for 14.025)
2018-07-25 01:59:35.875  INFO 8636 --- [cluster-ClusterId{value='5b576906b8e4d521bce03a2f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 01:59:43.032  INFO 8636 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 01:59:43.033  INFO 8636 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 01:59:43.058  INFO 8636 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
2018-07-25 01:59:43.183  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:43.201  INFO 8636 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 01:59:43.323  INFO 8636 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 01:59:43.330 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:43.347 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:43.362 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:43.371  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:43.398  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:43.399  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:43.399  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:43.400  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:43.401  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 01:59:43.404 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:43.405 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 01:59:43.409 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:59:43.410 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.410 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.412 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.413 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.413 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.415 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.416 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.416 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.419 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.419 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.420 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.422 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.422 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.422 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:43.425 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.426 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:43.426 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:59:43.428 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:43.430  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:43.430  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4930a995,{}>
2018-07-25 01:59:43.430  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:31
2018-07-25 01:59:54.161  INFO 8636 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 01:59:54.162 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 01:59:54.163 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 01:59:54.164 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 01:59:54.170  INFO 8636 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 01:59:54.171  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 01:59:54.172 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 01:59:54.172 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 01:59:54.174 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 01:59:54.175 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.175 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.176 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.177 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.177 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.179 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.179 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.179 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.181 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.182 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.182 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.184 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.185 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.185 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 01:59:54.187 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.188 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 01:59:54.188 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 01:59:54.190 DEBUG 8636 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 01:59:54.192  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 01:59:54.192  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@3ca32a2f,{}>
2018-07-25 01:59:54.192  INFO 8636 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:21
2018-07-25 02:00:00.010  INFO 8636 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:00.012 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:00.013 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:00.016 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:00.024  INFO 8636 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:00.026  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:00:00.027 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:00.028 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:00:00.033 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:00:00.035 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.036 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.038 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.039 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.039 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.041 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.041 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.041 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.043 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.043 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.044 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.048 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.048 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.049 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:00.050 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.051 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:00.051 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:00:00.053 DEBUG 8636 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:00.053  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:00.053  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@619de743,{}>
2018-07-25 02:00:00.053  INFO 8636 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:27
2018-07-25 02:00:05.494  INFO 8636 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:05.496 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:05.496 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:05.498 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:05.505  INFO 8636 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:05.508  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 2]
2018-07-25 02:00:05.509 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:05.510 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-17(Date)
2018-07-25 02:00:05.512 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 02:00:05.513 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.514 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.516 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.516 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.517 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.521 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.522 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.522 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.523 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.524 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.525 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.526 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.526 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:05.526 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:00:05.528 DEBUG 8636 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:05.528  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:05.528  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@6ed9319b,{}>
2018-07-25 02:00:05.528  INFO 8636 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:20
2018-07-25 02:00:15.308  INFO 8636 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:15.310 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:15.310 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:15.314 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:15.322  INFO 8636 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:15.323  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-16, 1]
2018-07-25 02:00:15.324 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:15.325 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-16(Date)
2018-07-25 02:00:15.328 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 02:00:15.329 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.330 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.331 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.332 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.332 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.333 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.334 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.334 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.335 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.336 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.336 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.337 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.338 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:15.338 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 1(Integer)
2018-07-25 02:00:15.340 DEBUG 8636 --- [http-nio-8086-exec-10] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:15.340  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:15.340  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@a0d1011,{}>
2018-07-25 02:00:15.340  INFO 8636 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:17
2018-07-25 02:00:25.350  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:00:25.351 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:00:25.352 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:00:25.354 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:00:25.361  INFO 8636 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:00:25.362  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:00:25.362 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:00:25.363 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:00:25.365 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:00:25.366 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.366 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.368 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.368 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.369 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.370 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.371 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.371 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.374 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.375 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.375 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.378 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.379 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.380 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:00:25.381 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.382 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:00:25.382 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:00:25.384 DEBUG 8636 --- [http-nio-8086-exec-2] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:00:25.384  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:00:25.384  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@244e73d1,{}>
2018-07-25 02:00:25.384  INFO 8636 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:22
2018-07-25 02:04:28.923  INFO 9228 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 9228 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 02:04:28.932  INFO 9228 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 02:04:29.002  INFO 9228 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:04:29 CST 2018]; root of context hierarchy
2018-07-25 02:04:30.046  INFO 9228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:04:30.088  INFO 9228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:04:30.675  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5c73a976] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.928  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f52171b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.952  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.958  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6272c96f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:30.966  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$19f61462] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:31.001  INFO 9228 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:04:31.742  INFO 9228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 02:04:31.773  INFO 9228 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 02:04:31.774  INFO 9228 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 02:04:31.778  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 02:04:31.779  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 02:04:31.779  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 02:04:32.825  INFO 9228 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 02:04:32.934  INFO 9228 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 02:04:32.934  INFO 9228 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3932 ms
2018-07-25 02:04:33.139  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 02:04:33.140  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 02:04:33.140  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 02:04:33.140  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 02:04:33.141  INFO 9228 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 02:04:33.141  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 02:04:33.141  INFO 9228 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 02:04:34.029  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 02:04:34.030  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 02:04:34.030  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 02:04:34.122  INFO 9228 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bbadc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c5dbdf8, org.springframework.security.web.header.HeaderWriterFilter@70228253, org.springframework.web.filter.CorsFilter@192f4870, org.springframework.security.web.authentication.logout.LogoutFilter@6dd1c3ed, com.yy.hospital.security.JwtAuthenticationTokenFilter@3c3a0032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aac8884, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@80bfdc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ceb4478, org.springframework.security.web.session.SessionManagementFilter@7a0e7ecd, org.springframework.security.web.access.ExceptionTranslationFilter@3968bc60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b84841]
2018-07-25 02:04:34.244  INFO 9228 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:04:34.545  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:04:29 CST 2018]; root of context hierarchy
2018-07-25 02:04:34.628  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 02:04:34.630  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 02:04:34.630  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 02:04:34.631  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:04:34.632  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 02:04:34.633  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 02:04:34.634  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:04:34.636  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 02:04:34.637  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:04:34.641  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 02:04:34.642  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 02:04:34.642  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 02:04:34.643  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 02:04:34.644  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 02:04:34.645  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 02:04:34.645  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 02:04:34.645  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 02:04:34.648  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 02:04:34.648  INFO 9228 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 02:04:34.698  INFO 9228 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:04:34.698  INFO 9228 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:04:34.717  INFO 9228 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 02:04:37.163  INFO 9228 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 02:04:37.815  INFO 9228 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 02:04:37.817  INFO 9228 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 02:04:37.824  INFO 9228 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 02:04:37.862  INFO 9228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 02:04:37.867  INFO 9228 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 9.919 seconds (JVM running for 11.594)
2018-07-25 02:04:38.221  INFO 9228 --- [cluster-ClusterId{value='5b576a35b8e4d5240c72e530', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 02:04:51.096  INFO 9228 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 02:04:51.096  INFO 9228 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 02:04:51.116  INFO 9228 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
2018-07-25 02:04:51.260  INFO 9228 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:51.260  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:51.260  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:51.278  INFO 9228 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 02:04:51.404  INFO 9228 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 02:04:51.413 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.413 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.417 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.430 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.430 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.430 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.448 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.448 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.448 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.459  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:51.459  INFO 9228 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:51.461  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:51.481  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:51.482  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 02:04:51.482  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:51.484  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:51.484 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:51.484 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:51.491 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:51.512 DEBUG 9228 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:04:51.512 DEBUG 9228 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:04:51.512 DEBUG 9228 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:04:51.513 DEBUG 9228 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:04:51.516 DEBUG 9228 --- [http-nio-8086-exec-6] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:04:51.521 DEBUG 9228 --- [http-nio-8086-exec-5] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:04:51.521 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.522 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.522 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.522 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.523 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.524 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.524 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.524 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.525 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.525 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.526 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.526 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.527 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.529 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.529 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.530 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.530 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.530 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.531 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.532 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.532 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.534 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.535 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.535 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.535 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:04:51.537 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.537 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.538 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.539 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.538 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.540 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.542 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.541 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.543 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.544 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.544 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.546 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.547 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.547 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.548 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.549 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.549 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.550 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.550 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.550 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.551 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.552 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.553 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.553 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.553 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.554 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.555 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.556 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.556 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.556 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.558 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.558 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.558 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.559 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:04:51.559 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.560 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.560 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.561 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.561 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.562 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.562 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.564 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.565 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.565 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.566 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.567 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.567 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.568 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.570 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:04:51.572 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.573 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.574 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.574 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.574 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.575 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.575 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.576 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.577 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.577 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.578 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.578 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.579 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.579 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.579 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.580 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.580 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.580 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.581 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.581 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:04:51.582 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.583 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.583 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.584 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.585 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.585 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.586 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.587 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.587 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.588 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.589 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.589 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.590 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.591 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.591 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.592 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.594 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.595 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.595 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.596 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.596 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.597 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.598 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.598 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.599 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.600 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.601 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.601 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.602 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:04:51.603 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.603 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.604 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.606 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.607 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.608 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.609 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.610 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.611 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.612 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.613 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.614 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:04:51.614 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.615 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.616 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.616 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.617 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.617 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.618 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.618 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.618 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.619 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.619 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:04:51.619 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.620 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.620 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:04:51.620 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:04:51.621 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:04:51.621 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.621 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.622 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:04:51.623 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:04:51.623 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:04:51.623 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.624  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:51.624  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 02:04:51.625  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : SPEND:143
2018-07-25 02:04:51.625 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:04:51.625 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:04:51.626 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:04:51.627 DEBUG 9228 --- [http-nio-8086-exec-6] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:04:51.627  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:51.627  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@5a1e2e79,{}>
2018-07-25 02:04:51.627  INFO 9228 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:145
2018-07-25 02:04:57.104  INFO 9228 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:57.105 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:57.106 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:57.109 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:57.112  INFO 9228 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:57.113  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:57.113  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/doctors
2018-07-25 02:04:57.114  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:57.114  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DoctorsController.findAllDr
2018-07-25 02:04:57.114  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:57.122 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==>  Preparing: select d.doid,d.doname,a.aname,de.dename,d.title,d.bcost,d.pcreg,d.xcreg,d.info,d.doexist from admins a JOIN doctors d on a.doid = d.doid JOIN departs de on de.deid = d.deid 
2018-07-25 02:04:57.122 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : ==> Parameters: 
2018-07-25 02:04:57.125 DEBUG 9228 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findAllDr     : <==      Total: 9
2018-07-25 02:04:57.126  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:57.126  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Doctors@480b064, com.yy.hospital.domain.Doctors@67063905, com.yy.hospital.domain.Doctors@703b9d47, com.yy.hospital.domain.Doctors@3eb0c92e, com.yy.hospital.domain.Doctors@3f324d0c, com.yy.hospital.domain.Doctors@692a95fe, com.yy.hospital.domain.Doctors@4557fc39, com.yy.hospital.domain.Doctors@7d96b404, com.yy.hospital.domain.Doctors@5061cc97],{}>
2018-07-25 02:04:57.126  INFO 9228 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:13
2018-07-25 02:04:59.357  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:59.357 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:59.358 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:59.368 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:59.375  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 02:04:59.376  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:04:59.380 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:04:59.380 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:04:59.382 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:04:59.383  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:04:59.383  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@27d5e656, com.yy.hospital.domain.Departs@2843c1c1, com.yy.hospital.domain.Departs@7626e91d, com.yy.hospital.domain.Departs@dd3aefb, com.yy.hospital.domain.Departs@5bc0e41, com.yy.hospital.domain.Departs@33478afe, com.yy.hospital.domain.Departs@7268f38a, com.yy.hospital.domain.Departs@62dc3f4a],{}>
2018-07-25 02:04:59.383  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:7
2018-07-25 02:04:59.397  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:04:59.397 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:04:59.397 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:04:59.399 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:04:59.404  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:04:59.414  INFO 9228 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 02:04:59.418 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:04:59.418 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 02:04:59.419 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 02:04:59.425 ERROR 9228 --- [http-nio-8086-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 02:05:04.447  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:04.448 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:04.449 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:04.451 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:04.456  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:04.457  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-18, 5]
2018-07-25 02:05:04.457 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:04.458 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-18(Date)
2018-07-25 02:05:04.460 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:05:04.461 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:04.461 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:05:04.463 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:04.464 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:04.464 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:05:04.466 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:04.467  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:04.467  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@296cbc36,{}>
2018-07-25 02:05:04.467  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:10
2018-07-25 02:05:21.428  WARN 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 02:05:21.429  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 02:05:21.572 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.573 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.574 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.696 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.696 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.698 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.884  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:21.884  INFO 9228 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:21.885 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.885 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.886 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:21.886 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:21.887 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.888 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:21.891  INFO 9228 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 02:05:21.892  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 02:05:21.893  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:05:21.893  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:05:21.893 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.895 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.896 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.896 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.898 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.900 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.902 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.904 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.906 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.907 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.907 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.908 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.909 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.912 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.914 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.914 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.915 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.916 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.916 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.917 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.918 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.918 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.919 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 02:05:21.921 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.921 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.921 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.922 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.922 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.923 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.924 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.924 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.925 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.926 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.927 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.927 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.929 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.930 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.930 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.930 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.931 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.931 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.932 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.932 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.933 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.933 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.933 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.934 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.935 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.936 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.936 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 02:05:21.937 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.937 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.938 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.938 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.939 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.939 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.939 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.940 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.941 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.941 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.942 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.943 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.944 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.945 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.946 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 02:05:21.946 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.947 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.947 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.948 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.949 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.949 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.950 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.951 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.951 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.952 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.953 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.953 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.954 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.955 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.955 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.956 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.957 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.958 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.958 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.959 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.961 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.961 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.961 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.962 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.962 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.962 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.963 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.963 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.964 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.964 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.964 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.965 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.965 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.965 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.966 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.967 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.968 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.968 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.968 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.969 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.969 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.970 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.971 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.971 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.971 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.972 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.974 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.974 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.974 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.975 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.975 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.975 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.976 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.976 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.977 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.978 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.979 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.979 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.980 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 02:05:21.981 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.982 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 02:05:21.982 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.982 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 02:05:21.983 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 02:05:21.983 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.983 DEBUG 9228 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 02:05:21.983  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:21.983  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@6fe7bc7f,{}>
2018-07-25 02:05:21.983  INFO 9228 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:91
2018-07-25 02:05:21.987 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 02:05:21.987 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 02:05:21.988 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 02:05:21.989 DEBUG 9228 --- [http-nio-8086-exec-3] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 02:05:21.989  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:21.989  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 02:05:21.990  INFO 9228 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:98
2018-07-25 02:05:22.038  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:22.039 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:22.039 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:22.041 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:22.045  INFO 9228 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:22.048 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:22.048 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:22.050 DEBUG 9228 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:25.149  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:25.151 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:25.152 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:25.153 DEBUG 9228 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:25.157  INFO 9228 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 02:05:25.158  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:05:25.158 DEBUG 9228 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:05:25.158 DEBUG 9228 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:05:25.159 DEBUG 9228 --- [http-nio-8086-exec-4] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:05:25.160  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:25.160  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@56eadec1, com.yy.hospital.domain.Departs@3a531485, com.yy.hospital.domain.Departs@1d0c2a40, com.yy.hospital.domain.Departs@31554ca8, com.yy.hospital.domain.Departs@31498095, com.yy.hospital.domain.Departs@131c4d05, com.yy.hospital.domain.Departs@6f3e2b0c, com.yy.hospital.domain.Departs@74950a4f],{}>
2018-07-25 02:05:25.160  INFO 9228 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : SPEND:2
2018-07-25 02:05:25.173  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:25.174 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:25.174 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:25.176 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:25.181  INFO 9228 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:25.183  INFO 9228 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 02:05:25.183 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:25.183 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 02:05:25.184 DEBUG 9228 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 02:05:25.187 ERROR 9228 --- [http-nio-8086-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$c3061389.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 02:05:29.462  INFO 9228 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:29.463 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:29.464 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:29.467 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:29.471  INFO 9228 --- [http-nio-8086-exec-7] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:29.472  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:29.473  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 2]
2018-07-25 02:05:29.473 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:29.473 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 2(Integer), 2018-07-17(Date)
2018-07-25 02:05:29.476 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 02:05:29.477 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:29.477 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 2(Integer)
2018-07-25 02:05:29.480 DEBUG 9228 --- [http-nio-8086-exec-7] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:29.480  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:29.480  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@600a3c45,{}>
2018-07-25 02:05:29.480  INFO 9228 --- [http-nio-8086-exec-7] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 02:05:34.839  INFO 9228 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:05:34.840 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:05:34.840 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:05:34.843 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:05:34.847  INFO 9228 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:05:34.848  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:05:34.849  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:05:34.849 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:05:34.849 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:05:34.854 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:05:34.854 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:34.855 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:05:34.858 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:34.859 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:05:34.859 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:05:34.860 DEBUG 9228 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:05:34.861  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:05:34.861  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@433bb599,{}>
2018-07-25 02:05:34.861  INFO 9228 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:12
2018-07-25 02:07:53.529  INFO 7656 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 7656 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 02:07:53.533  INFO 7656 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 02:07:53.613  INFO 7656 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:07:53 CST 2018]; root of context hierarchy
2018-07-25 02:07:54.511  INFO 7656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:07:54.543  INFO 7656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 02:07:54.979  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$31425761] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.204  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c9f01f9b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.216  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.221  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2a49fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.228  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$eec4c24d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.244  INFO 7656 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 02:07:55.577  INFO 7656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 02:07:55.597  INFO 7656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 02:07:55.598  INFO 7656 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 02:07:55.603  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 02:07:55.604  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 02:07:55.604  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 02:07:56.646  INFO 7656 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 02:07:56.760  INFO 7656 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 02:07:56.760  INFO 7656 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3147 ms
2018-07-25 02:07:56.962  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 02:07:56.962  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 02:07:56.963  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 02:07:56.963  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 02:07:56.963  INFO 7656 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 02:07:56.964  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 02:07:56.964  INFO 7656 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 02:07:57.866  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 02:07:57.867  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 02:07:57.867  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 02:07:57.960  INFO 7656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18d910b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@43045f9f, org.springframework.security.web.header.HeaderWriterFilter@262816a8, org.springframework.web.filter.CorsFilter@3370776, org.springframework.security.web.authentication.logout.LogoutFilter@7aac8884, com.yy.hospital.security.JwtAuthenticationTokenFilter@1e7ab390, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6403e24c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75ae4a1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@625d9132, org.springframework.security.web.session.SessionManagementFilter@7ff35a3f, org.springframework.security.web.access.ExceptionTranslationFilter@4fc3c165, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@654c7d2d]
2018-07-25 02:07:58.080  INFO 7656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:07:58.379  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 02:07:53 CST 2018]; root of context hierarchy
2018-07-25 02:07:58.446  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 02:07:58.447  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 02:07:58.448  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 02:07:58.449  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:07:58.450  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 02:07:58.452  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 02:07:58.452  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:07:58.452  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:07:58.453  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 02:07:58.453  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 02:07:58.455  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 02:07:58.455  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 02:07:58.456  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 02:07:58.456  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 02:07:58.456  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 02:07:58.458  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 02:07:58.459  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 02:07:58.460  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 02:07:58.461  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 02:07:58.462  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 02:07:58.463  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 02:07:58.463  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 02:07:58.463  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 02:07:58.466  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 02:07:58.467  INFO 7656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 02:07:58.518  INFO 7656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:07:58.518  INFO 7656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 02:07:58.536  INFO 7656 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 02:08:00.912  INFO 7656 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 02:08:01.550  INFO 7656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 02:08:01.552  INFO 7656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 02:08:01.558  INFO 7656 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 02:08:01.595  INFO 7656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 02:08:01.599  INFO 7656 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 10.282 seconds (JVM running for 12.708)
2018-07-25 02:08:01.959  INFO 7656 --- [cluster-ClusterId{value='5b576b00b8e4d51de8a236ce', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 02:08:08.637  INFO 7656 --- [http-nio-8086-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 02:08:08.638  INFO 7656 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 02:08:08.659  INFO 7656 --- [http-nio-8086-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-07-25 02:08:08.792  INFO 7656 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:08.808  INFO 7656 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 02:08:08.934  INFO 7656 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 02:08:08.940 DEBUG 7656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:08.956 DEBUG 7656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:08.972 DEBUG 7656 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:08.980  INFO 7656 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:08.998  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:08.999  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 02:08:08.999  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 02:08:09.001  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 02:08:09.001  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 02:08:09.014 DEBUG 7656 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 02:08:09.015 DEBUG 7656 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 02:08:09.018 DEBUG 7656 --- [http-nio-8086-exec-2] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 02:08:09.019  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:08:09.019  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@5194aabc, com.yy.hospital.domain.Departs@21ceedda, com.yy.hospital.domain.Departs@efd30e1, com.yy.hospital.domain.Departs@79cf4275, com.yy.hospital.domain.Departs@dfac6ba, com.yy.hospital.domain.Departs@5b0c4ae2, com.yy.hospital.domain.Departs@3c91135a, com.yy.hospital.domain.Departs@3f4e2257],{}>
2018-07-25 02:08:09.019  INFO 7656 --- [http-nio-8086-exec-2] com.yy.hospital.controller.WebLogAspect  : SPEND:21
2018-07-25 02:08:09.103  INFO 7656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:09.104 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:09.104 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:09.106 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:09.112  INFO 7656 --- [http-nio-8086-exec-4] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:09.122  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:09.122  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:08:09.122  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:08:09.123  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:08:09.123  INFO 7656 --- [http-nio-8086-exec-4] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 02:08:09.126 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:08:09.127 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 02:08:09.128 DEBUG 7656 --- [http-nio-8086-exec-4] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 02:08:09.135 ERROR 7656 --- [http-nio-8086-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$9de959b5.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 02:08:14.562  INFO 7656 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:14.563 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:14.564 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:14.567 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:14.574  INFO 7656 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:14.576  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:14.576  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:08:14.577  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:08:14.577  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:08:14.577  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 02:08:14.577 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:08:14.578 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 02:08:14.582 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 02:08:14.583 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:08:14.583 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 02:08:14.585 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:08:14.586 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:08:14.586 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 02:08:14.589 DEBUG 7656 --- [http-nio-8086-exec-6] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:08:14.589  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:08:14.590  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4d97c126,{}>
2018-07-25 02:08:14.590  INFO 7656 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : SPEND:14
2018-07-25 02:08:27.248  INFO 7656 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 02:08:27.249 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 02:08:27.250 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 02:08:27.253 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 02:08:27.259  INFO 7656 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 02:08:27.260  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 02:08:27.260  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 02:08:27.261  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 02:08:27.261  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 02:08:27.261  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-10, 3]
2018-07-25 02:08:27.261 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 02:08:27.262 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 3(Integer), 2018-07-10(Date)
2018-07-25 02:08:27.264 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 1
2018-07-25 02:08:27.264 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 02:08:27.265 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 3(Integer)
2018-07-25 02:08:27.267 DEBUG 7656 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 02:08:27.268  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 02:08:27.268  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4cd3ce33,{}>
2018-07-25 02:08:27.268  INFO 7656 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:8
2018-07-25 10:18:28.262  INFO 6288 --- [main] com.yy.hospital.HospitalApplication      : Starting HospitalApplication on 2016-20161105NU with PID 6288 (D:\IdeaProject\hospital-jwt\hospital\hospital\target\classes started by Administrator in D:\IdeaProject\hospital-jwt\hospital\hospital)
2018-07-25 10:18:28.262  INFO 6288 --- [main] com.yy.hospital.HospitalApplication      : No active profile set, falling back to default profiles: default
2018-07-25 10:18:28.309  INFO 6288 --- [main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 10:18:28 CST 2018]; root of context hierarchy
2018-07-25 10:18:29.323  INFO 6288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 10:18:29.354  INFO 6288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-07-25 10:18:29.853  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3bd670e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.040  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d484391c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.056  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.056  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@44f3fe83' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.071  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f958dbce] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.087  INFO 6288 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-07-25 10:18:30.477  INFO 6288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
2018-07-25 10:18:30.493  INFO 6288 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-07-25 10:18:30.493  INFO 6288 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.31
2018-07-25 10:18:30.508  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.14] using APR version [1.6.2].
2018-07-25 10:18:30.508  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2018-07-25 10:18:30.508  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2018-07-25 10:18:31.538  INFO 6288 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.0.2l  25 May 2017]
2018-07-25 10:18:31.663  INFO 6288 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-07-25 10:18:31.663  INFO 6288 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3354 ms
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2018-07-25 10:18:31.865  INFO 6288 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/auth', POST], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/*.html', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/favicon.ico', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.html', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.css', GET], []
2018-07-25 10:18:32.817  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/*.js', GET], []
2018-07-25 10:18:32.911  INFO 6288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fdab70c, org.springframework.security.web.context.SecurityContextPersistenceFilter@255eaa6b, org.springframework.security.web.header.HeaderWriterFilter@3968bc60, org.springframework.web.filter.CorsFilter@1ecdba46, org.springframework.security.web.authentication.logout.LogoutFilter@e57e5d6, com.yy.hospital.security.JwtAuthenticationTokenFilter@25ad4f71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a0e7ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@122d6c22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49faf066, org.springframework.security.web.session.SessionManagementFilter@2849434b, org.springframework.security.web.access.ExceptionTranslationFilter@6403e24c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77bbadc]
2018-07-25 10:18:33.020  INFO 6288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 10:18:33.347  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@43bc63a3: startup date [Wed Jul 25 10:18:28 CST 2018]; root of context hierarchy
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/adminschangestate],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.adminschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/changepwd],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.resetPasswrod(javax.servlet.http.HttpServletRequest,java.lang.String,java.lang.String)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins/{state}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.findByState(java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/admins],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.AdminsController.addAdmins(com.yy.hospital.domain.Admins)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/bookabledepartdoctor],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(java.sql.Date,java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[GET]}" onto public java.util.List<com.yy.hospital.domain.Departs> com.yy.hospital.controller.DepartsController.displayAllDeparts()
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.departschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.updateDeparts(com.yy.hospital.domain.Departs)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departsdeexist],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Departs>> com.yy.hospital.controller.DepartsController.findList()
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/departs],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DepartsController.insertDeparts(com.yy.hospital.domain.Departs)
2018-07-25 10:18:33.410  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctorschangestate],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.doctorschangestate(java.lang.Integer,java.lang.Integer)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors/{doid:\d+}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.yy.hospital.domain.DrAndAdmins> com.yy.hospital.controller.DoctorsController.findOneDr(int)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.yy.hospital.domain.Doctors>> com.yy.hospital.controller.DoctorsController.findAllDr()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[POST]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.insertDr(com.yy.hospital.domain.DrAndAdmins)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/doctors],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Integer>> com.yy.hospital.controller.DoctorsController.updateDrById(com.yy.hospital.domain.Doctors)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/testError]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.GlobalController.testError() throws com.yy.hospital.exception.HospitalException
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/booksdepart],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.booksdepart()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/drawDept]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.controller.RegistrationController.drawDept()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/auth],methods=[POST]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.createAuthenticationToken(com.yy.hospital.security.domain.JwtAuthenticationRequest) throws com.yy.hospital.security.domain.AuthenticationException
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/refresh],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.AuthenticationRestController.refreshAndGetAuthenticationToken(javax.servlet.http.HttpServletRequest)
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protectedadmin],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedAdmin()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/protecteduser],methods=[GET]}" onto public org.springframework.http.ResponseEntity<?> com.yy.hospital.security.controller.MethodProtectedRestController.getProtectedUser()
2018-07-25 10:18:33.425  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/user],methods=[GET]}" onto public com.yy.hospital.security.domain.JwtUser com.yy.hospital.security.controller.UserRestController.getAuthenticatedUser(javax.servlet.http.HttpServletRequest)
2018-07-25 10:18:33.441  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-07-25 10:18:33.441  INFO 6288 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-07-25 10:18:33.488  INFO 6288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 10:18:33.488  INFO 6288 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-07-25 10:18:33.503  INFO 6288 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in exceptionController
2018-07-25 10:18:35.890  INFO 6288 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-07-25 10:18:36.608  INFO 6288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-07-25 10:18:36.608  INFO 6288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'dataSource' has been autodetected for JMX exposure
2018-07-25 10:18:36.608  INFO 6288 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-07-25 10:18:36.655  INFO 6288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
2018-07-25 10:18:36.655  INFO 6288 --- [main] com.yy.hospital.HospitalApplication      : Started HospitalApplication in 8.847 seconds (JVM running for 11.634)
2018-07-25 10:18:36.967  INFO 6288 --- [cluster-ClusterId{value='5b57ddfb622a651890a842dd', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_161]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_161]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_161]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_161]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_161]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_161]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-07-25 10:27:29.686  INFO 6288 --- [http-nio-8086-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-07-25 10:27:29.686  INFO 6288 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-07-25 10:27:29.735  INFO 6288 --- [http-nio-8086-exec-4] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 49 ms
2018-07-25 10:27:29.782  WARN 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : couldn't find bearer string, will ignore the header
2018-07-25 10:27:29.782  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user null
2018-07-25 10:27:30.042  INFO 6288 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2018-07-25 10:27:30.202  INFO 6288 --- [http-nio-8086-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2018-07-25 10:27:30.207 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.225 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.252 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.368 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.368 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.368 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.760  INFO 6288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:30.760  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.763 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:30.765 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.768 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:30.770  INFO 6288 --- [http-nio-8086-exec-10] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:30.773  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/drawDept
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/booksdepart
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 10:27:30.775  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.drawDept
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.RegistrationController.booksdepart
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 10:27:30.778  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 10:27:30.793 DEBUG 6288 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 10:27:30.798 DEBUG 6288 --- [http-nio-8086-exec-10] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 10:27:30.800 DEBUG 6288 --- [http-nio-8086-exec-9] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.803 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.810 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.813 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.815 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.818 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 1(Integer)
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.820 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.823 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.825 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.828 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.828 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.830 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.830 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.830 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.833 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 2(Integer)
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.835 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.838 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.840 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.843 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 3(Integer)
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.845 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.848 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.850 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 4(Integer)
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.853 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.855 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.858 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.860 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 5(Integer)
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.863 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.865 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.868 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.870 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 6(Integer)
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.873 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.875 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.878 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 7(Integer)
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.880 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.883 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and YEARWEEK(date_format(bdate,'%Y-%m-%d')) = YEARWEEK(now()) 
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and date_format(bdate,'%Y%m') = date_format(curdate(),'%Y%m') 
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.885 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.mapper.RegistrationMapper.getWeek  : <==      Total: 1
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getMonth      : <==      Total: 1
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(now()) - to_days(bdate) = 1 
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and QUARTER(bdate)=QUARTER(now()) 
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.RegistrationMapper.getQuarter    : <==      Total: 1
2018-07-25 10:27:30.888 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getYestoday   : <==      Total: 1
2018-07-25 10:27:30.890 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==>  Preparing: SELECT count(rid) from registration r join bookable b ON r.bid=b.bid join doctors d on b.doid=d.doid JOIN departs de on d.deid=de.deid WHERE de.deid=? and to_days(bdate) = to_days(now()) 
2018-07-25 10:27:30.890 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : ==> Parameters: 8(Integer)
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.DepartBooks@3b0727c,{}>
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:115
2018-07-25 10:27:30.890 DEBUG 6288 --- [http-nio-8086-exec-10] c.y.h.m.RegistrationMapper.getToday      : <==      Total: 1
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,{seriesList=[{data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=内科, id=1}, {data=[[本季度, 5], [本月, 5], [本周, 0], [昨天, 0], [今天, 0]], name=外科, id=2}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=儿科, id=3}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=妇科, id=4}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=眼科, id=5}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=耳鼻喉科, id=6}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=口腔科, id=7}, {data=[[本季度, 4], [本月, 4], [本周, 0], [昨天, 0], [今天, 0]], name=皮肤科, id=8}], dataList=[{drilldown=1, name=内科, y=5}, {drilldown=2, name=外科, y=5}, {drilldown=3, name=儿科, y=4}, {drilldown=4, name=妇科, y=4}, {drilldown=5, name=眼科, y=4}, {drilldown=6, name=耳鼻喉科, y=4}, {drilldown=7, name=口腔科, y=4}, {drilldown=8, name=皮肤科, y=4}]},{}>
2018-07-25 10:27:30.890  INFO 6288 --- [http-nio-8086-exec-10] com.yy.hospital.controller.WebLogAspect  : SPEND:115
2018-07-25 10:27:31.130  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:31.133 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:31.133 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:31.135 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:31.138  INFO 6288 --- [http-nio-8086-exec-2] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:31.138 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:31.138 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:31.138 DEBUG 6288 --- [http-nio-8086-exec-2] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:34.517  INFO 6288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:34.517 DEBUG 6288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:34.517 DEBUG 6288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:34.520 DEBUG 6288 --- [http-nio-8086-exec-3] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/departsdeexist
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : METHOD:GET
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.DepartsController.findList
2018-07-25 10:27:34.527  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : ARGS:[]
2018-07-25 10:27:34.530 DEBUG 6288 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==>  Preparing: select * from departs where deexist=1 
2018-07-25 10:27:34.530 DEBUG 6288 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : ==> Parameters: 
2018-07-25 10:27:34.532 DEBUG 6288 --- [http-nio-8086-exec-3] c.yy.hospital.mapper.DepartsMapper.find  : <==      Total: 8
2018-07-25 10:27:34.532  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:34.532  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,[com.yy.hospital.domain.Departs@2e2388b3, com.yy.hospital.domain.Departs@103f3c1d, com.yy.hospital.domain.Departs@487d7a3, com.yy.hospital.domain.Departs@7850092e, com.yy.hospital.domain.Departs@4a846087, com.yy.hospital.domain.Departs@2332621e, com.yy.hospital.domain.Departs@19329314, com.yy.hospital.domain.Departs@6153f065],{}>
2018-07-25 10:27:34.532  INFO 6288 --- [http-nio-8086-exec-3] com.yy.hospital.controller.WebLogAspect  : SPEND:5
2018-07-25 10:27:34.555  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:34.555 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:34.555 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:34.557 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:34.565  INFO 6288 --- [http-nio-8086-exec-5] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:34.570  INFO 6288 --- [http-nio-8086-exec-5] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-25, 1]
2018-07-25 10:27:34.572 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:34.572 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 1(Integer), 2018-07-25(Date)
2018-07-25 10:27:34.575 DEBUG 6288 --- [http-nio-8086-exec-5] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 10:27:34.582 ERROR 6288 --- [http-nio-8086-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 10:27:38.924  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:38.929 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:38.929 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:38.934 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:38.947  INFO 6288 --- [http-nio-8086-exec-6] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:38.949  INFO 6288 --- [http-nio-8086-exec-6] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-24, 4]
2018-07-25 10:27:38.949 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:38.952 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-24(Date)
2018-07-25 10:27:38.952 DEBUG 6288 --- [http-nio-8086-exec-6] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 0
2018-07-25 10:27:38.954 ERROR 6288 --- [http-nio-8086-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ArrayIndexOutOfBoundsException: 0] with root cause

java.lang.ArrayIndexOutOfBoundsException: 0
	at com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid(BookableController.java:57) ~[classes/:na]
	at com.yy.hospital.controller.BookableController$$FastClassBySpringCGLIB$$8e66711e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:52) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at com.yy.hospital.controller.BookableController$$EnhancerBySpringCGLIB$$d4d690e6.findBookableByBdateAdDoid(<generated>) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at com.yy.hospital.security.JwtAuthenticationTokenFilter.doFilterInternal(JwtAuthenticationTokenFilter.java:81) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.7.RELEASE.jar:5.0.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_161]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_161]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]

2018-07-25 10:27:44.661  INFO 6288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:44.664 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:44.664 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:44.669 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:44.676  INFO 6288 --- [http-nio-8086-exec-8] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:44.679  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 4]
2018-07-25 10:27:44.681 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:44.681 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 4(Integer), 2018-07-17(Date)
2018-07-25 10:27:44.686 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 5
2018-07-25 10:27:44.689 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 10:27:44.689 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 4(Integer)
2018-07-25 10:27:44.694 DEBUG 6288 --- [http-nio-8086-exec-8] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 10:27:44.696  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:44.696  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@aec7fb6,{}>
2018-07-25 10:27:44.696  INFO 6288 --- [http-nio-8086-exec-8] com.yy.hospital.controller.WebLogAspect  : SPEND:17
2018-07-25 10:27:53.462  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : checking authentication for user admin
2018-07-25 10:27:53.469 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==>  Preparing: select ad.aid,ad.aname,ad.pwd,ad.state,ad.aexist,ad.email,ad.login_time,ad.lastPasswordResetDate,au.id,au.name from admins ad,AUTHORITY au,USER_AUTHORITY ua where ad.aexist=1 and ad.aname=? and ad.aid = ua.USER_ID and ua.AUTHORITY_ID = au.id 
2018-07-25 10:27:53.472 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : ==> Parameters: admin(String)
2018-07-25 10:27:53.477 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.AdminsMapper.findByName     : <==      Total: 2
2018-07-25 10:27:53.487  INFO 6288 --- [http-nio-8086-exec-9] c.y.h.s.JwtAuthenticationTokenFilter     : authenticated user admin, setting security context
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 前置通知：
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : URL:http://127.0.0.1:8086/api/bookabledepartdoctor
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : METHOD:POST
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : CLASS_METHOD:com.yy.hospital.controller.BookableController.findBookableByBdateAdDoid
2018-07-25 10:27:53.489  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : ARGS:[2018-07-17, 5]
2018-07-25 10:27:53.489 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==>  Preparing: select doid,starttime,bdate from bookable b join (select doid ddoid from doctors where deid = ?) d on b.doid =d.ddoid and YEARWEEK(bdate,1) = YEARWEEK(?,1) order BY b.doid asc ,bdate asc; 
2018-07-25 10:27:53.489 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : ==> Parameters: 5(Integer), 2018-07-17(Date)
2018-07-25 10:27:53.497 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.m.B.findBookableByBdateAdDoid      : <==      Total: 6
2018-07-25 10:27:53.497 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 10:27:53.497 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 5(Integer)
2018-07-25 10:27:53.499 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 10:27:53.502 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==>  Preparing: select * from doctors where doid=? 
2018-07-25 10:27:53.502 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : ==> Parameters: 21(Integer)
2018-07-25 10:27:53.504 DEBUG 6288 --- [http-nio-8086-exec-9] c.y.h.mapper.DoctorsMapper.findByDoid    : <==      Total: 1
2018-07-25 10:27:53.504  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : 后置通知：
2018-07-25 10:27:53.504  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : RESPONSE:<200 OK,com.yy.hospital.domain.WeekBookable@4c3092cd,{}>
2018-07-25 10:27:53.504  INFO 6288 --- [http-nio-8086-exec-9] com.yy.hospital.controller.WebLogAspect  : SPEND:15
